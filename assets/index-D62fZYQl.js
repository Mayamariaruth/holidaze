import{r as Tc,a as Lc,g as Wo,R as B,b as w,L as de,u as Ro,c as Gr,d as Dc,e as Ec,N as sr,O as Ac,f as Ic,h as Kt,H as Bc}from"./router-BJYbNub5.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();var yo={exports:{}},Bn={};var rr;function zc(){if(rr)return Bn;rr=1;var t=Tc(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,g){var v,_={},k=null,b=null;g!==void 0&&(k=""+g),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(b=m.ref);for(v in m)s.call(m,v)&&!u.hasOwnProperty(v)&&(_[v]=m[v]);if(f&&f.defaultProps)for(v in m=f.defaultProps,m)_[v]===void 0&&(_[v]=m[v]);return{$$typeof:i,type:f,key:k,ref:b,props:_,_owner:a.current}}return Bn.Fragment=o,Bn.jsx=h,Bn.jsxs=h,Bn}var ar;function Wc(){return ar||(ar=1,yo.exports=zc()),yo.exports}var c=Wc(),Mi={},lr;function Rc(){if(lr)return Mi;lr=1;var t=Lc();return Mi.createRoot=t.createRoot,Mi.hydrateRoot=t.hydrateRoot,Mi}var Fc=Rc(),Zn={exports:{}};var Zc=Zn.exports,cr;function Hc(){return cr||(cr=1,(function(t,i){(function(o,s){s(i)})(Zc,(function(o){var s="1.9.4";function a(e){var n,r,l,d;for(r=1,l=arguments.length;r<l;r++){d=arguments[r];for(n in d)e[n]=d[n]}return e}var u=Object.create||(function(){function e(){}return function(n){return e.prototype=n,new e}})();function h(e,n){var r=Array.prototype.slice;if(e.bind)return e.bind.apply(e,r.call(arguments,1));var l=r.call(arguments,2);return function(){return e.apply(n,l.length?l.concat(r.call(arguments)):arguments)}}var f=0;function m(e){return"_leaflet_id"in e||(e._leaflet_id=++f),e._leaflet_id}function g(e,n,r){var l,d,p,x;return x=function(){l=!1,d&&(p.apply(r,d),d=!1)},p=function(){l?d=arguments:(e.apply(r,arguments),setTimeout(x,n),l=!0)},p}function v(e,n,r){var l=n[1],d=n[0],p=l-d;return e===l&&r?e:((e-d)%p+p)%p+d}function _(){return!1}function k(e,n){if(n===!1)return e;var r=Math.pow(10,n===void 0?6:n);return Math.round(e*r)/r}function b(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function N(e){return b(e).split(/\s+/)}function P(e,n){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?u(e.options):{});for(var r in n)e.options[r]=n[r];return e.options}function y(e,n,r){var l=[];for(var d in e)l.push(encodeURIComponent(r?d.toUpperCase():d)+"="+encodeURIComponent(e[d]));return(!n||n.indexOf("?")===-1?"?":"&")+l.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function E(e,n){return e.replace(S,function(r,l){var d=n[l];if(d===void 0)throw new Error("No value provided for variable "+r);return typeof d=="function"&&(d=d(n)),d})}var T=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function O(e,n){for(var r=0;r<e.length;r++)if(e[r]===n)return r;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var z=0;function A(e){var n=+new Date,r=Math.max(0,16-(n-z));return z=n+r,window.setTimeout(e,r)}var F=window.requestAnimationFrame||D("RequestAnimationFrame")||A,U=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Z(e,n,r){if(r&&F===A)e.call(n);else return F.call(window,h(e,n))}function q(e){e&&U.call(window,e)}var K={__proto__:null,extend:a,create:u,bind:h,get lastId(){return f},stamp:m,throttle:g,wrapNum:v,falseFn:_,formatNum:k,trim:b,splitWords:N,setOptions:P,getParamString:y,template:E,isArray:T,indexOf:O,emptyImageUrl:j,requestFn:F,cancelFn:U,requestAnimFrame:Z,cancelAnimFrame:q};function te(){}te.extend=function(e){var n=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,l=u(r);l.constructor=n,n.prototype=l;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(n[d]=this[d]);return e.statics&&a(n,e.statics),e.includes&&(ve(e.includes),a.apply(null,[l].concat(e.includes))),a(l,e),delete l.statics,delete l.includes,l.options&&(l.options=r.options?u(r.options):{},a(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,x=l._initHooks.length;p<x;p++)l._initHooks[p].call(this)}},n},te.include=function(e){var n=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},te.mergeOptions=function(e){return a(this.prototype.options,e),this},te.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),r=typeof e=="function"?e:function(){this[e].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function ve(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=T(e)?e:[e];for(var n=0;n<e.length;n++)e[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(e,n,r){if(typeof e=="object")for(var l in e)this._on(l,e[l],n);else{e=N(e);for(var d=0,p=e.length;d<p;d++)this._on(e[d],n,r)}return this},off:function(e,n,r){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var l in e)this._off(l,e[l],n);else{e=N(e);for(var d=arguments.length===1,p=0,x=e.length;p<x;p++)d?this._off(e[p]):this._off(e[p],n,r)}return this},_on:function(e,n,r,l){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(e,n,r)===!1){r===this&&(r=void 0);var d={fn:n,ctx:r};l&&(d.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(d)}},_off:function(e,n,r){var l,d,p;if(this._events&&(l=this._events[e],!!l)){if(arguments.length===1){if(this._firingCount)for(d=0,p=l.length;d<p;d++)l[d].fn=_;delete this._events[e];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var x=this._listens(e,n,r);if(x!==!1){var C=l[x];this._firingCount&&(C.fn=_,this._events[e]=l=l.slice()),l.splice(x,1)}}},fire:function(e,n,r){if(!this.listens(e,r))return this;var l=a({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var d=this._events[e];if(d){this._firingCount=this._firingCount+1||1;for(var p=0,x=d.length;p<x;p++){var C=d[p],M=C.fn;C.once&&this.off(e,M,C.ctx),M.call(C.ctx||this,l)}this._firingCount--}}return r&&this._propagateEvent(l),this},listens:function(e,n,r,l){typeof e!="string"&&console.warn('"string" type argument expected');var d=n;typeof n!="function"&&(l=!!n,d=void 0,r=void 0);var p=this._events&&this._events[e];if(p&&p.length&&this._listens(e,d,r)!==!1)return!0;if(l){for(var x in this._eventParents)if(this._eventParents[x].listens(e,n,r,l))return!0}return!1},_listens:function(e,n,r){if(!this._events)return!1;var l=this._events[e]||[];if(!n)return!!l.length;r===this&&(r=void 0);for(var d=0,p=l.length;d<p;d++)if(l[d].fn===n&&l[d].ctx===r)return d;return!1},once:function(e,n,r){if(typeof e=="object")for(var l in e)this._on(l,e[l],n,!0);else{e=N(e);for(var d=0,p=e.length;d<p;d++)this._on(e[d],n,r,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[m(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[m(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var ye=te.extend(re);function G(e,n,r){this.x=r?Math.round(e):e,this.y=r?Math.round(n):n}var pe=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(e){return this.clone()._add(W(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(W(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new G(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new G(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(e){e=W(e);var n=e.x-this.x,r=e.y-this.y;return Math.sqrt(n*n+r*r)},equals:function(e){return e=W(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=W(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function W(e,n,r){return e instanceof G?e:T(e)?new G(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new G(e.x,e.y):new G(e,n,r)}function ne(e,n){if(e)for(var r=n?[e,n]:e,l=0,d=r.length;l<d;l++)this.extend(r[l])}ne.prototype={extend:function(e){var n,r;if(!e)return this;if(e instanceof G||typeof e[0]=="number"||"x"in e)n=r=W(e);else if(e=_e(e),n=e.min,r=e.max,!n||!r)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=r.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(e){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,r;return typeof e[0]=="number"||e instanceof G?e=W(e):e=_e(e),e instanceof ne?(n=e.min,r=e.max):n=r=e,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y},intersects:function(e){e=_e(e);var n=this.min,r=this.max,l=e.min,d=e.max,p=d.x>=n.x&&l.x<=r.x,x=d.y>=n.y&&l.y<=r.y;return p&&x},overlaps:function(e){e=_e(e);var n=this.min,r=this.max,l=e.min,d=e.max,p=d.x>n.x&&l.x<r.x,x=d.y>n.y&&l.y<r.y;return p&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var n=this.min,r=this.max,l=Math.abs(n.x-r.x)*e,d=Math.abs(n.y-r.y)*e;return _e(W(n.x-l,n.y-d),W(r.x+l,r.y+d))},equals:function(e){return e?(e=_e(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function _e(e,n){return!e||e instanceof ne?e:new ne(e,n)}function xe(e,n){if(e)for(var r=n?[e,n]:e,l=0,d=r.length;l<d;l++)this.extend(r[l])}xe.prototype={extend:function(e){var n=this._southWest,r=this._northEast,l,d;if(e instanceof Q)l=e,d=e;else if(e instanceof xe){if(l=e._southWest,d=e._northEast,!l||!d)return this}else return e?this.extend(X(e)||he(e)):this;return!n&&!r?(this._southWest=new Q(l.lat,l.lng),this._northEast=new Q(d.lat,d.lng)):(n.lat=Math.min(l.lat,n.lat),n.lng=Math.min(l.lng,n.lng),r.lat=Math.max(d.lat,r.lat),r.lng=Math.max(d.lng,r.lng)),this},pad:function(e){var n=this._southWest,r=this._northEast,l=Math.abs(n.lat-r.lat)*e,d=Math.abs(n.lng-r.lng)*e;return new xe(new Q(n.lat-l,n.lng-d),new Q(r.lat+l,r.lng+d))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof Q||"lat"in e?e=X(e):e=he(e);var n=this._southWest,r=this._northEast,l,d;return e instanceof xe?(l=e.getSouthWest(),d=e.getNorthEast()):l=d=e,l.lat>=n.lat&&d.lat<=r.lat&&l.lng>=n.lng&&d.lng<=r.lng},intersects:function(e){e=he(e);var n=this._southWest,r=this._northEast,l=e.getSouthWest(),d=e.getNorthEast(),p=d.lat>=n.lat&&l.lat<=r.lat,x=d.lng>=n.lng&&l.lng<=r.lng;return p&&x},overlaps:function(e){e=he(e);var n=this._southWest,r=this._northEast,l=e.getSouthWest(),d=e.getNorthEast(),p=d.lat>n.lat&&l.lat<r.lat,x=d.lng>n.lng&&l.lng<r.lng;return p&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,n){return e?(e=he(e),this._southWest.equals(e.getSouthWest(),n)&&this._northEast.equals(e.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(e,n){return e instanceof xe?e:new xe(e,n)}function Q(e,n,r){if(isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=+e,this.lng=+n,r!==void 0&&(this.alt=+r)}Q.prototype={equals:function(e,n){if(!e)return!1;e=X(e);var r=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return r<=(n===void 0?1e-9:n)},toString:function(e){return"LatLng("+k(this.lat,e)+", "+k(this.lng,e)+")"},distanceTo:function(e){return Me.distance(this,X(e))},wrap:function(){return Me.wrapLatLng(this)},toBounds:function(e){var n=180*e/40075017,r=n/Math.cos(Math.PI/180*this.lat);return he([this.lat-n,this.lng-r],[this.lat+n,this.lng+r])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};function X(e,n,r){return e instanceof Q?e:T(e)&&typeof e[0]!="object"?e.length===3?new Q(e[0],e[1],e[2]):e.length===2?new Q(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new Q(e.lat,"lng"in e?e.lng:e.lon,e.alt):n===void 0?null:new Q(e,n,r)}var Oe={latLngToPoint:function(e,n){var r=this.projection.project(e),l=this.scale(n);return this.transformation._transform(r,l)},pointToLatLng:function(e,n){var r=this.scale(n),l=this.transformation.untransform(e,r);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var n=this.projection.bounds,r=this.scale(e),l=this.transformation.transform(n.min,r),d=this.transformation.transform(n.max,r);return new ne(l,d)},infinite:!1,wrapLatLng:function(e){var n=this.wrapLng?v(e.lng,this.wrapLng,!0):e.lng,r=this.wrapLat?v(e.lat,this.wrapLat,!0):e.lat,l=e.alt;return new Q(r,n,l)},wrapLatLngBounds:function(e){var n=e.getCenter(),r=this.wrapLatLng(n),l=n.lat-r.lat,d=n.lng-r.lng;if(l===0&&d===0)return e;var p=e.getSouthWest(),x=e.getNorthEast(),C=new Q(p.lat-l,p.lng-d),M=new Q(x.lat-l,x.lng-d);return new xe(C,M)}},Me=a({},Oe,{wrapLng:[-180,180],R:6371e3,distance:function(e,n){var r=Math.PI/180,l=e.lat*r,d=n.lat*r,p=Math.sin((n.lat-e.lat)*r/2),x=Math.sin((n.lng-e.lng)*r/2),C=p*p+Math.cos(l)*Math.cos(d)*x*x,M=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*M}}),ft=6378137,Qe={R:ft,MAX_LATITUDE:85.0511287798,project:function(e){var n=Math.PI/180,r=this.MAX_LATITUDE,l=Math.max(Math.min(r,e.lat),-r),d=Math.sin(l*n);return new G(this.R*e.lng*n,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(e){var n=180/Math.PI;return new Q((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*n,e.x*n/this.R)},bounds:(function(){var e=ft*Math.PI;return new ne([-e,-e],[e,e])})()};function mt(e,n,r,l){if(T(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=n,this._c=r,this._d=l}mt.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new G((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}};function pt(e,n,r,l){return new mt(e,n,r,l)}var Ct=a({},Me,{code:"EPSG:3857",projection:Qe,transformation:(function(){var e=.5/(Math.PI*Qe.R);return pt(e,.5,-e,.5)})()}),bn=a({},Ct,{code:"EPSG:900913"});function Wt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Rt(e,n){var r="",l,d,p,x,C,M;for(l=0,p=e.length;l<p;l++){for(C=e[l],d=0,x=C.length;d<x;d++)M=C[d],r+=(d?"L":"M")+M.x+" "+M.y;r+=n?H.svg?"z":"x":""}return r||"M0 0"}var Mt=document.documentElement.style,St="ActiveXObject"in window,wn=St&&!document.addEventListener,Ze="msLaunchUri"in navigator&&!("documentMode"in document),et=tt("webkit"),Ft=tt("android"),Ot=tt("android 2")||tt("android 3"),gt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jt=Ft&&tt("Google")&&gt<537&&!("AudioNode"in window),Tt=!!window.opera,Zt=!Ze&&tt("chrome"),Ht=tt("gecko")&&!et&&!Tt&&!St,Wi=!Zt&&tt("safari"),si=tt("phantom"),ri="OTransition"in Mt,Ri=navigator.platform.indexOf("Win")===0,ai=St&&"transition"in Mt,kn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ot,li="MozPerspective"in Mt,Fi=!window.L_DISABLE_3D&&(ai||kn||li)&&!ri&&!si,Lt=typeof orientation<"u"||tt("mobile"),Zi=Lt&&et,J=Lt&&kn,ce=!window.PointerEvent&&window.MSPointerEvent,V=!!(window.PointerEvent||ce),ae="ontouchstart"in window||!!window.TouchEvent,Le=!window.L_NO_TOUCH&&(ae||V),se=Lt&&Tt,Hi=Lt&&Ht,Yi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qi=(function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",_,n),window.removeEventListener("testPassiveEventSupport",_,n)}catch{}return e})(),Pn=(function(){return!!document.createElement("canvas").getContext})(),Yt=!!(document.createElementNS&&Wt("svg").createSVGRect),wl=!!Yt&&(function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),kl=!Yt&&(function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}})(),Pl=navigator.platform.indexOf("Mac")===0,Nl=navigator.platform.indexOf("Linux")===0;function tt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var H={ie:St,ielt9:wn,edge:Ze,webkit:et,android:Ft,android23:Ot,androidStock:jt,opera:Tt,chrome:Zt,gecko:Ht,safari:Wi,phantom:si,opera12:ri,win:Ri,ie3d:ai,webkit3d:kn,gecko3d:li,any3d:Fi,mobile:Lt,mobileWebkit:Zi,mobileWebkit3d:J,msPointer:ce,pointer:V,touch:Le,touchNative:ae,mobileOpera:se,mobileGecko:Hi,retina:Yi,passiveEvents:qi,canvas:Pn,svg:Yt,vml:kl,inlineSvg:wl,mac:Pl,linux:Nl},us=H.msPointer?"MSPointerDown":"pointerdown",ds=H.msPointer?"MSPointerMove":"pointermove",hs=H.msPointer?"MSPointerUp":"pointerup",fs=H.msPointer?"MSPointerCancel":"pointercancel",Ui={touchstart:us,touchmove:ds,touchend:hs,touchcancel:fs},ms={touchstart:Tl,touchmove:ci,touchend:ci,touchcancel:ci},tn={},ps=!1;function Cl(e,n,r){return n==="touchstart"&&jl(),ms[n]?(r=ms[n].bind(this,r),e.addEventListener(Ui[n],r,!1),r):(console.warn("wrong event specified:",n),_)}function Ml(e,n,r){if(!Ui[n]){console.warn("wrong event specified:",n);return}e.removeEventListener(Ui[n],r,!1)}function Sl(e){tn[e.pointerId]=e}function Ol(e){tn[e.pointerId]&&(tn[e.pointerId]=e)}function gs(e){delete tn[e.pointerId]}function jl(){ps||(document.addEventListener(us,Sl,!0),document.addEventListener(ds,Ol,!0),document.addEventListener(hs,gs,!0),document.addEventListener(fs,gs,!0),ps=!0)}function ci(e,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var r in tn)n.touches.push(tn[r]);n.changedTouches=[n],e(n)}}function Tl(e,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&je(n),ci(e,n)}function Ll(e){var n={},r,l;for(l in e)r=e[l],n[l]=r&&r.bind?r.bind(e):r;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Dl=200;function El(e,n){e.addEventListener("dblclick",n);var r=0,l;function d(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var x=bs(p);if(!(x.some(function(M){return M instanceof HTMLLabelElement&&M.attributes.for})&&!x.some(function(M){return M instanceof HTMLInputElement||M instanceof HTMLSelectElement}))){var C=Date.now();C-r<=Dl?(l++,l===2&&n(Ll(p))):l=1,r=C}}}return e.addEventListener("click",d),{dblclick:n,simDblclick:d}}function Al(e,n){e.removeEventListener("dblclick",n.dblclick),e.removeEventListener("click",n.simDblclick)}var Gi=hi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Nn=hi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vs=Nn==="webkitTransition"||Nn==="OTransition"?Nn+"End":"transitionend";function _s(e){return typeof e=="string"?document.getElementById(e):e}function Cn(e,n){var r=e.style[n]||e.currentStyle&&e.currentStyle[n];if((!r||r==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);r=l?l[n]:null}return r==="auto"?null:r}function ue(e,n,r){var l=document.createElement(e);return l.className=n||"",r&&r.appendChild(l),l}function be(e){var n=e.parentNode;n&&n.removeChild(e)}function ui(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function nn(e){var n=e.parentNode;n&&n.lastChild!==e&&n.appendChild(e)}function on(e){var n=e.parentNode;n&&n.firstChild!==e&&n.insertBefore(e,n.firstChild)}function Vi(e,n){if(e.classList!==void 0)return e.classList.contains(n);var r=di(e);return r.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(r)}function ie(e,n){if(e.classList!==void 0)for(var r=N(n),l=0,d=r.length;l<d;l++)e.classList.add(r[l]);else if(!Vi(e,n)){var p=di(e);$i(e,(p?p+" ":"")+n)}}function ke(e,n){e.classList!==void 0?e.classList.remove(n):$i(e,b((" "+di(e)+" ").replace(" "+n+" "," ")))}function $i(e,n){e.className.baseVal===void 0?e.className=n:e.className.baseVal=n}function di(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function He(e,n){"opacity"in e.style?e.style.opacity=n:"filter"in e.style&&Il(e,n)}function Il(e,n){var r=!1,l="DXImageTransform.Microsoft.Alpha";try{r=e.filters.item(l)}catch{if(n===1)return}n=Math.round(n*100),r?(r.Enabled=n!==100,r.Opacity=n):e.style.filter+=" progid:"+l+"(opacity="+n+")"}function hi(e){for(var n=document.documentElement.style,r=0;r<e.length;r++)if(e[r]in n)return e[r];return!1}function qt(e,n,r){var l=n||new G(0,0);e.style[Gi]=(H.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(r?" scale("+r+")":"")}function Pe(e,n){e._leaflet_pos=n,H.any3d?qt(e,n):(e.style.left=n.x+"px",e.style.top=n.y+"px")}function Ut(e){return e._leaflet_pos||new G(0,0)}var Mn,Sn,Ki;if("onselectstart"in document)Mn=function(){ee(window,"selectstart",je)},Sn=function(){ge(window,"selectstart",je)};else{var On=hi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mn=function(){if(On){var e=document.documentElement.style;Ki=e[On],e[On]="none"}},Sn=function(){On&&(document.documentElement.style[On]=Ki,Ki=void 0)}}function Xi(){ee(window,"dragstart",je)}function Ji(){ge(window,"dragstart",je)}var fi,Qi;function eo(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(mi(),fi=e,Qi=e.style.outlineStyle,e.style.outlineStyle="none",ee(window,"keydown",mi))}function mi(){fi&&(fi.style.outlineStyle=Qi,fi=void 0,Qi=void 0,ge(window,"keydown",mi))}function ys(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function to(e){var n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}var Bl={__proto__:null,TRANSFORM:Gi,TRANSITION:Nn,TRANSITION_END:vs,get:_s,getStyle:Cn,create:ue,remove:be,empty:ui,toFront:nn,toBack:on,hasClass:Vi,addClass:ie,removeClass:ke,setClass:$i,getClass:di,setOpacity:He,testProp:hi,setTransform:qt,setPosition:Pe,getPosition:Ut,get disableTextSelection(){return Mn},get enableTextSelection(){return Sn},disableImageDrag:Xi,enableImageDrag:Ji,preventOutline:eo,restoreOutline:mi,getSizedParentNode:ys,getScale:to};function ee(e,n,r,l){if(n&&typeof n=="object")for(var d in n)io(e,d,n[d],r);else{n=N(n);for(var p=0,x=n.length;p<x;p++)io(e,n[p],r,l)}return this}var nt="_leaflet_events";function ge(e,n,r,l){if(arguments.length===1)xs(e),delete e[nt];else if(n&&typeof n=="object")for(var d in n)oo(e,d,n[d],r);else if(n=N(n),arguments.length===2)xs(e,function(C){return O(n,C)!==-1});else for(var p=0,x=n.length;p<x;p++)oo(e,n[p],r,l);return this}function xs(e,n){for(var r in e[nt]){var l=r.split(/\d/)[0];(!n||n(l))&&oo(e,l,null,null,r)}}var no={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function io(e,n,r,l){var d=n+m(r)+(l?"_"+m(l):"");if(e[nt]&&e[nt][d])return this;var p=function(C){return r.call(l||e,C||window.event)},x=p;!H.touchNative&&H.pointer&&n.indexOf("touch")===0?p=Cl(e,n,p):H.touch&&n==="dblclick"?p=El(e,p):"addEventListener"in e?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?e.addEventListener(no[n]||n,p,H.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(p=function(C){C=C||window.event,ro(e,C)&&x(C)},e.addEventListener(no[n],p,!1)):e.addEventListener(n,x,!1):e.attachEvent("on"+n,p),e[nt]=e[nt]||{},e[nt][d]=p}function oo(e,n,r,l,d){d=d||n+m(r)+(l?"_"+m(l):"");var p=e[nt]&&e[nt][d];if(!p)return this;!H.touchNative&&H.pointer&&n.indexOf("touch")===0?Ml(e,n,p):H.touch&&n==="dblclick"?Al(e,p):"removeEventListener"in e?e.removeEventListener(no[n]||n,p,!1):e.detachEvent("on"+n,p),e[nt][d]=null}function Gt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function so(e){return io(e,"wheel",Gt),this}function jn(e){return ee(e,"mousedown touchstart dblclick contextmenu",Gt),e._leaflet_disable_click=!0,this}function je(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Vt(e){return je(e),Gt(e),this}function bs(e){if(e.composedPath)return e.composedPath();for(var n=[],r=e.target;r;)n.push(r),r=r.parentNode;return n}function ws(e,n){if(!n)return new G(e.clientX,e.clientY);var r=to(n),l=r.boundingClientRect;return new G((e.clientX-l.left)/r.x-n.clientLeft,(e.clientY-l.top)/r.y-n.clientTop)}var zl=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ks(e){return H.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/zl:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function ro(e,n){var r=n.relatedTarget;if(!r)return!0;try{for(;r&&r!==e;)r=r.parentNode}catch{return!1}return r!==e}var Wl={__proto__:null,on:ee,off:ge,stopPropagation:Gt,disableScrollPropagation:so,disableClickPropagation:jn,preventDefault:je,stop:Vt,getPropagationPath:bs,getMousePosition:ws,getWheelDelta:ks,isExternalTarget:ro,addListener:ee,removeListener:ge},Ps=ye.extend({run:function(e,n,r,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Ut(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(e){var n=+new Date-this._startTime,r=this._duration*1e3;n<r?this._runFrame(this._easeOut(n/r),e):(this._runFrame(1),this._complete())},_runFrame:function(e,n){var r=this._startPos.add(this._offset.multiplyBy(e));n&&r._round(),Pe(this._el,r),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),le=ye.extend({options:{crs:Ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,n){n=P(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(X(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Nn&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,vs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,r){if(n=n===void 0?this._zoom:this._limitZoom(n),e=this._limitCenter(X(e),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=a({animate:r.animate},r.zoom),r.pan=a({animate:r.animate,duration:r.duration},r.pan));var l=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,r.zoom):this._tryAnimatedPan(e,r.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n,r.pan&&r.pan.noMoveStart),this},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=e,this)},zoomIn:function(e,n){return e=e||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,n)},zoomOut:function(e,n){return e=e||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,n)},setZoomAround:function(e,n,r){var l=this.getZoomScale(n),d=this.getSize().divideBy(2),p=e instanceof G?e:this.latLngToContainerPoint(e),x=p.subtract(d).multiplyBy(1-1/l),C=this.containerPointToLatLng(d.add(x));return this.setView(C,n,{zoom:r})},_getBoundsCenterZoom:function(e,n){n=n||{},e=e.getBounds?e.getBounds():he(e);var r=W(n.paddingTopLeft||n.padding||[0,0]),l=W(n.paddingBottomRight||n.padding||[0,0]),d=this.getBoundsZoom(e,!1,r.add(l));if(d=typeof n.maxZoom=="number"?Math.min(n.maxZoom,d):d,d===1/0)return{center:e.getCenter(),zoom:d};var p=l.subtract(r).divideBy(2),x=this.project(e.getSouthWest(),d),C=this.project(e.getNorthEast(),d),M=this.unproject(x.add(C).divideBy(2).add(p),d);return{center:M,zoom:d}},fitBounds:function(e,n){if(e=he(e),!e.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(e,n);return this.setView(r.center,r.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e,n){if(e=W(e).round(),n=n||{},!e.x&&!e.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ps,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){ie(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,r,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,n,r){if(r=r||{},r.animate===!1||!H.any3d)return this.setView(e,n,r);this._stop();var l=this.project(this.getCenter()),d=this.project(e),p=this.getSize(),x=this._zoom;e=X(e),n=n===void 0?x:n;var C=Math.max(p.x,p.y),M=C*this.getZoomScale(x,n),I=d.distanceTo(l)||1,R=1.42,$=R*R;function oe(Ne){var Ci=Ne?-1:1,Mc=Ne?M:C,Sc=M*M-C*C+Ci*$*$*I*I,Oc=2*Mc*$*I,_o=Sc/Oc,or=Math.sqrt(_o*_o+1)-_o,jc=or<1e-9?-18:Math.log(or);return jc}function De(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function Se(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}function qe(Ne){return De(Ne)/Se(Ne)}var Ae=oe(0);function un(Ne){return C*(Se(Ae)/Se(Ae+R*Ne))}function kc(Ne){return C*(Se(Ae)*qe(Ae+R*Ne)-De(Ae))/$}function Pc(Ne){return 1-Math.pow(1-Ne,1.5)}var Nc=Date.now(),nr=(oe(1)-Ae)/R,Cc=r.duration?1e3*r.duration:1e3*nr*.8;function ir(){var Ne=(Date.now()-Nc)/Cc,Ci=Pc(Ne)*nr;Ne<=1?(this._flyToFrame=Z(ir,this),this._move(this.unproject(l.add(d.subtract(l).multiplyBy(kc(Ci)/I)),x),this.getScaleZoom(C/un(Ci),x),{flyTo:!0})):this._move(e,n)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),ir.call(this),this},flyToBounds:function(e,n){var r=this._getBoundsCenterZoom(e,n);return this.flyTo(r.center,r.zoom,n)},setMaxBounds:function(e){return e=he(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var n=this.options.minZoom;return this.options.minZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var n=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,n){this._enforcingBounds=!0;var r=this.getCenter(),l=this._limitCenter(r,this._zoom,he(e));return r.equals(l)||this.panTo(l,n),this._enforcingBounds=!1,this},panInside:function(e,n){n=n||{};var r=W(n.paddingTopLeft||n.padding||[0,0]),l=W(n.paddingBottomRight||n.padding||[0,0]),d=this.project(this.getCenter()),p=this.project(e),x=this.getPixelBounds(),C=_e([x.min.add(r),x.max.subtract(l)]),M=C.getSize();if(!C.contains(p)){this._enforcingBounds=!0;var I=p.subtract(C.getCenter()),R=C.extend(p).getSize().subtract(M);d.x+=I.x<0?-R.x:R.x,d.y+=I.y<0?-R.y:R.y,this.panTo(this.unproject(d),n),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),l=n.divideBy(2).round(),d=r.divideBy(2).round(),p=l.subtract(d);return!p.x&&!p.y?this:(e.animate&&e.pan?this.panBy(p):(e.pan&&this._rawPanBy(p),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=h(this._handleGeolocationResponse,this),r=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,e):navigator.geolocation.getCurrentPosition(n,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var n=e.code,r=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var n=e.coords.latitude,r=e.coords.longitude,l=new Q(n,r),d=l.toBounds(e.coords.accuracy*2),p=this._locateOptions;if(p.setView){var x=this.getBoundsZoom(d);this.setView(l,p.maxZoom?Math.min(x,p.maxZoom):x)}var C={latlng:l,bounds:d,timestamp:e.timestamp};for(var M in e.coords)typeof e.coords[M]=="number"&&(C[M]=e.coords[M]);this.fire("locationfound",C)}},addHandler:function(e,n){if(!n)return this;var r=this[e]=new n(this);return this._handlers.push(r),this.options[e]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)be(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,n){var r="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),l=ue("div",r,n||this._mapPane);return e&&(this._panes[e]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),r=this.unproject(e.getTopRight());return new xe(n,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,r){e=he(e),r=W(r||[0,0]);var l=this.getZoom()||0,d=this.getMinZoom(),p=this.getMaxZoom(),x=e.getNorthWest(),C=e.getSouthEast(),M=this.getSize().subtract(r),I=_e(this.project(C,l),this.project(x,l)).getSize(),R=H.any3d?this.options.zoomSnap:1,$=M.x/I.x,oe=M.y/I.y,De=n?Math.max($,oe):Math.min($,oe);return l=this.getScaleZoom(De,l),R&&(l=Math.round(l/(R/100))*(R/100),l=n?Math.ceil(l/R)*R:Math.floor(l/R)*R),Math.max(d,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,n){var r=this._getTopLeftPoint(e,n);return new ne(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,n){var r=this.options.crs;return n=n===void 0?this._zoom:n,r.scale(e)/r.scale(n)},getScaleZoom:function(e,n){var r=this.options.crs;n=n===void 0?this._zoom:n;var l=r.zoom(e*r.scale(n));return isNaN(l)?1/0:l},project:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(X(e),n)},unproject:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(W(e),n)},layerPointToLatLng:function(e){var n=W(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(X(e))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(X(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(he(e))},distance:function(e,n){return this.options.crs.distance(X(e),X(n))},containerPointToLayerPoint:function(e){return W(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return W(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(W(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(e)))},mouseEventToContainerPoint:function(e){return ws(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=_s(e);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(n,"scroll",this._onScroll,this),this._containerId=m(n)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,ie(e,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=Cn(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pe(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ie(e.markerPane,"leaflet-zoom-hide"),ie(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,n,r){Pe(this._mapPane,new G(0,0));var l=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var d=this._zoom!==n;this._moveStart(d,r)._move(e,n)._moveEnd(d),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,n){return e&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(e,n,r,l){n===void 0&&(n=this._zoom);var d=this._zoom!==n;return this._zoom=n,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?r&&r.pinch&&this.fire("zoom",r):((d||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Pe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[m(this._container)]=this;var n=e?ge:ee;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,n){for(var r=[],l,d=n==="mouseout"||n==="mouseover",p=e.target||e.srcElement,x=!1;p;){if(l=this._targets[m(p)],l&&(n==="click"||n==="preclick")&&this._draggableMoved(l)){x=!0;break}if(l&&l.listens(n,!0)&&(d&&!ro(p,e)||(r.push(l),d))||p===this._container)break;p=p.parentNode}return!r.length&&!x&&!d&&this.listens(n,!0)&&(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var n=e.target||e.srcElement;if(!(!this._loaded||n._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(n))){var r=e.type;r==="mousedown"&&eo(n),this._fireDOMEvent(e,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,r){if(e.type==="click"){var l=a({},e);l.type="preclick",this._fireDOMEvent(l,l.type,r)}var d=this._findEventTargets(e,n);if(r){for(var p=[],x=0;x<r.length;x++)r[x].listens(n,!0)&&p.push(r[x]);d=p.concat(d)}if(d.length){n==="contextmenu"&&je(e);var C=d[0],M={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var I=C.getLatLng&&(!C._radius||C._radius<=10);M.containerPoint=I?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(e),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=I?C.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(x=0;x<d.length;x++)if(d[x].fire(n,M,!0),M.originalEvent._stopped||d[x].options.bubblingMouseEvents===!1&&O(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,{target:this}):this.on("load",e,n),this},_getMapPanePos:function(){return Ut(this._mapPane)||new G(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,n){var r=e&&n!==void 0?this._getNewPixelOrigin(e,n):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,n){var r=this.getSize()._divideBy(2);return this.project(e,n)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,n,r){var l=this._getNewPixelOrigin(r,n);return this.project(e,n)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,n,r){var l=this._getNewPixelOrigin(r,n);return _e([this.project(e.getSouthWest(),n)._subtract(l),this.project(e.getNorthWest(),n)._subtract(l),this.project(e.getSouthEast(),n)._subtract(l),this.project(e.getNorthEast(),n)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,r){if(!r)return e;var l=this.project(e,n),d=this.getSize().divideBy(2),p=new ne(l.subtract(d),l.add(d)),x=this._getBoundsOffset(p,r,n);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?e:this.unproject(l.add(x),n)},_limitOffset:function(e,n){if(!n)return e;var r=this.getPixelBounds(),l=new ne(r.min.add(e),r.max.add(e));return e.add(this._getBoundsOffset(l,n))},_getBoundsOffset:function(e,n,r){var l=_e(this.project(n.getNorthEast(),r),this.project(n.getSouthWest(),r)),d=l.min.subtract(e.min),p=l.max.subtract(e.max),x=this._rebound(d.x,-p.x),C=this._rebound(d.y,-p.y);return new G(x,C)},_rebound:function(e,n){return e+n>0?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),r=this.getMaxZoom(),l=H.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(n,Math.min(r,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var r=this._getCenterOffset(e)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,n),!0)},_createAnimProxy:function(){var e=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(n){var r=Gi,l=this._proxy.style[r];qt(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),l===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),n=this.getZoom();qt(this._proxy,this.project(e,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(n),d=this._getCenterOffset(e)._divideBy(1-1/l);return r.animate!==!0&&!this.getSize().contains(d)?!1:(Z(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(e,n,!0)},this),!0)},_animateZoom:function(e,n,r,l){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=n,ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:n,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rl(e,n){return new le(e,n)}var $e=te.extend({options:{position:"topright"},initialize:function(e){P(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var n=this._container=this.onAdd(e),r=this.getPosition(),l=e._controlCorners[r];return ie(n,"leaflet-control"),r.indexOf("bottom")!==-1?l.insertBefore(n,l.firstChild):l.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Tn=function(e){return new $e(e)};le.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",r=this._controlContainer=ue("div",n+"control-container",this._container);function l(d,p){var x=n+d+" "+n+p;e[d+p]=ue("div",x,r)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)be(this._controlCorners[e]);be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ns=$e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,n,r,l){return r<l?-1:l<r?1:0}},initialize:function(e,n,r){P(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in e)this._addLayer(e[l],l);for(l in n)this._addLayer(n[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return $e.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._map?this._update():this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var n=this._getLayer(m(e));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=ue("div",e),r=this.options.collapsed;n.setAttribute("aria-haspopup",!0),jn(n),so(n);var l=this._section=ue("section",e+"-list");r&&(this._map.on("click",this.collapse,this),ee(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=ue("a",e+"-toggle",n);d.href="#",d.title="Layers",d.setAttribute("role","button"),ee(d,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){je(p),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=ue("div",e+"-base",l),this._separator=ue("div",e+"-separator",l),this._overlaysList=ue("div",e+"-overlays",l),n.appendChild(l)},_getLayer:function(e){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&m(this._layers[n].layer)===e)return this._layers[n]},_addLayer:function(e,n,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:n,overlay:r}),this.options.sortLayers&&this._layers.sort(h(function(l,d){return this.options.sortFunction(l.layer,d.layer,l.name,d.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ui(this._baseLayersList),ui(this._overlaysList),this._layerControlInputs=[];var e,n,r,l,d=0;for(r=0;r<this._layers.length;r++)l=this._layers[r],this._addItem(l),n=n||l.overlay,e=e||!l.overlay,d+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&d>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=n&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var n=this._getLayer(m(e.target)),r=n.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;r&&this._map.fire(r,n)},_createRadioElement:function(e,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=r,l.firstChild},_addItem:function(e){var n=document.createElement("label"),r=this._map.hasLayer(e.layer),l;e.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=r):l=this._createRadioElement("leaflet-base-layers_"+m(this),r),this._layerControlInputs.push(l),l.layerId=m(e.layer),ee(l,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+e.name;var p=document.createElement("span");n.appendChild(p),p.appendChild(l),p.appendChild(d);var x=e.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,n,r,l=[],d=[];this._handlingClick=!0;for(var p=e.length-1;p>=0;p--)n=e[p],r=this._getLayer(n.layerId).layer,n.checked?l.push(r):n.checked||d.push(r);for(p=0;p<d.length;p++)this._map.hasLayer(d[p])&&this._map.removeLayer(d[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,n,r,l=this._map.getZoom(),d=e.length-1;d>=0;d--)n=e[d],r=this._getLayer(n.layerId).layer,n.disabled=r.options.minZoom!==void 0&&l<r.options.minZoom||r.options.maxZoom!==void 0&&l>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,ee(e,"click",je),this.expand();var n=this;setTimeout(function(){ge(e,"click",je),n._preventClick=!1})}}),Fl=function(e,n,r){return new Ns(e,n,r)},ao=$e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",r=ue("div",n+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,n+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,n+"-out",r,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,n,r,l,d){var p=ue("a",r,l);return p.innerHTML=e,p.href="#",p.title=n,p.setAttribute("role","button"),p.setAttribute("aria-label",n),jn(p),ee(p,"click",Vt),ee(p,"click",d,this),ee(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";ke(this._zoomInButton,n),ke(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ie(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ie(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});le.mergeOptions({zoomControl:!0}),le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ao,this.addControl(this.zoomControl))});var Zl=function(e){return new ao(e)},Cs=$e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var n="leaflet-control-scale",r=ue("div",n),l=this.options;return this._addScales(l,n+"-line",r),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),r},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,r){e.metric&&(this._mScale=ue("div",n,r)),e.imperial&&(this._iScale=ue("div",n,r))},_update:function(){var e=this._map,n=e.getSize().y/2,r=e.distance(e.containerPointToLatLng([0,n]),e.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(r)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var n=this._getRoundNum(e),r=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,r,n/e)},_updateImperial:function(e){var n=e*3.2808399,r,l,d;n>5280?(r=n/5280,l=this._getRoundNum(r),this._updateScale(this._iScale,l+" mi",l/r)):(d=this._getRoundNum(n),this._updateScale(this._iScale,d+" ft",d/n))},_updateScale:function(e,n,r){e.style.width=Math.round(this.options.maxWidth*r)+"px",e.innerHTML=n},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),r=e/n;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,n*r}}),Hl=function(e){return new Cs(e)},Yl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',lo=$e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?Yl+" ":"")+"Leaflet</a>"},initialize:function(e){P(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),jn(this._container);for(var n in e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var r=[];this.options.prefix&&r.push(this.options.prefix),e.length&&r.push(e.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});le.mergeOptions({attributionControl:!0}),le.addInitHook(function(){this.options.attributionControl&&new lo().addTo(this)});var ql=function(e){return new lo(e)};$e.Layers=Ns,$e.Zoom=ao,$e.Scale=Cs,$e.Attribution=lo,Tn.layers=Fl,Tn.zoom=Zl,Tn.scale=Hl,Tn.attribution=ql;var it=te.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});it.addTo=function(e,n){return e.addHandler(n,this),this};var Ul={Events:re},Ms=H.touch?"touchstart mousedown":"mousedown",Dt=ye.extend({options:{clickTolerance:3},initialize:function(e,n,r,l){P(this,l),this._element=e,this._dragStartTarget=n||e,this._preventOutline=r},enable:function(){this._enabled||(ee(this._dragStartTarget,Ms,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Dt._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,Ms,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Vi(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Dt._dragging===this&&this.finishDrag();return}if(!(Dt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Dt._dragging=this,this._preventOutline&&eo(this._element),Xi(),Mn(),!this._moving)){this.fire("down");var n=e.touches?e.touches[0]:e,r=ys(this._element);this._startPoint=new G(n.clientX,n.clientY),this._startPos=Ut(this._element),this._parentScale=to(r);var l=e.type==="mousedown";ee(document,l?"mousemove":"touchmove",this._onMove,this),ee(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var n=e.touches&&e.touches.length===1?e.touches[0]:e,r=new G(n.clientX,n.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,je(e),this._moved||(this.fire("dragstart"),this._moved=!0,ie(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Pe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),Ji(),Sn();var n=this._moved&&this._moving;this._moving=!1,Dt._dragging=!1,n&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Ss(e,n,r){var l,d=[1,4,2,8],p,x,C,M,I,R,$,oe;for(p=0,R=e.length;p<R;p++)e[p]._code=$t(e[p],n);for(C=0;C<4;C++){for($=d[C],l=[],p=0,R=e.length,x=R-1;p<R;x=p++)M=e[p],I=e[x],M._code&$?I._code&$||(oe=pi(I,M,$,n,r),oe._code=$t(oe,n),l.push(oe)):(I._code&$&&(oe=pi(I,M,$,n,r),oe._code=$t(oe,n),l.push(oe)),l.push(M));e=l}return e}function Os(e,n){var r,l,d,p,x,C,M,I,R;if(!e||e.length===0)throw new Error("latlngs not passed");Ye(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var $=X([0,0]),oe=he(e),De=oe.getNorthWest().distanceTo(oe.getSouthWest())*oe.getNorthEast().distanceTo(oe.getNorthWest());De<1700&&($=co(e));var Se=e.length,qe=[];for(r=0;r<Se;r++){var Ae=X(e[r]);qe.push(n.project(X([Ae.lat-$.lat,Ae.lng-$.lng])))}for(C=M=I=0,r=0,l=Se-1;r<Se;l=r++)d=qe[r],p=qe[l],x=d.y*p.x-p.y*d.x,M+=(d.x+p.x)*x,I+=(d.y+p.y)*x,C+=x*3;C===0?R=qe[0]:R=[M/C,I/C];var un=n.unproject(W(R));return X([un.lat+$.lat,un.lng+$.lng])}function co(e){for(var n=0,r=0,l=0,d=0;d<e.length;d++){var p=X(e[d]);n+=p.lat,r+=p.lng,l++}return X([n/l,r/l])}var Gl={__proto__:null,clipPolygon:Ss,polygonCenter:Os,centroid:co};function js(e,n){if(!n||!e.length)return e.slice();var r=n*n;return e=Kl(e,r),e=$l(e,r),e}function Ts(e,n,r){return Math.sqrt(Ln(e,n,r,!0))}function Vl(e,n,r){return Ln(e,n,r)}function $l(e,n){var r=e.length,l=typeof Uint8Array<"u"?Uint8Array:Array,d=new l(r);d[0]=d[r-1]=1,uo(e,d,n,0,r-1);var p,x=[];for(p=0;p<r;p++)d[p]&&x.push(e[p]);return x}function uo(e,n,r,l,d){var p=0,x,C,M;for(C=l+1;C<=d-1;C++)M=Ln(e[C],e[l],e[d],!0),M>p&&(x=C,p=M);p>r&&(n[x]=1,uo(e,n,r,l,x),uo(e,n,r,x,d))}function Kl(e,n){for(var r=[e[0]],l=1,d=0,p=e.length;l<p;l++)Xl(e[l],e[d])>n&&(r.push(e[l]),d=l);return d<p-1&&r.push(e[p-1]),r}var Ls;function Ds(e,n,r,l,d){var p=l?Ls:$t(e,r),x=$t(n,r),C,M,I;for(Ls=x;;){if(!(p|x))return[e,n];if(p&x)return!1;C=p||x,M=pi(e,n,C,r,d),I=$t(M,r),C===p?(e=M,p=I):(n=M,x=I)}}function pi(e,n,r,l,d){var p=n.x-e.x,x=n.y-e.y,C=l.min,M=l.max,I,R;return r&8?(I=e.x+p*(M.y-e.y)/x,R=M.y):r&4?(I=e.x+p*(C.y-e.y)/x,R=C.y):r&2?(I=M.x,R=e.y+x*(M.x-e.x)/p):r&1&&(I=C.x,R=e.y+x*(C.x-e.x)/p),new G(I,R,d)}function $t(e,n){var r=0;return e.x<n.min.x?r|=1:e.x>n.max.x&&(r|=2),e.y<n.min.y?r|=4:e.y>n.max.y&&(r|=8),r}function Xl(e,n){var r=n.x-e.x,l=n.y-e.y;return r*r+l*l}function Ln(e,n,r,l){var d=n.x,p=n.y,x=r.x-d,C=r.y-p,M=x*x+C*C,I;return M>0&&(I=((e.x-d)*x+(e.y-p)*C)/M,I>1?(d=r.x,p=r.y):I>0&&(d+=x*I,p+=C*I)),x=e.x-d,C=e.y-p,l?x*x+C*C:new G(d,p)}function Ye(e){return!T(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Es(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ye(e)}function As(e,n){var r,l,d,p,x,C,M,I;if(!e||e.length===0)throw new Error("latlngs not passed");Ye(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var R=X([0,0]),$=he(e),oe=$.getNorthWest().distanceTo($.getSouthWest())*$.getNorthEast().distanceTo($.getNorthWest());oe<1700&&(R=co(e));var De=e.length,Se=[];for(r=0;r<De;r++){var qe=X(e[r]);Se.push(n.project(X([qe.lat-R.lat,qe.lng-R.lng])))}for(r=0,l=0;r<De-1;r++)l+=Se[r].distanceTo(Se[r+1])/2;if(l===0)I=Se[0];else for(r=0,p=0;r<De-1;r++)if(x=Se[r],C=Se[r+1],d=x.distanceTo(C),p+=d,p>l){M=(p-l)/d,I=[C.x-M*(C.x-x.x),C.y-M*(C.y-x.y)];break}var Ae=n.unproject(W(I));return X([Ae.lat+R.lat,Ae.lng+R.lng])}var Jl={__proto__:null,simplify:js,pointToSegmentDistance:Ts,closestPointOnSegment:Vl,clipSegment:Ds,_getEdgeIntersection:pi,_getBitCode:$t,_sqClosestPointOnSegment:Ln,isFlat:Ye,_flat:Es,polylineCenter:As},ho={project:function(e){return new G(e.lng,e.lat)},unproject:function(e){return new Q(e.y,e.x)},bounds:new ne([-180,-90],[180,90])},fo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var n=Math.PI/180,r=this.R,l=e.lat*n,d=this.R_MINOR/r,p=Math.sqrt(1-d*d),x=p*Math.sin(l),C=Math.tan(Math.PI/4-l/2)/Math.pow((1-x)/(1+x),p/2);return l=-r*Math.log(Math.max(C,1e-10)),new G(e.lng*n*r,l)},unproject:function(e){for(var n=180/Math.PI,r=this.R,l=this.R_MINOR/r,d=Math.sqrt(1-l*l),p=Math.exp(-e.y/r),x=Math.PI/2-2*Math.atan(p),C=0,M=.1,I;C<15&&Math.abs(M)>1e-7;C++)I=d*Math.sin(x),I=Math.pow((1-I)/(1+I),d/2),M=Math.PI/2-2*Math.atan(p*I)-x,x+=M;return new Q(x*n,e.x*n/r)}},Ql={__proto__:null,LonLat:ho,Mercator:fo,SphericalMercator:Qe},ec=a({},Me,{code:"EPSG:3395",projection:fo,transformation:(function(){var e=.5/(Math.PI*fo.R);return pt(e,.5,-e,.5)})()}),Is=a({},Me,{code:"EPSG:4326",projection:ho,transformation:pt(1/180,1,-1/180,.5)}),tc=a({},Oe,{projection:ho,transformation:pt(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,n){var r=n.lng-e.lng,l=n.lat-e.lat;return Math.sqrt(r*r+l*l)},infinite:!0});Oe.Earth=Me,Oe.EPSG3395=ec,Oe.EPSG3857=Ct,Oe.EPSG900913=bn,Oe.EPSG4326=Is,Oe.Simple=tc;var Ke=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[m(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[m(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var n=e.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var r=this.getEvents();n.on(r,this),this.once("remove",function(){n.off(r,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});le.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var n=m(e);return this._layers[n]?this:(this._layers[n]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var n=m(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return m(e)in this._layers},eachLayer:function(e,n){for(var r in this._layers)e.call(n,this._layers[r]);return this},_addLayers:function(e){e=e?T(e)?e:[e]:[];for(var n=0,r=e.length;n<r;n++)this.addLayer(e[n])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[m(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var n=m(e);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,n=-1/0,r=this._getZoomSpan();for(var l in this._zoomBoundLayers){var d=this._zoomBoundLayers[l].options;e=d.minZoom===void 0?e:Math.min(e,d.minZoom),n=d.maxZoom===void 0?n:Math.max(n,d.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=e===1/0?void 0:e,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var sn=Ke.extend({initialize:function(e,n){P(this,n),this._layers={};var r,l;if(e)for(r=0,l=e.length;r<l;r++)this.addLayer(e[r])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){var n=typeof e=="number"?e:this.getLayerId(e);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),r,l;for(r in this._layers)l=this._layers[r],l[e]&&l[e].apply(l,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,n){for(var r in this._layers)e.call(n,this._layers[r]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return m(e)}}),nc=function(e,n){return new sn(e,n)},vt=sn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),sn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),sn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new xe;for(var n in this._layers){var r=this._layers[n];e.extend(r.getBounds?r.getBounds():r.getLatLng())}return e}}),ic=function(e,n){return new vt(e,n)},rn=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){P(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var r=this._getIconUrl(e);if(!r){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(r,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(l,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(e,n){var r=this.options,l=r[n+"Size"];typeof l=="number"&&(l=[l,l]);var d=W(l),p=W(n==="shadow"&&r.shadowAnchor||r.iconAnchor||d&&d.divideBy(2,!0));e.className="leaflet-marker-"+n+" "+(r.className||""),p&&(e.style.marginLeft=-p.x+"px",e.style.marginTop=-p.y+"px"),d&&(e.style.width=d.x+"px",e.style.height=d.y+"px")},_createImg:function(e,n){return n=n||document.createElement("img"),n.src=e,n},_getIconUrl:function(e){return H.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function oc(e){return new rn(e)}var Dn=rn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Dn.imagePath!="string"&&(Dn.imagePath=this._detectIconPath()),(this.options.imagePath||Dn.imagePath)+rn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var n=function(r,l,d){var p=l.exec(r);return p&&p[d]};return e=n(e,/^url\((['"])?(.+)\1\)$/,2),e&&n(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ue("div","leaflet-default-icon-path",document.body),n=Cn(e,"background-image")||Cn(e,"backgroundImage");if(document.body.removeChild(e),n=this._stripUrl(n),n)return n;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Bs=it.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Dt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ie(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var n=this._marker,r=n._map,l=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,p=Ut(n._icon),x=r.getPixelBounds(),C=r.getPixelOrigin(),M=_e(x.min._subtract(C).add(d),x.max._subtract(C).subtract(d));if(!M.contains(p)){var I=W((Math.max(M.max.x,p.x)-M.max.x)/(x.max.x-M.max.x)-(Math.min(M.min.x,p.x)-M.min.x)/(x.min.x-M.min.x),(Math.max(M.max.y,p.y)-M.max.y)/(x.max.y-M.max.y)-(Math.min(M.min.y,p.y)-M.min.y)/(x.min.y-M.min.y)).multiplyBy(l);r.panBy(I,{animate:!1}),this._draggable._newPos._add(I),this._draggable._startPos._add(I),Pe(n._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Z(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,e)))},_onDrag:function(e){var n=this._marker,r=n._shadow,l=Ut(n._icon),d=n._map.layerPointToLatLng(l);r&&Pe(r,l),n._latlng=d,e.latlng=d,e.oldLatLng=this._oldLatLng,n.fire("move",e).fire("drag",e)},_onDragEnd:function(e){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),gi=Ke.extend({options:{icon:new Dn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,n){P(this,n),this._latlng=X(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var n=this._latlng;return this._latlng=X(e),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=e.icon.createIcon(this._icon),l=!1;r!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(r.title=e.title),r.tagName==="IMG"&&(r.alt=e.alt||"")),ie(r,n),e.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(r,"focus",this._panOnFocus,this);var d=e.icon.createShadow(this._shadow),p=!1;d!==this._shadow&&(this._removeShadow(),p=!0),d&&(ie(d,n),d.alt=""),this._shadow=d,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&p&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&be(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Pe(this._icon,e),this._shadow&&Pe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bs)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bs(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&He(this._icon,e),this._shadow&&He(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var n=this.options.icon.options,r=n.iconSize?W(n.iconSize):W(0,0),l=n.iconAnchor?W(n.iconAnchor):W(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:r.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function sc(e,n){return new gi(e,n)}var Et=Ke.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return P(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vi=Et.extend({options:{fill:!0,radius:10},initialize:function(e,n){P(this,n),this._latlng=X(e),this._radius=this.options.radius},setLatLng:function(e){var n=this._latlng;return this._latlng=X(e),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var n=e&&e.radius||this._radius;return Et.prototype.setStyle.call(this,e),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,n=this._radiusY||e,r=this._clickTolerance(),l=[e+r,n+r];this._pxBounds=new ne(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rc(e,n){return new vi(e,n)}var mo=vi.extend({initialize:function(e,n,r){if(typeof n=="number"&&(n=a({},r,{radius:n})),P(this,n),this._latlng=X(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Et.prototype.setStyle,_project:function(){var e=this._latlng.lng,n=this._latlng.lat,r=this._map,l=r.options.crs;if(l.distance===Me.distance){var d=Math.PI/180,p=this._mRadius/Me.R/d,x=r.project([n+p,e]),C=r.project([n-p,e]),M=x.add(C).divideBy(2),I=r.unproject(M).lat,R=Math.acos((Math.cos(p*d)-Math.sin(n*d)*Math.sin(I*d))/(Math.cos(n*d)*Math.cos(I*d)))/d;(isNaN(R)||R===0)&&(R=p/Math.cos(Math.PI/180*n)),this._point=M.subtract(r.getPixelOrigin()),this._radius=isNaN(R)?0:M.x-r.project([I,e-R]).x,this._radiusY=M.y-x.y}else{var $=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint($).x}this._updateBounds()}});function ac(e,n,r){return new mo(e,n,r)}var _t=Et.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,n){P(this,n),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var n=1/0,r=null,l=Ln,d,p,x=0,C=this._parts.length;x<C;x++)for(var M=this._parts[x],I=1,R=M.length;I<R;I++){d=M[I-1],p=M[I];var $=l(e,d,p,!0);$<n&&(n=$,r=l(e,d,p))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return As(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,n){return n=n||this._defaultShape(),e=X(e),n.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new xe,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var n=[],r=Ye(e),l=0,d=e.length;l<d;l++)r?(n[l]=X(e[l]),this._bounds.extend(n[l])):n[l]=this._convertLatLngs(e[l]);return n},_project:function(){var e=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),n=new G(e,e);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(e,n,r){var l=e[0]instanceof Q,d=e.length,p,x;if(l){for(x=[],p=0;p<d;p++)x[p]=this._map.latLngToLayerPoint(e[p]),r.extend(x[p]);n.push(x)}else for(p=0;p<d;p++)this._projectLatlngs(e[p],n,r)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,r,l,d,p,x,C,M;for(r=0,d=0,p=this._rings.length;r<p;r++)for(M=this._rings[r],l=0,x=M.length;l<x-1;l++)C=Ds(M[l],M[l+1],e,l,!0),C&&(n[d]=n[d]||[],n[d].push(C[0]),(C[1]!==M[l+1]||l===x-2)&&(n[d].push(C[1]),d++))}},_simplifyPoints:function(){for(var e=this._parts,n=this.options.smoothFactor,r=0,l=e.length;r<l;r++)e[r]=js(e[r],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,n){var r,l,d,p,x,C,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,p=this._parts.length;r<p;r++)for(C=this._parts[r],l=0,x=C.length,d=x-1;l<x;d=l++)if(!(!n&&l===0)&&Ts(e,C[d],C[l])<=M)return!0;return!1}});function lc(e,n){return new _t(e,n)}_t._flat=Es;var an=_t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Os(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var n=_t.prototype._convertLatLngs.call(this,e),r=n.length;return r>=2&&n[0]instanceof Q&&n[0].equals(n[r-1])&&n.pop(),n},_setLatLngs:function(e){_t.prototype._setLatLngs.call(this,e),Ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,n=this.options.weight,r=new G(n,n);if(e=new ne(e.min.subtract(r),e.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,d=this._rings.length,p;l<d;l++)p=Ss(this._rings[l],e,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var n=!1,r,l,d,p,x,C,M,I;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(p=0,M=this._parts.length;p<M;p++)for(r=this._parts[p],x=0,I=r.length,C=I-1;x<I;C=x++)l=r[x],d=r[C],l.y>e.y!=d.y>e.y&&e.x<(d.x-l.x)*(e.y-l.y)/(d.y-l.y)+l.x&&(n=!n);return n||_t.prototype._containsPoint.call(this,e,!0)}});function cc(e,n){return new an(e,n)}var yt=vt.extend({initialize:function(e,n){P(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=T(e)?e:e.features,r,l,d;if(n){for(r=0,l=n.length;r<l;r++)d=n[r],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var p=this.options;if(p.filter&&!p.filter(e))return this;var x=_i(e,p);return x?(x.feature=bi(e),x.defaultOptions=x.options,this.resetStyle(x),p.onEachFeature&&p.onEachFeature(e,x),this.addLayer(x)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){e.setStyle&&(typeof n=="function"&&(n=n(e.feature)),e.setStyle(n))}});function _i(e,n){var r=e.type==="Feature"?e.geometry:e,l=r?r.coordinates:null,d=[],p=n&&n.pointToLayer,x=n&&n.coordsToLatLng||po,C,M,I,R;if(!l&&!r)return null;switch(r.type){case"Point":return C=x(l),zs(p,e,C,n);case"MultiPoint":for(I=0,R=l.length;I<R;I++)C=x(l[I]),d.push(zs(p,e,C,n));return new vt(d);case"LineString":case"MultiLineString":return M=yi(l,r.type==="LineString"?0:1,x),new _t(M,n);case"Polygon":case"MultiPolygon":return M=yi(l,r.type==="Polygon"?1:2,x),new an(M,n);case"GeometryCollection":for(I=0,R=r.geometries.length;I<R;I++){var $=_i({geometry:r.geometries[I],type:"Feature",properties:e.properties},n);$&&d.push($)}return new vt(d);case"FeatureCollection":for(I=0,R=r.features.length;I<R;I++){var oe=_i(r.features[I],n);oe&&d.push(oe)}return new vt(d);default:throw new Error("Invalid GeoJSON object.")}}function zs(e,n,r,l){return e?e(n,r):new gi(r,l&&l.markersInheritOptions&&l)}function po(e){return new Q(e[1],e[0],e[2])}function yi(e,n,r){for(var l=[],d=0,p=e.length,x;d<p;d++)x=n?yi(e[d],n-1,r):(r||po)(e[d]),l.push(x);return l}function go(e,n){return e=X(e),e.alt!==void 0?[k(e.lng,n),k(e.lat,n),k(e.alt,n)]:[k(e.lng,n),k(e.lat,n)]}function xi(e,n,r,l){for(var d=[],p=0,x=e.length;p<x;p++)d.push(n?xi(e[p],Ye(e[p])?0:n-1,r,l):go(e[p],l));return!n&&r&&d.length>0&&d.push(d[0].slice()),d}function ln(e,n){return e.feature?a({},e.feature,{geometry:n}):bi(n)}function bi(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var vo={toGeoJSON:function(e){return ln(this,{type:"Point",coordinates:go(this.getLatLng(),e)})}};gi.include(vo),mo.include(vo),vi.include(vo),_t.include({toGeoJSON:function(e){var n=!Ye(this._latlngs),r=xi(this._latlngs,n?1:0,!1,e);return ln(this,{type:(n?"Multi":"")+"LineString",coordinates:r})}}),an.include({toGeoJSON:function(e){var n=!Ye(this._latlngs),r=n&&!Ye(this._latlngs[0]),l=xi(this._latlngs,r?2:n?1:0,!0,e);return n||(l=[l]),ln(this,{type:(r?"Multi":"")+"Polygon",coordinates:l})}}),sn.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(r){n.push(r.toGeoJSON(e).geometry.coordinates)}),ln(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(e);var r=n==="GeometryCollection",l=[];return this.eachLayer(function(d){if(d.toGeoJSON){var p=d.toGeoJSON(e);if(r)l.push(p.geometry);else{var x=bi(p);x.type==="FeatureCollection"?l.push.apply(l,x.features):l.push(x)}}}),r?ln(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Ws(e,n){return new yt(e,n)}var uc=Ws,wi=Ke.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,n,r){this._url=e,this._bounds=he(n),P(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&nn(this._image),this},bringToBack:function(){return this._map&&on(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=he(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",n=this._image=e?this._url:ue("img");if(ie(n,"leaflet-image-layer"),this._zoomAnimated&&ie(n,"leaflet-zoom-animated"),this.options.className&&ie(n,this.options.className),n.onselectstart=_,n.onmousemove=_,n.onload=h(this.fire,this,"load"),n.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;qt(this._image,r,n)},_reset:function(){var e=this._image,n=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=n.getSize();Pe(e,n.min),e.style.width=r.x+"px",e.style.height=r.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),dc=function(e,n,r){return new wi(e,n,r)},Rs=wi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",n=this._image=e?this._url:ue("video");if(ie(n,"leaflet-image-layer"),this._zoomAnimated&&ie(n,"leaflet-zoom-animated"),this.options.className&&ie(n,this.options.className),n.onselectstart=_,n.onmousemove=_,n.onloadeddata=h(this.fire,this,"load"),e){for(var r=n.getElementsByTagName("source"),l=[],d=0;d<r.length;d++)l.push(r[d].src);this._url=r.length>0?l:[n.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var x=ue("source");x.src=this._url[p],n.appendChild(x)}}});function hc(e,n,r){return new Rs(e,n,r)}var Fs=wi.extend({_initImage:function(){var e=this._image=this._url;ie(e,"leaflet-image-layer"),this._zoomAnimated&&ie(e,"leaflet-zoom-animated"),this.options.className&&ie(e,this.options.className),e.onselectstart=_,e.onmousemove=_}});function fc(e,n,r){return new Fs(e,n,r)}var ot=Ke.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,n){e&&(e instanceof Q||T(e))?(this._latlng=X(e),P(this,n)):(P(this,e),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(h(be,void 0,this._container),200)):be(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=X(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&nn(this._container),this},bringToBack:function(){return this._map&&on(this._container),this},_prepareOpen:function(e){var n=this._source;if(!n._map)return!1;if(n instanceof vt){n=null;var r=this._source._layers;for(var l in r)if(r[l]._map){n=r[l];break}if(!n)return!1;this._source=n}if(!e)if(n.getCenter)e=n.getCenter();else if(n.getLatLng)e=n.getLatLng();else if(n.getBounds)e=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")e.innerHTML=n;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=W(this.options.offset),r=this._getAnchor();this._zoomAnimated?Pe(this._container,e.add(r)):n=n.add(e).add(r);var l=this._containerBottom=-n.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=l+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});le.include({_initOverlay:function(e,n,r,l){var d=n;return d instanceof e||(d=new e(l).setContent(n)),r&&d.setLatLng(r),d}}),Ke.include({_initOverlay:function(e,n,r,l){var d=r;return d instanceof e?(P(d,l),d._source=this):(d=n&&!l?n:new e(l,this),d.setContent(r)),d}});var ki=ot.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,ot.prototype.openOn.call(this,e)},onAdd:function(e){ot.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Et||this._source.on("preclick",Gt))},onRemove:function(e){ot.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Et||this._source.off("preclick",Gt))},getEvents:function(){var e=ot.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",n=this._container=ue("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=ue("div",e+"-content-wrapper",n);if(this._contentNode=ue("div",e+"-content",r),jn(n),so(this._contentNode),ee(n,"contextmenu",Gt),this._tipContainer=ue("div",e+"-tip-container",n),this._tip=ue("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=ue("a",e+"-close-button",n);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',ee(l,"click",function(d){je(d),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var r=e.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),n.width=r+1+"px",n.whiteSpace="",n.height="";var l=e.offsetHeight,d=this.options.maxHeight,p="leaflet-popup-scrolled";d&&l>d?(n.height=d+"px",ie(e,p)):ke(e,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),r=this._getAnchor();Pe(this._container,n.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,n=parseInt(Cn(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,l=this._containerWidth,d=new G(this._containerLeft,-r-this._containerBottom);d._add(Ut(this._container));var p=e.layerPointToContainerPoint(d),x=W(this.options.autoPanPadding),C=W(this.options.autoPanPaddingTopLeft||x),M=W(this.options.autoPanPaddingBottomRight||x),I=e.getSize(),R=0,$=0;p.x+l+M.x>I.x&&(R=p.x+l-I.x+M.x),p.x-R-C.x<0&&(R=p.x-C.x),p.y+r+M.y>I.y&&($=p.y+r-I.y+M.y),p.y-$-C.y<0&&($=p.y-C.y),(R||$)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([R,$]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),mc=function(e,n){return new ki(e,n)};le.mergeOptions({closePopupOnClick:!0}),le.include({openPopup:function(e,n,r){return this._initOverlay(ki,e,n,r).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ke.include({bindPopup:function(e,n){return this._popup=this._initOverlay(ki,this._popup,e,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof vt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){Vt(e);var n=e.layer||e.target;if(this._popup._source===n&&!(n instanceof Et)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=n,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Pi=ot.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){ot.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){ot.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=ot.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",n=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var n,r,l=this._map,d=this._container,p=l.latLngToContainerPoint(l.getCenter()),x=l.layerPointToContainerPoint(e),C=this.options.direction,M=d.offsetWidth,I=d.offsetHeight,R=W(this.options.offset),$=this._getAnchor();C==="top"?(n=M/2,r=I):C==="bottom"?(n=M/2,r=0):C==="center"?(n=M/2,r=I/2):C==="right"?(n=0,r=I/2):C==="left"?(n=M,r=I/2):x.x<p.x?(C="right",n=0,r=I/2):(C="left",n=M+(R.x+$.x)*2,r=I/2),e=e.subtract(W(n,r,!0)).add(R).add($),ke(d,"leaflet-tooltip-right"),ke(d,"leaflet-tooltip-left"),ke(d,"leaflet-tooltip-top"),ke(d,"leaflet-tooltip-bottom"),ie(d,"leaflet-tooltip-"+C),Pe(d,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&He(this._container,e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(n)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),pc=function(e,n){return new Pi(e,n)};le.include({openTooltip:function(e,n,r){return this._initOverlay(Pi,e,n,r).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ke.include({bindTooltip:function(e,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Pi,this._tooltip,e,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var n=e?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[n](r),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof vt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&(ee(n,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),ee(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var n=e.latlng,r,l;this._tooltip.options.sticky&&e.originalEvent&&(r=this._map.mouseEventToContainerPoint(e.originalEvent),l=this._map.containerPointToLayerPoint(r),n=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(n)}});var Zs=rn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:document.createElement("div"),r=this.options;if(r.html instanceof Element?(ui(n),n.appendChild(r.html)):n.innerHTML=r.html!==!1?r.html:"",r.bgPos){var l=W(r.bgPos);n.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function gc(e){return new Zs(e)}rn.Default=Dn;var En=Ke.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){P(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),be(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(nn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(on(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof G?e:new G(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var n=this.getPane().children,r=-e(-1/0,1/0),l=0,d=n.length,p;l<d;l++)p=n[l].style.zIndex,n[l]!==this._container&&p&&(r=e(r,+p));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){He(this._container,this.options.opacity);var e=+new Date,n=!1,r=!1;for(var l in this._tiles){var d=this._tiles[l];if(!(!d.current||!d.loaded)){var p=Math.min(1,(e-d.loaded)/200);He(d.el,p),p<1?n=!0:(d.active?r=!0:this._onOpaqueTile(d),d.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),n&&(q(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,n=this.options.maxZoom;if(e!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===e?(this._levels[r].el.style.zIndex=n-Math.abs(e-r),this._onUpdateLevel(r)):(be(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var l=this._levels[e],d=this._map;return l||(l=this._levels[e]={},l.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=n,l.origin=d.project(d.unproject(d.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,d.getCenter(),d.getZoom()),_(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var e,n,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)n=this._tiles[e],n.retain=n.current;for(e in this._tiles)if(n=this._tiles[e],n.current&&!n.active){var l=n.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var n in this._tiles)this._tiles[n].coords.z===e&&this._removeTile(n)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)be(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,n,r,l){var d=Math.floor(e/2),p=Math.floor(n/2),x=r-1,C=new G(+d,+p);C.z=+x;var M=this._tileCoordsToKey(C),I=this._tiles[M];return I&&I.active?(I.retain=!0,!0):(I&&I.loaded&&(I.retain=!0),x>l?this._retainParent(d,p,x,l):!1)},_retainChildren:function(e,n,r,l){for(var d=2*e;d<2*e+2;d++)for(var p=2*n;p<2*n+2;p++){var x=new G(d,p);x.z=r+1;var C=this._tileCoordsToKey(x),M=this._tiles[C];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);r+1<l&&this._retainChildren(d,p,r+1,l)}},_resetView:function(e){var n=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var n=this.options;return n.minNativeZoom!==void 0&&e<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<e?n.maxNativeZoom:e},_setView:function(e,n,r,l){var d=Math.round(n);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var p=this.options.updateWhenZooming&&d!==this._tileZoom;(!l||p)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(e),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(e,n)},_setZoomTransforms:function(e,n){for(var r in this._levels)this._setZoomTransform(this._levels[r],e,n)},_setZoomTransform:function(e,n,r){var l=this._map.getZoomScale(r,e.zoom),d=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(n,r)).round();H.any3d?qt(e.el,d,l):Pe(e.el,d)},_resetGrid:function(){var e=this._map,n=e.options.crs,r=this._tileSize=this.getTileSize(),l=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,n.wrapLng[0]],l).x/r.x),Math.ceil(e.project([0,n.wrapLng[1]],l).x/r.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([n.wrapLat[0],0],l).y/r.x),Math.ceil(e.project([n.wrapLat[1],0],l).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var n=this._map,r=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),l=n.getZoomScale(r,this._tileZoom),d=n.project(e,this._tileZoom).floor(),p=n.getSize().divideBy(l*2);return new ne(d.subtract(p),d.add(p))},_update:function(e){var n=this._map;if(n){var r=this._clampZoom(n.getZoom());if(e===void 0&&(e=n.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(e),d=this._pxBoundsToTileRange(l),p=d.getCenter(),x=[],C=this.options.keepBuffer,M=new ne(d.getBottomLeft().subtract([C,-C]),d.getTopRight().add([C,-C]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var I in this._tiles){var R=this._tiles[I].coords;(R.z!==this._tileZoom||!M.contains(new G(R.x,R.y)))&&(this._tiles[I].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(e,r);return}for(var $=d.min.y;$<=d.max.y;$++)for(var oe=d.min.x;oe<=d.max.x;oe++){var De=new G(oe,$);if(De.z=this._tileZoom,!!this._isValidTile(De)){var Se=this._tiles[this._tileCoordsToKey(De)];Se?Se.current=!0:x.push(De)}}if(x.sort(function(Ae,un){return Ae.distanceTo(p)-un.distanceTo(p)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qe=document.createDocumentFragment();for(oe=0;oe<x.length;oe++)this._addTile(x[oe],qe);this._level.el.appendChild(qe)}}}},_isValidTile:function(e){var n=this._map.options.crs;if(!n.infinite){var r=this._globalTileRange;if(!n.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!n.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return he(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var n=this._map,r=this.getTileSize(),l=e.scaleBy(r),d=l.add(r),p=n.unproject(l,e.z),x=n.unproject(d,e.z);return[p,x]},_tileCoordsToBounds:function(e){var n=this._tileCoordsToNwSe(e),r=new xe(n[0],n[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var n=e.split(":"),r=new G(+n[0],+n[1]);return r.z=+n[2],r},_removeTile:function(e){var n=this._tiles[e];n&&(be(n.el),delete this._tiles[e],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ie(e,"leaflet-tile");var n=this.getTileSize();e.style.width=n.x+"px",e.style.height=n.y+"px",e.onselectstart=_,e.onmousemove=_,H.ielt9&&this.options.opacity<1&&He(e,this.options.opacity)},_addTile:function(e,n){var r=this._getTilePos(e),l=this._tileCoordsToKey(e),d=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(d),this.createTile.length<2&&Z(h(this._tileReady,this,e,null,d)),Pe(d,r),this._tiles[l]={el:d,coords:e,current:!0},n.appendChild(d),this.fire("tileloadstart",{tile:d,coords:e})},_tileReady:function(e,n,r){n&&this.fire("tileerror",{error:n,tile:r,coords:e});var l=this._tileCoordsToKey(e);r=this._tiles[l],r&&(r.loaded=+new Date,this._map._fadeAnimated?(He(r.el,0),q(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),n||(ie(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var n=new G(this._wrapX?v(e.x,this._wrapX):e.x,this._wrapY?v(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToTileRange:function(e){var n=this.getTileSize();return new ne(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function vc(e){return new En(e)}var cn=En.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,n){this._url=e,n=P(this,n),n.detectRetina&&H.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,n){return this._url===e&&n===void 0&&(n=!0),this._url=e,n||this.redraw(),this},createTile:function(e,n){var r=document.createElement("img");return ee(r,"load",h(this._tileOnLoad,this,n,r)),ee(r,"error",h(this._tileOnError,this,n,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var n={r:H.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=r),n["-y"]=r}return E(this._url,a(n,this.options))},_tileOnLoad:function(e,n){H.ielt9?setTimeout(h(e,this,null,n),0):e(null,n)},_tileOnError:function(e,n,r){var l=this.options.errorTileUrl;l&&n.getAttribute("src")!==l&&(n.src=l),e(r,n)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,n=this.options.maxZoom,r=this.options.zoomReverse,l=this.options.zoomOffset;return r&&(e=n-e),e+l},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var e,n;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(n=this._tiles[e].el,n.onload=_,n.onerror=_,!n.complete)){n.src=j;var r=this._tiles[e].coords;be(n),delete this._tiles[e],this.fire("tileabort",{tile:n,coords:r})}},_removeTile:function(e){var n=this._tiles[e];if(n)return n.el.setAttribute("src",j),En.prototype._removeTile.call(this,e)},_tileReady:function(e,n,r){if(!(!this._map||r&&r.getAttribute("src")===j))return En.prototype._tileReady.call(this,e,n,r)}});function Hs(e,n){return new cn(e,n)}var Ys=cn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var r=a({},this.defaultWmsParams);for(var l in n)l in this.options||(r[l]=n[l]);n=P(this,n);var d=n.detectRetina&&H.retina?2:1,p=this.getTileSize();r.width=p.x*d,r.height=p.y*d,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,cn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._tileCoordsToNwSe(e),r=this._crs,l=_e(r.project(n[0]),r.project(n[1])),d=l.min,p=l.max,x=(this._wmsVersion>=1.3&&this._crs===Is?[d.y,d.x,p.y,p.x]:[d.x,d.y,p.x,p.y]).join(","),C=cn.prototype.getTileUrl.call(this,e);return C+y(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(e,n){return a(this.wmsParams,e),n||this.redraw(),this}});function _c(e,n){return new Ys(e,n)}cn.WMS=Ys,Hs.wms=_c;var xt=Ke.extend({options:{padding:.1},initialize:function(e){P(this,e),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,n){var r=this._map.getZoomScale(n,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,n),p=l.multiplyBy(-r).add(d).subtract(this._map._getNewPixelOrigin(e,n));H.any3d?qt(this._container,p,r):Pe(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,n=this._map.getSize(),r=this._map.containerPointToLayerPoint(n.multiplyBy(-e)).round();this._bounds=new ne(r,r.add(n.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qs=xt.extend({options:{tolerance:0},getEvents:function(){var e=xt.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){xt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");ee(e,"mousemove",this._onMouseMove,this),ee(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,be(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var n in this._layers)e=this._layers[n],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xt.prototype._update.call(this);var e=this._bounds,n=this._container,r=e.getSize(),l=H.retina?2:1;Pe(n,e.min),n.width=l*r.x,n.height=l*r.y,n.style.width=r.x+"px",n.style.height=r.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){xt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[m(e)]=e;var n=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var n=e._order,r=n.next,l=n.prev;r?r.prev=l:this._drawLast=l,l?l.next=r:this._drawFirst=r,delete e._order,delete this._layers[m(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var n=e.options.dashArray.split(/[, ]+/),r=[],l,d;for(d=0;d<n.length;d++){if(l=Number(n[d]),isNaN(l))return;r.push(l)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var n=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(e._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(e._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var n=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,n=this._redrawBounds;if(this._ctx.save(),n){var r=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,n){if(this._drawing){var r,l,d,p,x=e._parts,C=x.length,M=this._ctx;if(C){for(M.beginPath(),r=0;r<C;r++){for(l=0,d=x[r].length;l<d;l++)p=x[r][l],M[l?"lineTo":"moveTo"](p.x,p.y);n&&M.closePath()}this._fillStroke(M,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var n=e._point,r=this._ctx,l=Math.max(Math.round(e._radius),1),d=(Math.max(Math.round(e._radiusY),1)||l)/l;d!==1&&(r.save(),r.scale(1,d)),r.beginPath(),r.arc(n.x,n.y/d,l,0,Math.PI*2,!1),d!==1&&r.restore(),this._fillStroke(r,e)}},_fillStroke:function(e,n){var r=n.options;r.fill&&(e.globalAlpha=r.fillOpacity,e.fillStyle=r.fillColor||r.color,e.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(e.setLineDash&&e.setLineDash(n.options&&n.options._dashArray||[]),e.globalAlpha=r.opacity,e.lineWidth=r.weight,e.strokeStyle=r.color,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.stroke())},_onClick:function(e){for(var n=this._map.mouseEventToLayerPoint(e),r,l,d=this._drawFirst;d;d=d.next)r=d.layer,r.options.interactive&&r._containsPoint(n)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(r))&&(l=r);this._fireEvent(l?[l]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,n)}},_handleMouseOut:function(e){var n=this._hoveredLayer;n&&(ke(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,n){if(!this._mouseHoverThrottled){for(var r,l,d=this._drawFirst;d;d=d.next)r=d.layer,r.options.interactive&&r._containsPoint(n)&&(l=r);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(ie(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,n,r){this._map._fireDOMEvent(n,r||n.type,e)},_bringToFront:function(e){var n=e._order;if(n){var r=n.next,l=n.prev;if(r)r.prev=l;else return;l?l.next=r:r&&(this._drawFirst=r),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(e)}},_bringToBack:function(e){var n=e._order;if(n){var r=n.next,l=n.prev;if(l)l.next=r;else return;r?r.prev=l:l&&(this._drawLast=l),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(e)}}});function Us(e){return H.canvas?new qs(e):null}var An=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),yc={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(xt.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var n=e._container=An("shape");ie(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",e._path=An("path"),n.appendChild(e._path),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){var n=e._container;this._container.appendChild(n),e.options.interactive&&e.addInteractiveTarget(n)},_removePath:function(e){var n=e._container;be(n),e.removeInteractiveTarget(n),delete this._layers[m(e)]},_updateStyle:function(e){var n=e._stroke,r=e._fill,l=e.options,d=e._container;d.stroked=!!l.stroke,d.filled=!!l.fill,l.stroke?(n||(n=e._stroke=An("stroke")),d.appendChild(n),n.weight=l.weight+"px",n.color=l.color,n.opacity=l.opacity,l.dashArray?n.dashStyle=T(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=l.lineCap.replace("butt","flat"),n.joinstyle=l.lineJoin):n&&(d.removeChild(n),e._stroke=null),l.fill?(r||(r=e._fill=An("fill")),d.appendChild(r),r.color=l.fillColor||l.color,r.opacity=l.fillOpacity):r&&(d.removeChild(r),e._fill=null)},_updateCircle:function(e){var n=e._point.round(),r=Math.round(e._radius),l=Math.round(e._radiusY||r);this._setPath(e,e._empty()?"M0 0":"AL "+n.x+","+n.y+" "+r+","+l+" 0,"+65535*360)},_setPath:function(e,n){e._path.v=n},_bringToFront:function(e){nn(e._container)},_bringToBack:function(e){on(e._container)}},Ni=H.vml?An:Wt,In=xt.extend({_initContainer:function(){this._container=Ni("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ni("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){be(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xt.prototype._update.call(this);var e=this._bounds,n=e.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,r.setAttribute("width",n.x),r.setAttribute("height",n.y)),Pe(r,e.min),r.setAttribute("viewBox",[e.min.x,e.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(e){var n=e._path=Ni("path");e.options.className&&ie(n,e.options.className),e.options.interactive&&ie(n,"leaflet-interactive"),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){be(e._path),e.removeInteractiveTarget(e._path),delete this._layers[m(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var n=e._path,r=e.options;n&&(r.stroke?(n.setAttribute("stroke",r.color),n.setAttribute("stroke-opacity",r.opacity),n.setAttribute("stroke-width",r.weight),n.setAttribute("stroke-linecap",r.lineCap),n.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?n.setAttribute("stroke-dasharray",r.dashArray):n.removeAttribute("stroke-dasharray"),r.dashOffset?n.setAttribute("stroke-dashoffset",r.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),r.fill?(n.setAttribute("fill",r.fillColor||r.color),n.setAttribute("fill-opacity",r.fillOpacity),n.setAttribute("fill-rule",r.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(e,n){this._setPath(e,Rt(e._parts,n))},_updateCircle:function(e){var n=e._point,r=Math.max(Math.round(e._radius),1),l=Math.max(Math.round(e._radiusY),1)||r,d="a"+r+","+l+" 0 1,0 ",p=e._empty()?"M0 0":"M"+(n.x-r)+","+n.y+d+r*2+",0 "+d+-r*2+",0 ";this._setPath(e,p)},_setPath:function(e,n){e._path.setAttribute("d",n)},_bringToFront:function(e){nn(e._path)},_bringToBack:function(e){on(e._path)}});H.vml&&In.include(yc);function Gs(e){return H.svg||H.vml?new In(e):null}le.include({getRenderer:function(e){var n=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var n=this._paneRenderers[e];return n===void 0&&(n=this._createRenderer({pane:e}),this._paneRenderers[e]=n),n},_createRenderer:function(e){return this.options.preferCanvas&&Us(e)||Gs(e)}});var Vs=an.extend({initialize:function(e,n){an.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=he(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function xc(e,n){return new Vs(e,n)}In.create=Ni,In.pointsToPath=Rt,yt.geometryToLayer=_i,yt.coordsToLatLng=po,yt.coordsToLatLngs=yi,yt.latLngToCoords=go,yt.latLngsToCoords=xi,yt.getFeature=ln,yt.asFeature=bi,le.mergeOptions({boxZoom:!0});var $s=it.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mn(),Xi(),this._startPoint=this._map.mouseEventToContainerPoint(e),ee(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var n=new ne(this._point,this._startPoint),r=n.getSize();Pe(this._box,n.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(be(this._box),ke(this._container,"leaflet-crosshair")),Sn(),Ji(),ge(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var n=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});le.addInitHook("addHandler","boxZoom",$s),le.mergeOptions({doubleClickZoom:!0});var Ks=it.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,r=n.getZoom(),l=n.options.zoomDelta,d=e.originalEvent.shiftKey?r-l:r+l;n.options.doubleClickZoom==="center"?n.setZoom(d):n.setZoomAround(e.containerPoint,d)}});le.addInitHook("addHandler","doubleClickZoom",Ks),le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xs=it.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Dt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=he(this._map.options.maxBounds);this._offsetLimit=_e(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var n=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(n),this._prunePositions(n)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,n){return e-(e-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;e.x<n.min.x&&(e.x=this._viscousLimit(e.x,n.min.x)),e.y<n.min.y&&(e.y=this._viscousLimit(e.y,n.min.y)),e.x>n.max.x&&(e.x=this._viscousLimit(e.x,n.max.x)),e.y>n.max.y&&(e.y=this._viscousLimit(e.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,n=Math.round(e/2),r=this._initialWorldOffset,l=this._draggable._newPos.x,d=(l-n+r)%e+n-r,p=(l+n+r)%e-n-r,x=Math.abs(d+r)<Math.abs(p+r)?d:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(e){var n=this._map,r=n.options,l=!r.inertia||e.noInertia||this._times.length<2;if(n.fire("dragend",e),l)n.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,x=r.easeLinearity,C=d.multiplyBy(x/p),M=C.distanceTo([0,0]),I=Math.min(r.inertiaMaxSpeed,M),R=C.multiplyBy(I/M),$=I/(r.inertiaDeceleration*x),oe=R.multiplyBy(-$/2).round();!oe.x&&!oe.y?n.fire("moveend"):(oe=n._limitOffset(oe,n.options.maxBounds),Z(function(){n.panBy(oe,{duration:$,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});le.addInitHook("addHandler","dragging",Xs),le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Js=it.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),ee(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,n=document.documentElement,r=e.scrollTop||n.scrollTop,l=e.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(l,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var n=this._panKeys={},r=this.keyCodes,l,d;for(l=0,d=r.left.length;l<d;l++)n[r.left[l]]=[-1*e,0];for(l=0,d=r.right.length;l<d;l++)n[r.right[l]]=[e,0];for(l=0,d=r.down.length;l<d;l++)n[r.down[l]]=[0,e];for(l=0,d=r.up.length;l<d;l++)n[r.up[l]]=[0,-1*e]},_setZoomDelta:function(e){var n=this._zoomKeys={},r=this.keyCodes,l,d;for(l=0,d=r.zoomIn.length;l<d;l++)n[r.zoomIn[l]]=e;for(l=0,d=r.zoomOut.length;l<d;l++)n[r.zoomOut[l]]=-e},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=e.keyCode,r=this._map,l;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(l=this._panKeys[n],e.shiftKey&&(l=W(l).multiplyBy(3)),r.options.maxBounds&&(l=r._limitOffset(W(l),r.options.maxBounds)),r.options.worldCopyJump){var d=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(l)));r.panTo(d)}else r.panBy(l)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Vt(e)}}});le.addInitHook("addHandler","keyboard",Js),le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qs=it.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var n=ks(e),r=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),l),Vt(e)},_performZoom:function(){var e=this._map,n=e.getZoom(),r=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=r?Math.ceil(d/r)*r:d,x=e._limitZoom(n+(this._delta>0?p:-p))-n;this._delta=0,this._startTime=null,x&&(e.options.scrollWheelZoom==="center"?e.setZoom(n+x):e.setZoomAround(this._lastMousePos,n+x))}});le.addInitHook("addHandler","scrollWheelZoom",Qs);var bc=600;le.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var er=it.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var n=e.touches[0];this._startPos=this._newPos=new G(n.clientX,n.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",je),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),bc),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){ge(document,"touchend",je),ge(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(e){var n=e.touches[0];this._newPos=new G(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,n){var r=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});r._simulated=!0,n.target.dispatchEvent(r)}});le.addInitHook("addHandler","tapHold",er),le.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var tr=it.extend({addHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var r=n.mouseEventToContainerPoint(e.touches[0]),l=n.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(r.add(l)._divideBy(2))),this._startDist=r.distanceTo(l),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),je(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var n=this._map,r=n.mouseEventToContainerPoint(e.touches[0]),l=n.mouseEventToContainerPoint(e.touches[1]),d=r.distanceTo(l)/this._startDist;if(this._zoom=n.getScaleZoom(d,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&d<1||this._zoom>n.getMaxZoom()&&d>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var p=r._add(l)._divideBy(2)._subtract(this._centerPoint);if(d===1&&p.x===0&&p.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var x=h(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(x,this,!0),je(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});le.addInitHook("addHandler","touchZoom",tr),le.BoxZoom=$s,le.DoubleClickZoom=Ks,le.Drag=Xs,le.Keyboard=Js,le.ScrollWheelZoom=Qs,le.TapHold=er,le.TouchZoom=tr,o.Bounds=ne,o.Browser=H,o.CRS=Oe,o.Canvas=qs,o.Circle=mo,o.CircleMarker=vi,o.Class=te,o.Control=$e,o.DivIcon=Zs,o.DivOverlay=ot,o.DomEvent=Wl,o.DomUtil=Bl,o.Draggable=Dt,o.Evented=ye,o.FeatureGroup=vt,o.GeoJSON=yt,o.GridLayer=En,o.Handler=it,o.Icon=rn,o.ImageOverlay=wi,o.LatLng=Q,o.LatLngBounds=xe,o.Layer=Ke,o.LayerGroup=sn,o.LineUtil=Jl,o.Map=le,o.Marker=gi,o.Mixin=Ul,o.Path=Et,o.Point=G,o.PolyUtil=Gl,o.Polygon=an,o.Polyline=_t,o.Popup=ki,o.PosAnimation=Ps,o.Projection=Ql,o.Rectangle=Vs,o.Renderer=xt,o.SVG=In,o.SVGOverlay=Fs,o.TileLayer=cn,o.Tooltip=Pi,o.Transformation=mt,o.Util=K,o.VideoOverlay=Rs,o.bind=h,o.bounds=_e,o.canvas=Us,o.circle=ac,o.circleMarker=rc,o.control=Tn,o.divIcon=gc,o.extend=a,o.featureGroup=ic,o.geoJSON=Ws,o.geoJson=uc,o.gridLayer=vc,o.icon=oc,o.imageOverlay=dc,o.latLng=X,o.latLngBounds=he,o.layerGroup=nc,o.map=Rl,o.marker=sc,o.point=W,o.polygon=cc,o.polyline=lc,o.popup=mc,o.rectangle=xc,o.setOptions=P,o.stamp=m,o.svg=Gs,o.svgOverlay=fc,o.tileLayer=Hs,o.tooltip=pc,o.transformation=pt,o.version=s,o.videoOverlay=hc;var wc=window.L;o.noConflict=function(){return window.L=wc,this},window.L=o}))})(Zn,Zn.exports)),Zn.exports}var Jn=Hc();const Vr=Wo(Jn);delete Vr.Icon.Default.prototype._getIconUrl;Vr.Icon.Default.mergeOptions({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});function Yc(t,i,o="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:o}).format(i).split(/\s/g).slice(2).join(" ")}const qc={},Hn={};function Jt(t,i){try{const s=(qc[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(i).split("GMT")[1];return s in Hn?Hn[s]:ur(s,s.split(":"))}catch{if(t in Hn)return Hn[t];const o=t?.match(Uc);return o?ur(t,o.slice(1)):NaN}}const Uc=/([+-]\d\d):?(\d\d)?/;function ur(t,i){const o=+(i[0]||0),s=+(i[1]||0),a=+(i[2]||0)/60;return Hn[t]=o*60+s>0?o*60+s+a:o*60-s-a}class rt extends Date{constructor(...i){super(),i.length>1&&typeof i[i.length-1]=="string"&&(this.timeZone=i.pop()),this.internal=new Date,isNaN(Jt(this.timeZone,this))?this.setTime(NaN):i.length?typeof i[0]=="number"&&(i.length===1||i.length===2&&typeof i[1]!="number")?this.setTime(i[0]):typeof i[0]=="string"?this.setTime(+new Date(i[0])):i[0]instanceof Date?this.setTime(+i[0]):(this.setTime(+new Date(...i)),$r(this),jo(this)):this.setTime(Date.now())}static tz(i,...o){return o.length?new rt(...o,i):new rt(Date.now(),i)}withTimeZone(i){return new rt(+this,i)}getTimezoneOffset(){const i=-Jt(this.timeZone,this);return i>0?Math.floor(i):Math.ceil(i)}setTime(i){return Date.prototype.setTime.apply(this,arguments),jo(this),+this}[Symbol.for("constructDateFrom")](i){return new rt(+new Date(i),this.timeZone)}}const dr=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!dr.test(t))return;const i=t.replace(dr,"$1UTC");rt.prototype[i]&&(t.startsWith("get")?rt.prototype[t]=function(){return this.internal[i]()}:(rt.prototype[t]=function(){return Date.prototype[i].apply(this.internal,arguments),Gc(this),+this},rt.prototype[i]=function(){return Date.prototype[i].apply(this,arguments),jo(this),+this}))});function jo(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Jt(t.timeZone,t)*60))}function Gc(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),$r(t)}function $r(t){const i=Jt(t.timeZone,t),o=i>0?Math.floor(i):Math.ceil(i),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const a=-new Date(+t).getTimezoneOffset(),u=-new Date(+s).getTimezoneOffset(),h=a-u,f=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();h&&f&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+h);const m=a-o;m&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m);const g=new Date(+t);g.setUTCSeconds(0);const v=a>0?g.getSeconds():(g.getSeconds()-60)%60,_=Math.round(-(Jt(t.timeZone,t)*60))%60;(_||v)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+_),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+_+v));const k=Jt(t.timeZone,t),b=k>0?Math.floor(k):Math.ceil(k),P=-new Date(+t).getTimezoneOffset()-b,y=b!==o,S=P-m;if(y&&S){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+S);const E=Jt(t.timeZone,t),T=E>0?Math.floor(E):Math.ceil(E),O=b-T;O&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+O),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+O))}}class Te extends rt{static tz(i,...o){return o.length?new Te(...o,i):new Te(Date.now(),i)}toISOString(){const[i,o,s]=this.tzComponents(),a=`${i}${o}:${s}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[i,o,s,a]=this.internal.toUTCString().split(" ");return`${i?.slice(0,-1)} ${s} ${o} ${a}`}toTimeString(){const i=this.internal.toUTCString().split(" ")[4],[o,s,a]=this.tzComponents();return`${i} GMT${o}${s}${a} (${Yc(this.timeZone,this)})`}toLocaleString(i,o){return Date.prototype.toLocaleString.call(this,i,{...o,timeZone:o?.timeZone||this.timeZone})}toLocaleDateString(i,o){return Date.prototype.toLocaleDateString.call(this,i,{...o,timeZone:o?.timeZone||this.timeZone})}toLocaleTimeString(i,o){return Date.prototype.toLocaleTimeString.call(this,i,{...o,timeZone:o?.timeZone||this.timeZone})}tzComponents(){const i=this.getTimezoneOffset(),o=i>0?"-":"+",s=String(Math.floor(Math.abs(i)/60)).padStart(2,"0"),a=String(Math.abs(i)%60).padStart(2,"0");return[o,s,a]}withTimeZone(i){return new Te(+this,i)}[Symbol.for("constructDateFrom")](i){return new Te(+new Date(i),this.timeZone)}}const Kr=6048e5,Vc=864e5,hr=Symbol.for("constructDateFrom");function Ce(t,i){return typeof t=="function"?t(i):t&&typeof t=="object"&&hr in t?t[hr](i):t instanceof Date?new t.constructor(i):new Date(i)}function me(t,i){return Ce(i||t,t)}function Xr(t,i,o){const s=me(t,o?.in);return isNaN(i)?Ce(t,NaN):(i&&s.setDate(s.getDate()+i),s)}function Jr(t,i,o){const s=me(t,o?.in);if(isNaN(i))return Ce(t,NaN);if(!i)return s;const a=s.getDate(),u=Ce(t,s.getTime());u.setMonth(s.getMonth()+i+1,0);const h=u.getDate();return a>=h?u:(s.setFullYear(u.getFullYear(),u.getMonth(),a),s)}let $c={};function Qn(){return $c}function mn(t,i){const o=Qn(),s=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,a=me(t,i?.in),u=a.getDay(),h=(u<s?7:0)+u-s;return a.setDate(a.getDate()-h),a.setHours(0,0,0,0),a}function Vn(t,i){return mn(t,{...i,weekStartsOn:1})}function Qr(t,i){const o=me(t,i?.in),s=o.getFullYear(),a=Ce(o,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const u=Vn(a),h=Ce(o,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const f=Vn(h);return o.getTime()>=u.getTime()?s+1:o.getTime()>=f.getTime()?s:s-1}function fr(t){const i=me(t),o=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return o.setUTCFullYear(i.getFullYear()),+t-+o}function xn(t,...i){const o=Ce.bind(null,i.find(s=>typeof s=="object"));return i.map(o)}function $n(t,i){const o=me(t,i?.in);return o.setHours(0,0,0,0),o}function Fo(t,i,o){const[s,a]=xn(o?.in,t,i),u=$n(s),h=$n(a),f=+u-fr(u),m=+h-fr(h);return Math.round((f-m)/Vc)}function Kc(t,i){const o=Qr(t,i),s=Ce(t,0);return s.setFullYear(o,0,4),s.setHours(0,0,0,0),Vn(s)}function Xc(t,i,o){return Xr(t,i*7,o)}function Jc(t,i,o){return Jr(t,i*12,o)}function Qc(t,i){let o,s=i?.in;return t.forEach(a=>{!s&&typeof a=="object"&&(s=Ce.bind(null,a));const u=me(a,s);(!o||o<u||isNaN(+u))&&(o=u)}),Ce(s,o||NaN)}function eu(t,i){let o,s=i?.in;return t.forEach(a=>{!s&&typeof a=="object"&&(s=Ce.bind(null,a));const u=me(a,s);(!o||o>u||isNaN(+u))&&(o=u)}),Ce(s,o||NaN)}function ea(t,i,o){const[s,a]=xn(o?.in,t,i);return+$n(s)==+$n(a)}function ta(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tu(t){return!(!ta(t)&&typeof t!="number"||isNaN(+me(t)))}function na(t,i,o){const[s,a]=xn(o?.in,t,i),u=s.getFullYear()-a.getFullYear(),h=s.getMonth()-a.getMonth();return u*12+h}function nu(t,i){const o=me(t,i?.in),s=o.getMonth();return o.setFullYear(o.getFullYear(),s+1,0),o.setHours(23,59,59,999),o}function ia(t,i){const[o,s]=xn(t,i.start,i.end);return{start:o,end:s}}function iu(t,i){const{start:o,end:s}=ia(i?.in,t);let a=+o>+s;const u=a?+o:+s,h=a?s:o;h.setHours(0,0,0,0),h.setDate(1);let f=1;const m=[];for(;+h<=u;)m.push(Ce(o,h)),h.setMonth(h.getMonth()+f);return a?m.reverse():m}function ou(t,i){const o=me(t,i?.in);return o.setDate(1),o.setHours(0,0,0,0),o}function su(t,i){const o=me(t,i?.in),s=o.getFullYear();return o.setFullYear(s+1,0,0),o.setHours(23,59,59,999),o}function oa(t,i){const o=me(t,i?.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}function ru(t,i){const{start:o,end:s}=ia(i?.in,t);let a=+o>+s;const u=a?+o:+s,h=a?s:o;h.setHours(0,0,0,0),h.setMonth(0,1);let f=1;const m=[];for(;+h<=u;)m.push(Ce(o,h)),h.setFullYear(h.getFullYear()+f);return a?m.reverse():m}function sa(t,i){const o=Qn(),s=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,a=me(t,i?.in),u=a.getDay(),h=(u<s?-7:0)+6-(u-s);return a.setDate(a.getDate()+h),a.setHours(23,59,59,999),a}function au(t,i){return sa(t,{...i,weekStartsOn:1})}const lu={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cu=(t,i,o)=>{let s;const a=lu[t];return typeof a=="string"?s=a:i===1?s=a.one:s=a.other.replace("{{count}}",i.toString()),o?.addSuffix?o.comparison&&o.comparison>0?"in "+s:s+" ago":s};function xo(t){return(i={})=>{const o=i.width?String(i.width):t.defaultWidth;return t.formats[o]||t.formats[t.defaultWidth]}}const uu={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},du={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hu={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fu={date:xo({formats:uu,defaultWidth:"full"}),time:xo({formats:du,defaultWidth:"full"}),dateTime:xo({formats:hu,defaultWidth:"full"})},mu={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pu=(t,i,o,s)=>mu[t];function zn(t){return(i,o)=>{const s=o?.context?String(o.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const h=t.defaultFormattingWidth||t.defaultWidth,f=o?.width?String(o.width):h;a=t.formattingValues[f]||t.formattingValues[h]}else{const h=t.defaultWidth,f=o?.width?String(o.width):t.defaultWidth;a=t.values[f]||t.values[h]}const u=t.argumentCallback?t.argumentCallback(i):i;return a[u]}}const gu={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vu={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_u={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yu={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xu={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bu={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wu=(t,i)=>{const o=Number(t),s=o%100;if(s>20||s<10)switch(s%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},ku={ordinalNumber:wu,era:zn({values:gu,defaultWidth:"wide"}),quarter:zn({values:vu,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zn({values:_u,defaultWidth:"wide"}),day:zn({values:yu,defaultWidth:"wide"}),dayPeriod:zn({values:xu,defaultWidth:"wide",formattingValues:bu,defaultFormattingWidth:"wide"})};function Wn(t){return(i,o={})=>{const s=o.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],u=i.match(a);if(!u)return null;const h=u[0],f=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?Nu(f,_=>_.test(h)):Pu(f,_=>_.test(h));let g;g=t.valueCallback?t.valueCallback(m):m,g=o.valueCallback?o.valueCallback(g):g;const v=i.slice(h.length);return{value:g,rest:v}}}function Pu(t,i){for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&i(t[o]))return o}function Nu(t,i){for(let o=0;o<t.length;o++)if(i(t[o]))return o}function Cu(t){return(i,o={})=>{const s=i.match(t.matchPattern);if(!s)return null;const a=s[0],u=i.match(t.parsePattern);if(!u)return null;let h=t.valueCallback?t.valueCallback(u[0]):u[0];h=o.valueCallback?o.valueCallback(h):h;const f=i.slice(a.length);return{value:h,rest:f}}}const Mu=/^(\d+)(th|st|nd|rd)?/i,Su=/\d+/i,Ou={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ju={any:[/^b/i,/^(a|c)/i]},Tu={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lu={any:[/1/i,/2/i,/3/i,/4/i]},Du={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Eu={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Au={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Iu={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bu={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zu={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wu={ordinalNumber:Cu({matchPattern:Mu,parsePattern:Su,valueCallback:t=>parseInt(t,10)}),era:Wn({matchPatterns:Ou,defaultMatchWidth:"wide",parsePatterns:ju,defaultParseWidth:"any"}),quarter:Wn({matchPatterns:Tu,defaultMatchWidth:"wide",parsePatterns:Lu,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wn({matchPatterns:Du,defaultMatchWidth:"wide",parsePatterns:Eu,defaultParseWidth:"any"}),day:Wn({matchPatterns:Au,defaultMatchWidth:"wide",parsePatterns:Iu,defaultParseWidth:"any"}),dayPeriod:Wn({matchPatterns:Bu,defaultMatchWidth:"any",parsePatterns:zu,defaultParseWidth:"any"})},fn={code:"en-US",formatDistance:cu,formatLong:fu,formatRelative:pu,localize:ku,match:Wu,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ru(t,i){const o=me(t,i?.in);return Fo(o,oa(o))+1}function Zo(t,i){const o=me(t,i?.in),s=+Vn(o)-+Kc(o);return Math.round(s/Kr)+1}function ra(t,i){const o=me(t,i?.in),s=o.getFullYear(),a=Qn(),u=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,h=Ce(i?.in||t,0);h.setFullYear(s+1,0,u),h.setHours(0,0,0,0);const f=mn(h,i),m=Ce(i?.in||t,0);m.setFullYear(s,0,u),m.setHours(0,0,0,0);const g=mn(m,i);return+o>=+f?s+1:+o>=+g?s:s-1}function Fu(t,i){const o=Qn(),s=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=ra(t,i),u=Ce(i?.in||t,0);return u.setFullYear(a,0,s),u.setHours(0,0,0,0),mn(u,i)}function Ho(t,i){const o=me(t,i?.in),s=+mn(o,i)-+Fu(o,i);return Math.round(s/Kr)+1}function fe(t,i){const o=t<0?"-":"",s=Math.abs(t).toString().padStart(i,"0");return o+s}const At={y(t,i){const o=t.getFullYear(),s=o>0?o:1-o;return fe(i==="yy"?s%100:s,i.length)},M(t,i){const o=t.getMonth();return i==="M"?String(o+1):fe(o+1,2)},d(t,i){return fe(t.getDate(),i.length)},a(t,i){const o=t.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];default:return o==="am"?"a.m.":"p.m."}},h(t,i){return fe(t.getHours()%12||12,i.length)},H(t,i){return fe(t.getHours(),i.length)},m(t,i){return fe(t.getMinutes(),i.length)},s(t,i){return fe(t.getSeconds(),i.length)},S(t,i){const o=i.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,o-3));return fe(a,i.length)}},dn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mr={G:function(t,i,o){const s=t.getFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return o.era(s,{width:"abbreviated"});case"GGGGG":return o.era(s,{width:"narrow"});default:return o.era(s,{width:"wide"})}},y:function(t,i,o){if(i==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return o.ordinalNumber(a,{unit:"year"})}return At.y(t,i)},Y:function(t,i,o,s){const a=ra(t,s),u=a>0?a:1-a;if(i==="YY"){const h=u%100;return fe(h,2)}return i==="Yo"?o.ordinalNumber(u,{unit:"year"}):fe(u,i.length)},R:function(t,i){const o=Qr(t);return fe(o,i.length)},u:function(t,i){const o=t.getFullYear();return fe(o,i.length)},Q:function(t,i,o){const s=Math.ceil((t.getMonth()+1)/3);switch(i){case"Q":return String(s);case"QQ":return fe(s,2);case"Qo":return o.ordinalNumber(s,{unit:"quarter"});case"QQQ":return o.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(s,{width:"narrow",context:"formatting"});default:return o.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,i,o){const s=Math.ceil((t.getMonth()+1)/3);switch(i){case"q":return String(s);case"qq":return fe(s,2);case"qo":return o.ordinalNumber(s,{unit:"quarter"});case"qqq":return o.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(s,{width:"narrow",context:"standalone"});default:return o.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,i,o){const s=t.getMonth();switch(i){case"M":case"MM":return At.M(t,i);case"Mo":return o.ordinalNumber(s+1,{unit:"month"});case"MMM":return o.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(s,{width:"narrow",context:"formatting"});default:return o.month(s,{width:"wide",context:"formatting"})}},L:function(t,i,o){const s=t.getMonth();switch(i){case"L":return String(s+1);case"LL":return fe(s+1,2);case"Lo":return o.ordinalNumber(s+1,{unit:"month"});case"LLL":return o.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(s,{width:"narrow",context:"standalone"});default:return o.month(s,{width:"wide",context:"standalone"})}},w:function(t,i,o,s){const a=Ho(t,s);return i==="wo"?o.ordinalNumber(a,{unit:"week"}):fe(a,i.length)},I:function(t,i,o){const s=Zo(t);return i==="Io"?o.ordinalNumber(s,{unit:"week"}):fe(s,i.length)},d:function(t,i,o){return i==="do"?o.ordinalNumber(t.getDate(),{unit:"date"}):At.d(t,i)},D:function(t,i,o){const s=Ru(t);return i==="Do"?o.ordinalNumber(s,{unit:"dayOfYear"}):fe(s,i.length)},E:function(t,i,o){const s=t.getDay();switch(i){case"E":case"EE":case"EEE":return o.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(s,{width:"short",context:"formatting"});default:return o.day(s,{width:"wide",context:"formatting"})}},e:function(t,i,o,s){const a=t.getDay(),u=(a-s.weekStartsOn+8)%7||7;switch(i){case"e":return String(u);case"ee":return fe(u,2);case"eo":return o.ordinalNumber(u,{unit:"day"});case"eee":return o.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(a,{width:"short",context:"formatting"});default:return o.day(a,{width:"wide",context:"formatting"})}},c:function(t,i,o,s){const a=t.getDay(),u=(a-s.weekStartsOn+8)%7||7;switch(i){case"c":return String(u);case"cc":return fe(u,i.length);case"co":return o.ordinalNumber(u,{unit:"day"});case"ccc":return o.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(a,{width:"narrow",context:"standalone"});case"cccccc":return o.day(a,{width:"short",context:"standalone"});default:return o.day(a,{width:"wide",context:"standalone"})}},i:function(t,i,o){const s=t.getDay(),a=s===0?7:s;switch(i){case"i":return String(a);case"ii":return fe(a,i.length);case"io":return o.ordinalNumber(a,{unit:"day"});case"iii":return o.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(s,{width:"short",context:"formatting"});default:return o.day(s,{width:"wide",context:"formatting"})}},a:function(t,i,o){const a=t.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(a,{width:"narrow",context:"formatting"});default:return o.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,i,o){const s=t.getHours();let a;switch(s===12?a=dn.noon:s===0?a=dn.midnight:a=s/12>=1?"pm":"am",i){case"b":case"bb":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(a,{width:"narrow",context:"formatting"});default:return o.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,i,o){const s=t.getHours();let a;switch(s>=17?a=dn.evening:s>=12?a=dn.afternoon:s>=4?a=dn.morning:a=dn.night,i){case"B":case"BB":case"BBB":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(a,{width:"narrow",context:"formatting"});default:return o.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,i,o){if(i==="ho"){let s=t.getHours()%12;return s===0&&(s=12),o.ordinalNumber(s,{unit:"hour"})}return At.h(t,i)},H:function(t,i,o){return i==="Ho"?o.ordinalNumber(t.getHours(),{unit:"hour"}):At.H(t,i)},K:function(t,i,o){const s=t.getHours()%12;return i==="Ko"?o.ordinalNumber(s,{unit:"hour"}):fe(s,i.length)},k:function(t,i,o){let s=t.getHours();return s===0&&(s=24),i==="ko"?o.ordinalNumber(s,{unit:"hour"}):fe(s,i.length)},m:function(t,i,o){return i==="mo"?o.ordinalNumber(t.getMinutes(),{unit:"minute"}):At.m(t,i)},s:function(t,i,o){return i==="so"?o.ordinalNumber(t.getSeconds(),{unit:"second"}):At.s(t,i)},S:function(t,i){return At.S(t,i)},X:function(t,i,o){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(i){case"X":return gr(s);case"XXXX":case"XX":return Xt(s);default:return Xt(s,":")}},x:function(t,i,o){const s=t.getTimezoneOffset();switch(i){case"x":return gr(s);case"xxxx":case"xx":return Xt(s);default:return Xt(s,":")}},O:function(t,i,o){const s=t.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+pr(s,":");default:return"GMT"+Xt(s,":")}},z:function(t,i,o){const s=t.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+pr(s,":");default:return"GMT"+Xt(s,":")}},t:function(t,i,o){const s=Math.trunc(+t/1e3);return fe(s,i.length)},T:function(t,i,o){return fe(+t,i.length)}};function pr(t,i=""){const o=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),u=s%60;return u===0?o+String(a):o+String(a)+i+fe(u,2)}function gr(t,i){return t%60===0?(t>0?"-":"+")+fe(Math.abs(t)/60,2):Xt(t,i)}function Xt(t,i=""){const o=t>0?"-":"+",s=Math.abs(t),a=fe(Math.trunc(s/60),2),u=fe(s%60,2);return o+a+i+u}const vr=(t,i)=>{switch(t){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});default:return i.date({width:"full"})}},aa=(t,i)=>{switch(t){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});default:return i.time({width:"full"})}},Zu=(t,i)=>{const o=t.match(/(P+)(p+)?/)||[],s=o[1],a=o[2];if(!a)return vr(t,i);let u;switch(s){case"P":u=i.dateTime({width:"short"});break;case"PP":u=i.dateTime({width:"medium"});break;case"PPP":u=i.dateTime({width:"long"});break;default:u=i.dateTime({width:"full"});break}return u.replace("{{date}}",vr(s,i)).replace("{{time}}",aa(a,i))},Hu={p:aa,P:Zu},Yu=/^D+$/,qu=/^Y+$/,Uu=["D","DD","YY","YYYY"];function Gu(t){return Yu.test(t)}function Vu(t){return qu.test(t)}function $u(t,i,o){const s=Ku(t,i,o);if(console.warn(s),Uu.includes(t))throw new RangeError(s)}function Ku(t,i,o){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${i}\`) for formatting ${s} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xu=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ju=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qu=/^'([^]*?)'?$/,ed=/''/g,td=/[a-zA-Z]/;function Yn(t,i,o){const s=Qn(),a=o?.locale??s.locale??fn,u=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,f=me(t,o?.in);if(!tu(f))throw new RangeError("Invalid time value");let m=i.match(Ju).map(v=>{const _=v[0];if(_==="p"||_==="P"){const k=Hu[_];return k(v,a.formatLong)}return v}).join("").match(Xu).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const _=v[0];if(_==="'")return{isToken:!1,value:nd(v)};if(mr[_])return{isToken:!0,value:v};if(_.match(td))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const g={firstWeekContainsDate:u,weekStartsOn:h,locale:a};return m.map(v=>{if(!v.isToken)return v.value;const _=v.value;(!o?.useAdditionalWeekYearTokens&&Vu(_)||!o?.useAdditionalDayOfYearTokens&&Gu(_))&&$u(_,i,String(t));const k=mr[_[0]];return k(f,_,a.localize,g)}).join("")}function nd(t){const i=t.match(Qu);return i?i[1].replace(ed,"'"):t}function id(t,i){const o=me(t,i?.in),s=o.getFullYear(),a=o.getMonth(),u=Ce(o,0);return u.setFullYear(s,a+1,0),u.setHours(0,0,0,0),u.getDate()}function od(t,i){return me(t,i?.in).getMonth()}function sd(t,i){return me(t,i?.in).getFullYear()}function rd(t,i){return+me(t)>+me(i)}function ad(t,i){return+me(t)<+me(i)}function ld(t,i,o){const[s,a]=xn(o?.in,t,i);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}function cd(t,i,o){const[s,a]=xn(o?.in,t,i);return s.getFullYear()===a.getFullYear()}function ud(t,i,o){const s=me(t,o?.in),a=s.getFullYear(),u=s.getDate(),h=Ce(t,0);h.setFullYear(a,i,15),h.setHours(0,0,0,0);const f=id(h);return s.setMonth(i,Math.min(u,f)),s}function dd(t,i,o){const s=me(t,o?.in);return isNaN(+s)?Ce(t,NaN):(s.setFullYear(i),s)}const _r=5,hd=4;function fd(t,i){const o=i.startOfMonth(t),s=o.getDay()>0?o.getDay():7,a=i.addDays(t,-s+1),u=i.addDays(a,_r*7-1);return i.getMonth(t)===i.getMonth(u)?_r:hd}function la(t,i){const o=i.startOfMonth(t),s=o.getDay();return s===1?o:s===0?i.addDays(o,-6):i.addDays(o,-1*(s-1))}function md(t,i){const o=la(t,i),s=fd(t,i);return i.addDays(o,s*7-1)}const ca={...fn,labels:{labelDayButton:(t,i,o,s)=>{let a;s&&typeof s.format=="function"?a=s.format.bind(s):a=(h,f)=>Yn(h,f,{locale:fn,...o});let u=a(t,"PPPP");return i.today&&(u=`Today, ${u}`),i.selected&&(u=`${u}, selected`),u},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,i,o)=>{let s;return o&&typeof o.format=="function"?s=o.format.bind(o):s=(a,u)=>Yn(a,u,{locale:fn,...i}),s(t,"LLLL yyyy")},labelGridcell:(t,i,o,s)=>{let a;s&&typeof s.format=="function"?a=s.format.bind(s):a=(h,f)=>Yn(h,f,{locale:fn,...o});let u=a(t,"PPPP");return i?.today&&(u=`Today, ${u}`),u},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,i,o)=>{let s;return o&&typeof o.format=="function"?s=o.format.bind(o):s=(a,u)=>Yn(a,u,{locale:fn,...i}),s(t,"cccc")}}};class Re{constructor(i,o){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Te.tz(this.options.timeZone):new this.Date,this.newDate=(s,a,u)=>this.overrides?.newDate?this.overrides.newDate(s,a,u):this.options.timeZone?new Te(s,a,u,this.options.timeZone):new Date(s,a,u),this.addDays=(s,a)=>this.overrides?.addDays?this.overrides.addDays(s,a):Xr(s,a),this.addMonths=(s,a)=>this.overrides?.addMonths?this.overrides.addMonths(s,a):Jr(s,a),this.addWeeks=(s,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,a):Xc(s,a),this.addYears=(s,a)=>this.overrides?.addYears?this.overrides.addYears(s,a):Jc(s,a),this.differenceInCalendarDays=(s,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,a):Fo(s,a),this.differenceInCalendarMonths=(s,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,a):na(s,a),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):iu(s),this.eachYearOfInterval=s=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):ru(s),u=new Set(a.map(f=>this.getYear(f)));if(u.size===a.length)return a;const h=[];return u.forEach(f=>{h.push(new Date(f,0,1))}),h},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):md(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):au(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):nu(s),this.endOfWeek=(s,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,a):sa(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):su(s),this.format=(s,a,u)=>{const h=this.overrides?.format?this.overrides.format(s,a,this.options):Yn(s,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(h):h},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Zo(s),this.getMonth=(s,a)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):od(s,this.options),this.getYear=(s,a)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):sd(s,this.options),this.getWeek=(s,a)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Ho(s,this.options),this.isAfter=(s,a)=>this.overrides?.isAfter?this.overrides.isAfter(s,a):rd(s,a),this.isBefore=(s,a)=>this.overrides?.isBefore?this.overrides.isBefore(s,a):ad(s,a),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):ta(s),this.isSameDay=(s,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,a):ea(s,a),this.isSameMonth=(s,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,a):ld(s,a),this.isSameYear=(s,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,a):cd(s,a),this.max=s=>this.overrides?.max?this.overrides.max(s):Qc(s),this.min=s=>this.overrides?.min?this.overrides.min(s):eu(s),this.setMonth=(s,a)=>this.overrides?.setMonth?this.overrides.setMonth(s,a):ud(s,a),this.setYear=(s,a)=>this.overrides?.setYear?this.overrides.setYear(s,a):dd(s,a),this.startOfBroadcastWeek=(s,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):la(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):$n(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):Vn(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):ou(s),this.startOfWeek=(s,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):mn(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):oa(s),this.options={locale:ca,...i},this.overrides=o}getDigitMap(){const{numerals:i="latn"}=this.options,o=new Intl.NumberFormat("en-US",{numberingSystem:i}),s={};for(let a=0;a<10;a++)s[a.toString()]=o.format(a);return s}replaceDigits(i){const o=this.getDigitMap();return i.replace(/\d/g,s=>o[s]||s)}formatNumber(i){return this.replaceDigits(i.toString())}getMonthYearOrder(){const i=this.options.locale?.code;return i&&Re.yearFirstLocales.has(i)?"year-first":"month-first"}formatMonthYear(i){const{locale:o,timeZone:s,numerals:a}=this.options,u=o?.code;if(u&&Re.yearFirstLocales.has(u))try{return new Intl.DateTimeFormat(u,{month:"long",year:"numeric",timeZone:s,numberingSystem:a}).format(i)}catch{}const h=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(i,h)}}Re.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const ct=new Re;class ua{constructor(i,o,s=ct){this.date=i,this.displayMonth=o,this.outside=!!(o&&!s.isSameMonth(i,o)),this.dateLib=s,this.isoDate=s.format(i,"yyyy-MM-dd"),this.displayMonthId=s.format(o,"yyyy-MM"),this.dateMonthId=s.format(i,"yyyy-MM")}isEqualTo(i){return this.dateLib.isSameDay(i.date,this.date)&&this.dateLib.isSameMonth(i.displayMonth,this.displayMonth)}}class pd{constructor(i,o){this.date=i,this.weeks=o}}class gd{constructor(i,o){this.days=o,this.weekNumber=i}}function vd(t){return B.createElement("button",{...t})}function _d(t){return B.createElement("span",{...t})}function yd(t){const{size:i=24,orientation:o="left",className:s}=t;return B.createElement("svg",{className:s,width:i,height:i,viewBox:"0 0 24 24"},o==="up"&&B.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),o==="down"&&B.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),o==="left"&&B.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),o==="right"&&B.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function xd(t){const{day:i,modifiers:o,...s}=t;return B.createElement("td",{...s})}function bd(t){const{day:i,modifiers:o,...s}=t,a=B.useRef(null);return B.useEffect(()=>{o.focused&&a.current?.focus()},[o.focused]),B.createElement("button",{ref:a,...s})}var Y;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Y||(Y={}));var we;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(we||(we={}));var Je;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Je||(Je={}));var ze;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(ze||(ze={}));function wd(t){const{options:i,className:o,components:s,classNames:a,...u}=t,h=[a[Y.Dropdown],o].join(" "),f=i?.find(({value:m})=>m===u.value);return B.createElement("span",{"data-disabled":u.disabled,className:a[Y.DropdownRoot]},B.createElement(s.Select,{className:h,...u},i?.map(({value:m,label:g,disabled:v})=>B.createElement(s.Option,{key:m,value:m,disabled:v},g))),B.createElement("span",{className:a[Y.CaptionLabel],"aria-hidden":!0},f?.label,B.createElement(s.Chevron,{orientation:"down",size:18,className:a[Y.Chevron]})))}function kd(t){return B.createElement("div",{...t})}function Pd(t){return B.createElement("div",{...t})}function Nd(t){const{calendarMonth:i,displayIndex:o,...s}=t;return B.createElement("div",{...s},t.children)}function Cd(t){const{calendarMonth:i,displayIndex:o,...s}=t;return B.createElement("div",{...s})}function Md(t){return B.createElement("table",{...t})}function Sd(t){return B.createElement("div",{...t})}const da=w.createContext(void 0);function ei(){const t=w.useContext(da);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function Od(t){const{components:i}=ei();return B.createElement(i.Dropdown,{...t})}function jd(t){const{onPreviousClick:i,onNextClick:o,previousMonth:s,nextMonth:a,...u}=t,{components:h,classNames:f,labels:{labelPrevious:m,labelNext:g}}=ei(),v=w.useCallback(k=>{a&&o?.(k)},[a,o]),_=w.useCallback(k=>{s&&i?.(k)},[s,i]);return B.createElement("nav",{...u},B.createElement(h.PreviousMonthButton,{type:"button",className:f[Y.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":m(s),onClick:_},B.createElement(h.Chevron,{disabled:s?void 0:!0,className:f[Y.Chevron],orientation:"left"})),B.createElement(h.NextMonthButton,{type:"button",className:f[Y.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":g(a),onClick:v},B.createElement(h.Chevron,{disabled:a?void 0:!0,orientation:"right",className:f[Y.Chevron]})))}function Td(t){const{components:i}=ei();return B.createElement(i.Button,{...t})}function Ld(t){return B.createElement("option",{...t})}function Dd(t){const{components:i}=ei();return B.createElement(i.Button,{...t})}function Ed(t){const{rootRef:i,...o}=t;return B.createElement("div",{...o,ref:i})}function Ad(t){return B.createElement("select",{...t})}function Id(t){const{week:i,...o}=t;return B.createElement("tr",{...o})}function Bd(t){return B.createElement("th",{...t})}function zd(t){return B.createElement("thead",{"aria-hidden":!0},B.createElement("tr",{...t}))}function Wd(t){const{week:i,...o}=t;return B.createElement("th",{...o})}function Rd(t){return B.createElement("th",{...t})}function Fd(t){return B.createElement("tbody",{...t})}function Zd(t){const{components:i}=ei();return B.createElement(i.Dropdown,{...t})}const Hd=Object.freeze(Object.defineProperty({__proto__:null,Button:vd,CaptionLabel:_d,Chevron:yd,Day:xd,DayButton:bd,Dropdown:wd,DropdownNav:kd,Footer:Pd,Month:Nd,MonthCaption:Cd,MonthGrid:Md,Months:Sd,MonthsDropdown:Od,Nav:jd,NextMonthButton:Td,Option:Ld,PreviousMonthButton:Dd,Root:Ed,Select:Ad,Week:Id,WeekNumber:Wd,WeekNumberHeader:Rd,Weekday:Bd,Weekdays:zd,Weeks:Fd,YearsDropdown:Zd},Symbol.toStringTag,{value:"Module"}));function bt(t,i,o=!1,s=ct){let{from:a,to:u}=t;const{differenceInCalendarDays:h,isSameDay:f}=s;return a&&u?(h(u,a)<0&&([a,u]=[u,a]),h(i,a)>=(o?1:0)&&h(u,i)>=(o?1:0)):!o&&u?f(u,i):!o&&a?f(a,i):!1}function Yo(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Ei(t){return!!(t&&typeof t=="object"&&"from"in t)}function qo(t){return!!(t&&typeof t=="object"&&"after"in t)}function Uo(t){return!!(t&&typeof t=="object"&&"before"in t)}function ha(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function fa(t,i){return Array.isArray(t)&&t.every(i.isDate)}function wt(t,i,o=ct){const s=Array.isArray(i)?i:[i],{isSameDay:a,differenceInCalendarDays:u,isAfter:h}=o;return s.some(f=>{if(typeof f=="boolean")return f;if(o.isDate(f))return a(t,f);if(fa(f,o))return f.some(m=>a(t,m));if(Ei(f))return bt(f,t,!1,o);if(ha(f))return Array.isArray(f.dayOfWeek)?f.dayOfWeek.includes(t.getDay()):f.dayOfWeek===t.getDay();if(Yo(f)){const m=u(f.before,t),g=u(f.after,t),v=m>0,_=g<0;return h(f.before,f.after)?_&&v:v||_}return qo(f)?u(t,f.after)>0:Uo(f)?u(f.before,t)>0:typeof f=="function"?f(t):!1})}function Yd(t,i,o,s,a){const{disabled:u,hidden:h,modifiers:f,showOutsideDays:m,broadcastCalendar:g,today:v=a.today()}=i,{isSameDay:_,isSameMonth:k,startOfMonth:b,isBefore:N,endOfMonth:P,isAfter:y}=a,S=o&&b(o),E=s&&P(s),T={[we.focused]:[],[we.outside]:[],[we.disabled]:[],[we.hidden]:[],[we.today]:[]},O={};for(const j of t){const{date:D,displayMonth:z}=j,A=!!(z&&!k(D,z)),F=!!(S&&N(D,S)),U=!!(E&&y(D,E)),Z=!!(u&&wt(D,u,a)),q=!!(h&&wt(D,h,a))||F||U||!g&&!m&&A||g&&m===!1&&A,K=_(D,v);A&&T.outside.push(j),Z&&T.disabled.push(j),q&&T.hidden.push(j),K&&T.today.push(j),f&&Object.keys(f).forEach(te=>{const ve=f?.[te];ve&&wt(D,ve,a)&&(O[te]?O[te].push(j):O[te]=[j])})}return j=>{const D={[we.focused]:!1,[we.disabled]:!1,[we.hidden]:!1,[we.outside]:!1,[we.today]:!1},z={};for(const A in T){const F=T[A];D[A]=F.some(U=>U===j)}for(const A in O)z[A]=O[A].some(F=>F===j);return{...D,...z}}}function qd(t,i,o={}){return Object.entries(t).filter(([,a])=>a===!0).reduce((a,[u])=>(o[u]?a.push(o[u]):i[we[u]]?a.push(i[we[u]]):i[Je[u]]&&a.push(i[Je[u]]),a),[i[Y.Day]])}function Ud(t){return{...Hd,...t}}function Gd(t){const i={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([o,s])=>{o.startsWith("data-")&&(i[o]=s)}),i}function Vd(){const t={};for(const i in Y)t[Y[i]]=`rdp-${Y[i]}`;for(const i in we)t[we[i]]=`rdp-${we[i]}`;for(const i in Je)t[Je[i]]=`rdp-${Je[i]}`;for(const i in ze)t[ze[i]]=`rdp-${ze[i]}`;return t}function ma(t,i,o){return(o??new Re(i)).formatMonthYear(t)}const $d=ma;function Kd(t,i,o){return(o??new Re(i)).format(t,"d")}function Xd(t,i=ct){return i.format(t,"LLLL")}function Jd(t,i,o){return(o??new Re(i)).format(t,"cccccc")}function Qd(t,i=ct){return t<10?i.formatNumber(`0${t.toLocaleString()}`):i.formatNumber(`${t.toLocaleString()}`)}function eh(){return""}function pa(t,i=ct){return i.format(t,"yyyy")}const th=pa,nh=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:ma,formatDay:Kd,formatMonthCaption:$d,formatMonthDropdown:Xd,formatWeekNumber:Qd,formatWeekNumberHeader:eh,formatWeekdayName:Jd,formatYearCaption:th,formatYearDropdown:pa},Symbol.toStringTag,{value:"Module"}));function ih(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...nh,...t}}function Go(t,i,o,s){let a=(s??new Re(o)).format(t,"PPPP");return i.today&&(a=`Today, ${a}`),i.selected&&(a=`${a}, selected`),a}const oh=Go;function Vo(t,i,o){return(o??new Re(i)).formatMonthYear(t)}const sh=Vo;function ga(t,i,o,s){let a=(s??new Re(o)).format(t,"PPPP");return i?.today&&(a=`Today, ${a}`),a}function va(t){return"Choose the Month"}function _a(){return""}const rh="Go to the Next Month";function ya(t,i){return rh}function xa(t){return"Go to the Previous Month"}function ba(t,i,o){return(o??new Re(i)).format(t,"cccc")}function wa(t,i){return`Week ${t}`}function ka(t){return"Week Number"}function Pa(t){return"Choose the Year"}const ah=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:sh,labelDay:oh,labelDayButton:Go,labelGrid:Vo,labelGridcell:ga,labelMonthDropdown:va,labelNav:_a,labelNext:ya,labelPrevious:xa,labelWeekNumber:wa,labelWeekNumberHeader:ka,labelWeekday:ba,labelYearDropdown:Pa},Symbol.toStringTag,{value:"Module"})),Xe=(t,i,o)=>i||(o?typeof o=="function"?o:(...s)=>o:t);function lh(t,i){const o=i.locale?.labels??{};return{...ah,...t??{},labelDayButton:Xe(Go,t?.labelDayButton,o.labelDayButton),labelMonthDropdown:Xe(va,t?.labelMonthDropdown,o.labelMonthDropdown),labelNext:Xe(ya,t?.labelNext,o.labelNext),labelPrevious:Xe(xa,t?.labelPrevious,o.labelPrevious),labelWeekNumber:Xe(wa,t?.labelWeekNumber,o.labelWeekNumber),labelYearDropdown:Xe(Pa,t?.labelYearDropdown,o.labelYearDropdown),labelGrid:Xe(Vo,t?.labelGrid,o.labelGrid),labelGridcell:Xe(ga,t?.labelGridcell,o.labelGridcell),labelNav:Xe(_a,t?.labelNav,o.labelNav),labelWeekNumberHeader:Xe(ka,t?.labelWeekNumberHeader,o.labelWeekNumberHeader),labelWeekday:Xe(ba,t?.labelWeekday,o.labelWeekday)}}function ch(t,i,o,s,a){const{startOfMonth:u,startOfYear:h,endOfYear:f,eachMonthOfInterval:m,getMonth:g}=a;return m({start:h(t),end:f(t)}).map(k=>{const b=s.formatMonthDropdown(k,a),N=g(k),P=i&&k<u(i)||o&&k>u(o)||!1;return{value:N,label:b,disabled:P}})}function uh(t,i={},o={}){let s={...i?.[Y.Day]};return Object.entries(t).filter(([,a])=>a===!0).forEach(([a])=>{s={...s,...o?.[a]}}),s}function dh(t,i,o,s){const a=s??t.today(),u=o?t.startOfBroadcastWeek(a,t):i?t.startOfISOWeek(a):t.startOfWeek(a),h=[];for(let f=0;f<7;f++){const m=t.addDays(u,f);h.push(m)}return h}function hh(t,i,o,s,a=!1){if(!t||!i)return;const{startOfYear:u,endOfYear:h,eachYearOfInterval:f,getYear:m}=s,g=u(t),v=h(i),_=f({start:g,end:v});return a&&_.reverse(),_.map(k=>{const b=o.formatYearDropdown(k,s);return{value:m(k),label:b,disabled:!1}})}function fh(t,i={}){const{weekStartsOn:o,locale:s}=i,a=o??s?.options?.weekStartsOn??0,u=f=>{const m=typeof f=="number"||typeof f=="string"?new Date(f):f;return new Te(m.getFullYear(),m.getMonth(),m.getDate(),12,0,0,t)},h=f=>{const m=u(f);return new Date(m.getFullYear(),m.getMonth(),m.getDate(),0,0,0,0)};return{today:()=>u(Te.tz(t)),newDate:(f,m,g)=>new Te(f,m,g,12,0,0,t),startOfDay:f=>u(f),startOfWeek:(f,m)=>{const g=u(f),v=m?.weekStartsOn??a,_=(g.getDay()-v+7)%7;return g.setDate(g.getDate()-_),g},startOfISOWeek:f=>{const m=u(f),g=(m.getDay()-1+7)%7;return m.setDate(m.getDate()-g),m},startOfMonth:f=>{const m=u(f);return m.setDate(1),m},startOfYear:f=>{const m=u(f);return m.setMonth(0,1),m},endOfWeek:(f,m)=>{const g=u(f),k=(((m?.weekStartsOn??a)+6)%7-g.getDay()+7)%7;return g.setDate(g.getDate()+k),g},endOfISOWeek:f=>{const m=u(f),g=(7-m.getDay())%7;return m.setDate(m.getDate()+g),m},endOfMonth:f=>{const m=u(f);return m.setMonth(m.getMonth()+1,0),m},endOfYear:f=>{const m=u(f);return m.setMonth(11,31),m},eachMonthOfInterval:f=>{const m=u(f.start),g=u(f.end),v=[],_=new Te(m.getFullYear(),m.getMonth(),1,12,0,0,t),k=g.getFullYear()*12+g.getMonth();for(;_.getFullYear()*12+_.getMonth()<=k;)v.push(new Te(_,t)),_.setMonth(_.getMonth()+1,1);return v},addDays:(f,m)=>{const g=u(f);return g.setDate(g.getDate()+m),g},addWeeks:(f,m)=>{const g=u(f);return g.setDate(g.getDate()+m*7),g},addMonths:(f,m)=>{const g=u(f);return g.setMonth(g.getMonth()+m),g},addYears:(f,m)=>{const g=u(f);return g.setFullYear(g.getFullYear()+m),g},eachYearOfInterval:f=>{const m=u(f.start),g=u(f.end),v=[],_=new Te(m.getFullYear(),0,1,12,0,0,t);for(;_.getFullYear()<=g.getFullYear();)v.push(new Te(_,t)),_.setFullYear(_.getFullYear()+1,0,1);return v},getWeek:(f,m)=>{const g=h(f);return Ho(g,{weekStartsOn:m?.weekStartsOn??a,firstWeekContainsDate:m?.firstWeekContainsDate??s?.options?.firstWeekContainsDate??1})},getISOWeek:f=>{const m=h(f);return Zo(m)},differenceInCalendarDays:(f,m)=>{const g=h(f),v=h(m);return Fo(g,v)},differenceInCalendarMonths:(f,m)=>{const g=h(f),v=h(m);return na(g,v)}}}const ti=t=>t instanceof HTMLElement?t:null,bo=t=>[...t.querySelectorAll("[data-animated-month]")??[]],mh=t=>ti(t.querySelector("[data-animated-month]")),wo=t=>ti(t.querySelector("[data-animated-caption]")),ko=t=>ti(t.querySelector("[data-animated-weeks]")),ph=t=>ti(t.querySelector("[data-animated-nav]")),gh=t=>ti(t.querySelector("[data-animated-weekdays]"));function vh(t,i,{classNames:o,months:s,focused:a,dateLib:u}){const h=w.useRef(null),f=w.useRef(s),m=w.useRef(!1);w.useLayoutEffect(()=>{const g=f.current;if(f.current=s,!i||!t.current||!(t.current instanceof HTMLElement)||s.length===0||g.length===0||s.length!==g.length)return;const v=u.isSameMonth(s[0].date,g[0].date),_=u.isAfter(s[0].date,g[0].date),k=_?o[ze.caption_after_enter]:o[ze.caption_before_enter],b=_?o[ze.weeks_after_enter]:o[ze.weeks_before_enter],N=h.current,P=t.current.cloneNode(!0);if(P instanceof HTMLElement?(bo(P).forEach(T=>{if(!(T instanceof HTMLElement))return;const O=mh(T);O&&T.contains(O)&&T.removeChild(O);const j=wo(T);j&&j.classList.remove(k);const D=ko(T);D&&D.classList.remove(b)}),h.current=P):h.current=null,m.current||v||a)return;const y=N instanceof HTMLElement?bo(N):[],S=bo(t.current);if(S?.every(E=>E instanceof HTMLElement)&&y&&y.every(E=>E instanceof HTMLElement)){m.current=!0,t.current.style.isolation="isolate";const E=ph(t.current);E&&(E.style.zIndex="1"),S.forEach((T,O)=>{const j=y[O];if(!j)return;T.style.position="relative",T.style.overflow="hidden";const D=wo(T);D&&D.classList.add(k);const z=ko(T);z&&z.classList.add(b);const A=()=>{m.current=!1,t.current&&(t.current.style.isolation=""),E&&(E.style.zIndex=""),D&&D.classList.remove(k),z&&z.classList.remove(b),T.style.position="",T.style.overflow="",T.contains(j)&&T.removeChild(j)};j.style.pointerEvents="none",j.style.position="absolute",j.style.overflow="hidden",j.setAttribute("aria-hidden","true");const F=gh(j);F&&(F.style.opacity="0");const U=wo(j);U&&(U.classList.add(_?o[ze.caption_before_exit]:o[ze.caption_after_exit]),U.addEventListener("animationend",A));const Z=ko(j);Z&&Z.classList.add(_?o[ze.weeks_before_exit]:o[ze.weeks_after_exit]),T.insertBefore(j,T.firstChild)})}})}function _h(t,i,o,s){const a=t[0],u=t[t.length-1],{ISOWeek:h,fixedWeeks:f,broadcastCalendar:m}=o??{},{addDays:g,differenceInCalendarDays:v,differenceInCalendarMonths:_,endOfBroadcastWeek:k,endOfISOWeek:b,endOfMonth:N,endOfWeek:P,isAfter:y,startOfBroadcastWeek:S,startOfISOWeek:E,startOfWeek:T}=s,O=m?S(a,s):h?E(a):T(a),j=m?k(u):h?b(N(u)):P(N(u)),D=i&&(m?k(i):h?b(i):P(i)),z=D&&y(j,D)?D:j,A=v(z,O),F=_(u,a)+1,U=[];for(let K=0;K<=A;K++){const te=g(O,K);U.push(te)}const q=(m?35:42)*F;if(f&&U.length<q){const K=q-U.length;for(let te=0;te<K;te++){const ve=g(U[U.length-1],1);U.push(ve)}}return U}function yh(t){const i=[];return t.reduce((o,s)=>{const a=s.weeks.reduce((u,h)=>u.concat(h.days.slice()),i.slice());return o.concat(a.slice())},i.slice())}function xh(t,i,o,s){const{numberOfMonths:a=1}=o,u=[];for(let h=0;h<a;h++){const f=s.addMonths(t,h);if(i&&f>i)break;u.push(f)}return u}function yr(t,i,o,s){const{month:a,defaultMonth:u,today:h=s.today(),numberOfMonths:f=1}=t;let m=a||u||h;const{differenceInCalendarMonths:g,addMonths:v,startOfMonth:_}=s;if(o&&g(o,m)<f-1){const k=-1*(f-1);m=v(o,k)}return i&&g(m,i)<0&&(m=i),_(m)}function bh(t,i,o,s){const{addDays:a,endOfBroadcastWeek:u,endOfISOWeek:h,endOfMonth:f,endOfWeek:m,getISOWeek:g,getWeek:v,startOfBroadcastWeek:_,startOfISOWeek:k,startOfWeek:b}=s,N=t.reduce((P,y)=>{const S=o.broadcastCalendar?_(y,s):o.ISOWeek?k(y):b(y),E=o.broadcastCalendar?u(y):o.ISOWeek?h(f(y)):m(f(y)),T=i.filter(z=>z>=S&&z<=E),O=o.broadcastCalendar?35:42;if(o.fixedWeeks&&T.length<O){const z=i.filter(A=>{const F=O-T.length;return A>E&&A<=a(E,F)});T.push(...z)}const j=T.reduce((z,A)=>{const F=o.ISOWeek?g(A):v(A),U=z.find(q=>q.weekNumber===F),Z=new ua(A,y,s);return U?U.days.push(Z):z.push(new gd(F,[Z])),z},[]),D=new pd(y,j);return P.push(D),P},[]);return o.reverseMonths?N.reverse():N}function wh(t,i){let{startMonth:o,endMonth:s}=t;const{startOfYear:a,startOfDay:u,startOfMonth:h,endOfMonth:f,addYears:m,endOfYear:g,newDate:v,today:_}=i,{fromYear:k,toYear:b,fromMonth:N,toMonth:P}=t;!o&&N&&(o=N),!o&&k&&(o=i.newDate(k,0,1)),!s&&P&&(s=P),!s&&b&&(s=v(b,11,31));const y=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return o?o=h(o):k?o=v(k,0,1):!o&&y&&(o=a(m(t.today??_(),-100))),s?s=f(s):b?s=v(b,11,31):!s&&y&&(s=g(t.today??_())),[o&&u(o),s&&u(s)]}function kh(t,i,o,s){if(o.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:u=1}=o,{startOfMonth:h,addMonths:f,differenceInCalendarMonths:m}=s,g=a?u:1,v=h(t);if(!i)return f(v,g);if(!(m(i,t)<u))return f(v,g)}function Ph(t,i,o,s){if(o.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:u}=o,{startOfMonth:h,addMonths:f,differenceInCalendarMonths:m}=s,g=a?u??1:1,v=h(t);if(!i)return f(v,-g);if(!(m(v,i)<=0))return f(v,-g)}function Nh(t){const i=[];return t.reduce((o,s)=>o.concat(s.weeks.slice()),i.slice())}function Ai(t,i){const[o,s]=w.useState(t);return[i===void 0?o:i,s]}function Ch(t,i){const[o,s]=wh(t,i),{startOfMonth:a,endOfMonth:u}=i,h=yr(t,o,s,i),[f,m]=Ai(h,t.month?h:void 0);w.useEffect(()=>{const O=yr(t,o,s,i);m(O)},[t.timeZone]);const{months:g,weeks:v,days:_,previousMonth:k,nextMonth:b}=w.useMemo(()=>{const O=xh(f,s,{numberOfMonths:t.numberOfMonths},i),j=_h(O,t.endMonth?u(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},i),D=bh(O,j,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},i),z=Nh(D),A=yh(D),F=Ph(f,o,t,i),U=kh(f,s,t,i);return{months:D,weeks:z,days:A,previousMonth:F,nextMonth:U}},[i,f.getTime(),s?.getTime(),o?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:N,onMonthChange:P}=t,y=O=>v.some(j=>j.days.some(D=>D.isEqualTo(O))),S=O=>{if(N)return;let j=a(O);o&&j<a(o)&&(j=a(o)),s&&j>a(s)&&(j=a(s)),m(j),P?.(j)};return{months:g,weeks:v,days:_,navStart:o,navEnd:s,previousMonth:k,nextMonth:b,goToMonth:S,goToDay:O=>{y(O)||S(O.date)}}}var st;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(st||(st={}));function xr(t){return!t[we.disabled]&&!t[we.hidden]&&!t[we.outside]}function Mh(t,i,o,s){let a,u=-1;for(const h of t){const f=i(h);xr(f)&&(f[we.focused]&&u<st.FocusedModifier?(a=h,u=st.FocusedModifier):s?.isEqualTo(h)&&u<st.LastFocused?(a=h,u=st.LastFocused):o(h.date)&&u<st.Selected?(a=h,u=st.Selected):f[we.today]&&u<st.Today&&(a=h,u=st.Today))}return a||(a=t.find(h=>xr(i(h)))),a}function Sh(t,i,o,s,a,u,h){const{ISOWeek:f,broadcastCalendar:m}=u,{addDays:g,addMonths:v,addWeeks:_,addYears:k,endOfBroadcastWeek:b,endOfISOWeek:N,endOfWeek:P,max:y,min:S,startOfBroadcastWeek:E,startOfISOWeek:T,startOfWeek:O}=h;let D={day:g,week:_,month:v,year:k,startOfWeek:z=>m?E(z,h):f?T(z):O(z),endOfWeek:z=>m?b(z):f?N(z):P(z)}[t](o,i==="after"?1:-1);return i==="before"&&s?D=y([s,D]):i==="after"&&a&&(D=S([a,D])),D}function Na(t,i,o,s,a,u,h,f=0){if(f>365)return;const m=Sh(t,i,o.date,s,a,u,h),g=!!(u.disabled&&wt(m,u.disabled,h)),v=!!(u.hidden&&wt(m,u.hidden,h)),_=m,k=new ua(m,_,h);return!g&&!v?k:Na(t,i,k,s,a,u,h,f+1)}function Oh(t,i,o,s,a){const{autoFocus:u}=t,[h,f]=w.useState(),m=Mh(i.days,o,s||(()=>!1),h),[g,v]=w.useState(u?m:void 0);return{isFocusTarget:P=>!!m?.isEqualTo(P),setFocused:v,focused:g,blur:()=>{f(g),v(void 0)},moveFocus:(P,y)=>{if(!g)return;const S=Na(P,y,g,i.navStart,i.navEnd,t,a);S&&(t.disableNavigation&&!i.days.some(T=>T.isEqualTo(S))||(i.goToDay(S),v(S)))}}}function jh(t,i){const{selected:o,required:s,onSelect:a}=t,[u,h]=Ai(o,a?o:void 0),f=a?o:u,{isSameDay:m}=i,g=b=>f?.some(N=>m(N,b))??!1,{min:v,max:_}=t;return{selected:f,select:(b,N,P)=>{let y=[...f??[]];if(g(b)){if(f?.length===v||s&&f?.length===1)return;y=f?.filter(S=>!m(S,b))}else f?.length===_?y=[b]:y=[...y,b];return a||h(y),a?.(y,b,N,P),y},isSelected:g}}function Th(t,i,o=0,s=0,a=!1,u=ct){const{from:h,to:f}=i||{},{isSameDay:m,isAfter:g,isBefore:v}=u;let _;if(!h&&!f)_={from:t,to:o>0?void 0:t};else if(h&&!f)m(h,t)?o===0?_={from:h,to:t}:a?_={from:h,to:void 0}:_=void 0:v(t,h)?_={from:t,to:h}:_={from:h,to:t};else if(h&&f)if(m(h,t)&&m(f,t))a?_={from:h,to:f}:_=void 0;else if(m(h,t))_={from:h,to:o>0?void 0:t};else if(m(f,t))_={from:t,to:o>0?void 0:t};else if(v(t,h))_={from:t,to:f};else if(g(t,h))_={from:h,to:t};else if(g(t,f))_={from:h,to:t};else throw new Error("Invalid range");if(_?.from&&_?.to){const k=u.differenceInCalendarDays(_.to,_.from);s>0&&k>s?_={from:t,to:void 0}:o>1&&k<o&&(_={from:t,to:void 0})}return _}function Lh(t,i,o=ct){const s=Array.isArray(i)?i:[i];let a=t.from;const u=o.differenceInCalendarDays(t.to,t.from),h=Math.min(u,6);for(let f=0;f<=h;f++){if(s.includes(a.getDay()))return!0;a=o.addDays(a,1)}return!1}function br(t,i,o=ct){return bt(t,i.from,!1,o)||bt(t,i.to,!1,o)||bt(i,t.from,!1,o)||bt(i,t.to,!1,o)}function Dh(t,i,o=ct){const s=Array.isArray(i)?i:[i];if(s.filter(f=>typeof f!="function").some(f=>typeof f=="boolean"?f:o.isDate(f)?bt(t,f,!1,o):fa(f,o)?f.some(m=>bt(t,m,!1,o)):Ei(f)?f.from&&f.to?br(t,{from:f.from,to:f.to},o):!1:ha(f)?Lh(t,f.dayOfWeek,o):Yo(f)?o.isAfter(f.before,f.after)?br(t,{from:o.addDays(f.after,1),to:o.addDays(f.before,-1)},o):wt(t.from,f,o)||wt(t.to,f,o):qo(f)||Uo(f)?wt(t.from,f,o)||wt(t.to,f,o):!1))return!0;const h=s.filter(f=>typeof f=="function");if(h.length){let f=t.from;const m=o.differenceInCalendarDays(t.to,t.from);for(let g=0;g<=m;g++){if(h.some(v=>v(f)))return!0;f=o.addDays(f,1)}}return!1}function Eh(t,i){const{disabled:o,excludeDisabled:s,selected:a,required:u,onSelect:h}=t,[f,m]=Ai(a,h?a:void 0),g=h?a:f;return{selected:g,select:(k,b,N)=>{const{min:P,max:y}=t,S=k?Th(k,g,P,y,u,i):void 0;return s&&o&&S?.from&&S.to&&Dh({from:S.from,to:S.to},o,i)&&(S.from=k,S.to=void 0),h||m(S),h?.(S,k,b,N),S},isSelected:k=>g&&bt(g,k,!1,i)}}function Ah(t,i){const{selected:o,required:s,onSelect:a}=t,[u,h]=Ai(o,a?o:void 0),f=a?o:u,{isSameDay:m}=i;return{selected:f,select:(_,k,b)=>{let N=_;return!s&&f&&f&&m(_,f)&&(N=void 0),a||h(N),a?.(N,_,k,b),N},isSelected:_=>f?m(f,_):!1}}function Ih(t,i){const o=Ah(t,i),s=jh(t,i),a=Eh(t,i);switch(t.mode){case"single":return o;case"multiple":return s;case"range":return a;default:return}}function Ue(t,i){return t instanceof Te&&t.timeZone===i?t:new Te(t,i)}function hn(t,i,o){return Ue(t,i)}function wr(t,i,o){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?hn(t,i):Array.isArray(t)?t.map(s=>s instanceof Date?hn(s,i):s):Ei(t)?{...t,from:t.from?Ue(t.from,i):t.from,to:t.to?Ue(t.to,i):t.to}:Yo(t)?{before:hn(t.before,i),after:hn(t.after,i)}:qo(t)?{after:hn(t.after,i)}:Uo(t)?{before:hn(t.before,i)}:t}function Po(t,i,o){return t&&(Array.isArray(t)?t.map(s=>wr(s,i)):wr(t,i))}function Bh(t){let i=t;const o=i.timeZone;if(o&&(i={...t,timeZone:o},i.today&&(i.today=Ue(i.today,o)),i.month&&(i.month=Ue(i.month,o)),i.defaultMonth&&(i.defaultMonth=Ue(i.defaultMonth,o)),i.startMonth&&(i.startMonth=Ue(i.startMonth,o)),i.endMonth&&(i.endMonth=Ue(i.endMonth,o)),i.mode==="single"&&i.selected?i.selected=Ue(i.selected,o):i.mode==="multiple"&&i.selected?i.selected=i.selected?.map(J=>Ue(J,o)):i.mode==="range"&&i.selected&&(i.selected={from:i.selected.from?Ue(i.selected.from,o):i.selected.from,to:i.selected.to?Ue(i.selected.to,o):i.selected.to}),i.disabled!==void 0&&(i.disabled=Po(i.disabled,o)),i.hidden!==void 0&&(i.hidden=Po(i.hidden,o)),i.modifiers)){const J={};Object.keys(i.modifiers).forEach(ce=>{J[ce]=Po(i.modifiers?.[ce],o)}),i.modifiers=J}const{components:s,formatters:a,labels:u,dateLib:h,locale:f,classNames:m}=w.useMemo(()=>{const J={...ca,...i.locale},ce=i.broadcastCalendar?1:i.weekStartsOn,V=i.noonSafe&&i.timeZone?fh(i.timeZone,{weekStartsOn:ce,locale:J}):void 0,ae=i.dateLib&&V?{...V,...i.dateLib}:i.dateLib??V,Le=new Re({locale:J,weekStartsOn:ce,firstWeekContainsDate:i.firstWeekContainsDate,useAdditionalWeekYearTokens:i.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:i.useAdditionalDayOfYearTokens,timeZone:i.timeZone,numerals:i.numerals},ae);return{dateLib:Le,components:Ud(i.components),formatters:ih(i.formatters),labels:lh(i.labels,Le.options),locale:J,classNames:{...Vd(),...i.classNames}}},[i.locale,i.broadcastCalendar,i.weekStartsOn,i.firstWeekContainsDate,i.useAdditionalWeekYearTokens,i.useAdditionalDayOfYearTokens,i.timeZone,i.numerals,i.dateLib,i.noonSafe,i.components,i.formatters,i.labels,i.classNames]);i.today||(i={...i,today:h.today()});const{captionLayout:g,mode:v,navLayout:_,numberOfMonths:k=1,onDayBlur:b,onDayClick:N,onDayFocus:P,onDayKeyDown:y,onDayMouseEnter:S,onDayMouseLeave:E,onNextClick:T,onPrevClick:O,showWeekNumber:j,styles:D}=i,{formatCaption:z,formatDay:A,formatMonthDropdown:F,formatWeekNumber:U,formatWeekNumberHeader:Z,formatWeekdayName:q,formatYearDropdown:K}=a,te=Ch(i,h),{days:ve,months:re,navStart:ye,navEnd:G,previousMonth:pe,nextMonth:W,goToMonth:ne}=te,_e=Yd(ve,i,ye,G,h),{isSelected:xe,select:he,selected:Q}=Ih(i,h)??{},{blur:X,focused:Oe,isFocusTarget:Me,moveFocus:ft,setFocused:Qe}=Oh(i,te,_e,xe??(()=>!1),h),{labelDayButton:mt,labelGridcell:pt,labelGrid:Ct,labelMonthDropdown:bn,labelNav:Wt,labelPrevious:Rt,labelNext:Mt,labelWeekday:St,labelWeekNumber:wn,labelWeekNumberHeader:Ze,labelYearDropdown:et}=u,Ft=w.useMemo(()=>dh(h,i.ISOWeek,i.broadcastCalendar,i.today),[h,i.ISOWeek,i.broadcastCalendar,i.today]),Ot=v!==void 0||N!==void 0,gt=w.useCallback(()=>{pe&&(ne(pe),O?.(pe))},[pe,ne,O]),jt=w.useCallback(()=>{W&&(ne(W),T?.(W))},[ne,W,T]),Tt=w.useCallback((J,ce)=>V=>{V.preventDefault(),V.stopPropagation(),Qe(J),!ce.disabled&&(he?.(J.date,ce,V),N?.(J.date,ce,V))},[he,N,Qe]),Zt=w.useCallback((J,ce)=>V=>{Qe(J),P?.(J.date,ce,V)},[P,Qe]),Ht=w.useCallback((J,ce)=>V=>{X(),b?.(J.date,ce,V)},[X,b]),Wi=w.useCallback((J,ce)=>V=>{const ae={ArrowLeft:[V.shiftKey?"month":"day",i.dir==="rtl"?"after":"before"],ArrowRight:[V.shiftKey?"month":"day",i.dir==="rtl"?"before":"after"],ArrowDown:[V.shiftKey?"year":"week","after"],ArrowUp:[V.shiftKey?"year":"week","before"],PageUp:[V.shiftKey?"year":"month","before"],PageDown:[V.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ae[V.key]){V.preventDefault(),V.stopPropagation();const[Le,se]=ae[V.key];ft(Le,se)}y?.(J.date,ce,V)},[ft,y,i.dir]),si=w.useCallback((J,ce)=>V=>{S?.(J.date,ce,V)},[S]),ri=w.useCallback((J,ce)=>V=>{E?.(J.date,ce,V)},[E]),Ri=w.useCallback(J=>ce=>{const V=Number(ce.target.value),ae=h.setMonth(h.startOfMonth(J),V);ne(ae)},[h,ne]),ai=w.useCallback(J=>ce=>{const V=Number(ce.target.value),ae=h.setYear(h.startOfMonth(J),V);ne(ae)},[h,ne]),{className:kn,style:li}=w.useMemo(()=>({className:[m[Y.Root],i.className].filter(Boolean).join(" "),style:{...D?.[Y.Root],...i.style}}),[m,i.className,i.style,D]),Fi=Gd(i),Lt=w.useRef(null);vh(Lt,!!i.animate,{classNames:m,months:re,focused:Oe,dateLib:h});const Zi={dayPickerProps:i,selected:Q,select:he,isSelected:xe,months:re,nextMonth:W,previousMonth:pe,goToMonth:ne,getModifiers:_e,components:s,classNames:m,styles:D,labels:u,formatters:a};return B.createElement(da.Provider,{value:Zi},B.createElement(s.Root,{rootRef:i.animate?Lt:void 0,className:kn,style:li,dir:i.dir,id:i.id,lang:i.lang,nonce:i.nonce,title:i.title,role:i.role,"aria-label":i["aria-label"],"aria-labelledby":i["aria-labelledby"],...Fi},B.createElement(s.Months,{className:m[Y.Months],style:D?.[Y.Months]},!i.hideNavigation&&!_&&B.createElement(s.Nav,{"data-animated-nav":i.animate?"true":void 0,className:m[Y.Nav],style:D?.[Y.Nav],"aria-label":Wt(),onPreviousClick:gt,onNextClick:jt,previousMonth:pe,nextMonth:W}),re.map((J,ce)=>B.createElement(s.Month,{"data-animated-month":i.animate?"true":void 0,className:m[Y.Month],style:D?.[Y.Month],key:ce,displayIndex:ce,calendarMonth:J},_==="around"&&!i.hideNavigation&&ce===0&&B.createElement(s.PreviousMonthButton,{type:"button",className:m[Y.PreviousMonthButton],tabIndex:pe?void 0:-1,"aria-disabled":pe?void 0:!0,"aria-label":Rt(pe),onClick:gt,"data-animated-button":i.animate?"true":void 0},B.createElement(s.Chevron,{disabled:pe?void 0:!0,className:m[Y.Chevron],orientation:i.dir==="rtl"?"right":"left"})),B.createElement(s.MonthCaption,{"data-animated-caption":i.animate?"true":void 0,className:m[Y.MonthCaption],style:D?.[Y.MonthCaption],calendarMonth:J,displayIndex:ce},g?.startsWith("dropdown")?B.createElement(s.DropdownNav,{className:m[Y.Dropdowns],style:D?.[Y.Dropdowns]},(()=>{const V=g==="dropdown"||g==="dropdown-months"?B.createElement(s.MonthsDropdown,{key:"month",className:m[Y.MonthsDropdown],"aria-label":bn(),classNames:m,components:s,disabled:!!i.disableNavigation,onChange:Ri(J.date),options:ch(J.date,ye,G,a,h),style:D?.[Y.Dropdown],value:h.getMonth(J.date)}):B.createElement("span",{key:"month"},F(J.date,h)),ae=g==="dropdown"||g==="dropdown-years"?B.createElement(s.YearsDropdown,{key:"year",className:m[Y.YearsDropdown],"aria-label":et(h.options),classNames:m,components:s,disabled:!!i.disableNavigation,onChange:ai(J.date),options:hh(ye,G,a,h,!!i.reverseYears),style:D?.[Y.Dropdown],value:h.getYear(J.date)}):B.createElement("span",{key:"year"},K(J.date,h));return h.getMonthYearOrder()==="year-first"?[ae,V]:[V,ae]})(),B.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},z(J.date,h.options,h))):B.createElement(s.CaptionLabel,{className:m[Y.CaptionLabel],role:"status","aria-live":"polite"},z(J.date,h.options,h))),_==="around"&&!i.hideNavigation&&ce===k-1&&B.createElement(s.NextMonthButton,{type:"button",className:m[Y.NextMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":Mt(W),onClick:jt,"data-animated-button":i.animate?"true":void 0},B.createElement(s.Chevron,{disabled:W?void 0:!0,className:m[Y.Chevron],orientation:i.dir==="rtl"?"left":"right"})),ce===k-1&&_==="after"&&!i.hideNavigation&&B.createElement(s.Nav,{"data-animated-nav":i.animate?"true":void 0,className:m[Y.Nav],style:D?.[Y.Nav],"aria-label":Wt(),onPreviousClick:gt,onNextClick:jt,previousMonth:pe,nextMonth:W}),B.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":v==="multiple"||v==="range","aria-label":Ct(J.date,h.options,h)||void 0,className:m[Y.MonthGrid],style:D?.[Y.MonthGrid]},!i.hideWeekdays&&B.createElement(s.Weekdays,{"data-animated-weekdays":i.animate?"true":void 0,className:m[Y.Weekdays],style:D?.[Y.Weekdays]},j&&B.createElement(s.WeekNumberHeader,{"aria-label":Ze(h.options),className:m[Y.WeekNumberHeader],style:D?.[Y.WeekNumberHeader],scope:"col"},Z()),Ft.map(V=>B.createElement(s.Weekday,{"aria-label":St(V,h.options,h),className:m[Y.Weekday],key:String(V),style:D?.[Y.Weekday],scope:"col"},q(V,h.options,h)))),B.createElement(s.Weeks,{"data-animated-weeks":i.animate?"true":void 0,className:m[Y.Weeks],style:D?.[Y.Weeks]},J.weeks.map(V=>B.createElement(s.Week,{className:m[Y.Week],key:V.weekNumber,style:D?.[Y.Week],week:V},j&&B.createElement(s.WeekNumber,{week:V,style:D?.[Y.WeekNumber],"aria-label":wn(V.weekNumber,{locale:f}),className:m[Y.WeekNumber],scope:"row",role:"rowheader"},U(V.weekNumber,h)),V.days.map(ae=>{const{date:Le}=ae,se=_e(ae);if(se[we.focused]=!se.hidden&&!!Oe?.isEqualTo(ae),se[Je.selected]=xe?.(Le)||se.selected,Ei(Q)){const{from:Pn,to:Yt}=Q;se[Je.range_start]=!!(Pn&&Yt&&h.isSameDay(Le,Pn)),se[Je.range_end]=!!(Pn&&Yt&&h.isSameDay(Le,Yt)),se[Je.range_middle]=bt(Q,Le,!0,h)}const Hi=uh(se,D,i.modifiersStyles),Yi=qd(se,m,i.modifiersClassNames),qi=!Ot&&!se.hidden?pt(Le,se,h.options,h):void 0;return B.createElement(s.Day,{key:`${ae.isoDate}_${ae.displayMonthId}`,day:ae,modifiers:se,className:Yi.join(" "),style:Hi,role:"gridcell","aria-selected":se.selected||void 0,"aria-label":qi,"data-day":ae.isoDate,"data-month":ae.outside?ae.dateMonthId:void 0,"data-selected":se.selected||void 0,"data-disabled":se.disabled||void 0,"data-hidden":se.hidden||void 0,"data-outside":ae.outside||void 0,"data-focused":se.focused||void 0,"data-today":se.today||void 0},!se.hidden&&Ot?B.createElement(s.DayButton,{className:m[Y.DayButton],style:D?.[Y.DayButton],type:"button",day:ae,modifiers:se,disabled:!se.focused&&se.disabled||void 0,"aria-disabled":se.focused&&se.disabled||void 0,tabIndex:Me(ae)?0:-1,"aria-label":mt(Le,se,h.options,h),onClick:Tt(ae,se),onBlur:Ht(ae,se),onFocus:Zt(ae,se),onKeyDown:Wi(ae,se),onMouseEnter:si(ae,se),onMouseLeave:ri(ae,se)},A(Le,h.options,h)):!se.hidden&&A(ae.date,h.options,h))})))))))),i.footer&&B.createElement(s.Footer,{className:m[Y.Footer],style:D?.[Y.Footer],role:"status","aria-live":"polite"},i.footer)))}function zh(t){const i=[];return t.forEach(o=>{const s=new Date(o.dateFrom),a=new Date(o.dateTo);for(let u=new Date(s);u<=a;u.setDate(u.getDate()+1))i.push(new Date(u))}),i}function Wh(t,i){const o=zh(i),s=new Date;return s.setHours(0,0,0,0),t>=s&&!o.some(a=>ea(a,t))}function $o({bookings:t,onClose:i,onSelectRange:o}){const[s,a]=w.useState({from:void 0,to:void 0}),u=f=>!Wh(f,t),h=f=>{f&&(a(f),f.from&&f.to&&f.from.getTime()!==f.to.getTime()&&(o(f.from,f.to),i()))};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"modal fade show d-block",tabIndex:-1,children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content calendar rounded-3",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h4",{className:"modal-title",children:"Select dates"}),c.jsx("button",{className:"btn-close",onClick:i})]}),c.jsx("div",{className:"modal-body",children:c.jsx(Bh,{mode:"range",selected:{from:s.from,to:s.to},onSelect:h,disabled:u,defaultMonth:new Date})})]})})}),c.jsx("div",{className:"modal-backdrop fade show",onClick:i})]})}const Rn="https://v2.api.noroff.dev",ut={venues:`${Rn}/holidaze/venues`,bookings:`${Rn}/holidaze/bookings`,profiles:`${Rn}/holidaze/profiles`,register:`${Rn}/auth/register`,login:`${Rn}/auth/login`},kr=t=>{let i;const o=new Set,s=(g,v)=>{const _=typeof g=="function"?g(i):g;if(!Object.is(_,i)){const k=i;i=v??(typeof _!="object"||_===null)?_:Object.assign({},i,_),o.forEach(b=>b(i,k))}},a=()=>i,f={setState:s,getState:a,getInitialState:()=>m,subscribe:g=>(o.add(g),()=>o.delete(g))},m=i=t(s,a,f);return f},Rh=(t=>t?kr(t):kr),Fh=t=>t;function Zh(t,i=Fh){const o=B.useSyncExternalStore(t.subscribe,B.useCallback(()=>i(t.getState()),[t,i]),B.useCallback(()=>i(t.getInitialState()),[t,i]));return B.useDebugValue(o),o}const Hh=t=>{const i=Rh(t),o=s=>Zh(i,s);return Object.assign(o,i),o},Yh=(t=>Hh);function qh(t,i){let o;try{o=t()}catch{return}return{getItem:a=>{var u;const h=m=>m===null?null:JSON.parse(m,void 0),f=(u=o.getItem(a))!=null?u:null;return f instanceof Promise?f.then(h):h(f)},setItem:(a,u)=>o.setItem(a,JSON.stringify(u,void 0)),removeItem:a=>o.removeItem(a)}}const To=t=>i=>{try{const o=t(i);return o instanceof Promise?o:{then(s){return To(s)(o)},catch(s){return this}}}catch(o){return{then(s){return this},catch(s){return To(s)(o)}}}},Uh=(t,i)=>(o,s,a)=>{let u={storage:qh(()=>window.localStorage),partialize:y=>y,version:0,merge:(y,S)=>({...S,...y}),...i},h=!1,f=0;const m=new Set,g=new Set;let v=u.storage;if(!v)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),o(...y)},s,a);const _=()=>{const y=u.partialize({...s()});return v.setItem(u.name,{state:y,version:u.version})},k=a.setState;a.setState=(y,S)=>(k(y,S),_());const b=t((...y)=>(o(...y),_()),s,a);a.getInitialState=()=>b;let N;const P=()=>{var y,S;if(!v)return;const E=++f;h=!1,m.forEach(O=>{var j;return O((j=s())!=null?j:b)});const T=((S=u.onRehydrateStorage)==null?void 0:S.call(u,(y=s())!=null?y:b))||void 0;return To(v.getItem.bind(v))(u.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==u.version){if(u.migrate){const j=u.migrate(O.state,O.version);return j instanceof Promise?j.then(D=>[!0,D]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var j;if(E!==f)return;const[D,z]=O;if(N=u.merge(z,(j=s())!=null?j:b),o(N,!0),D)return _()}).then(()=>{E===f&&(T?.(N,void 0),N=s(),h=!0,g.forEach(O=>O(N)))}).catch(O=>{E===f&&T?.(void 0,O)})};return a.persist={setOptions:y=>{u={...u,...y},y.storage&&(v=y.storage)},clearStorage:()=>{v?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>P(),hasHydrated:()=>h,onHydrate:y=>(m.add(y),()=>{m.delete(y)}),onFinishHydration:y=>(g.add(y),()=>{g.delete(y)})},u.skipHydration||P(),N||b},Gh=Uh,We=Yh()(Gh(t=>({user:null,accessToken:null,role:null,isAuthenticated:!1,login:(i,o)=>t({user:i,accessToken:o,role:i.venueManager?"venue_manager":"customer",isAuthenticated:!0}),logout:()=>t({user:null,accessToken:null,role:null,isAuthenticated:!1}),setRole:i=>t({role:i})}),{name:"holidaze-auth"})),Vh="0c450e56-66f0-47b4-87f8-1c5918c7bf7f";async function dt(t,i={},o){const s=We.getState().accessToken,a=new Headers(i.headers||{});a.set("Content-Type","application/json"),a.set("X-Noroff-API-Key",Vh),s&&a.set("Authorization",`Bearer ${s}`);const u=await fetch(t,{...i,headers:a});if(!u.ok){const m=await u.text().then(g=>g?JSON.parse(g):null).catch(()=>null);throw console.error("API error:",m),new Error(m?.errors?.[0]?.message||"API request failed")}const h=await u.text();if(!h)return{};const f=JSON.parse(h);return f.data??f}function Ca(){return dt(`${ut.venues}?_bookings=true`)}function Ma(t){return dt(`${ut.venues}/${t}?_bookings=true&_owner=true`)}function $h(t,i){return dt(`${ut.venues}`,{method:"POST",body:JSON.stringify({...i,owner:{name:t}})})}function Kh(t,i){return dt(`${ut.venues}/${t}`,{method:"PUT",body:JSON.stringify(i)})}function Xh(t){return dt(`${ut.venues}/${t}`,{method:"DELETE"})}const pn="/holidaze/assets/placeholder-CoeTszKf.jpg";function Jh({venue:t}){return c.jsxs(de,{to:`/venues/${t.id}`,className:"venue-card-home text-decoration-none text-dark",children:[c.jsx("div",{children:c.jsx("img",{src:t.media?.[0]?.url||pn,alt:t.media?.[0]?.alt||t.name})}),c.jsxs("div",{className:"px-3 pt-2",children:[c.jsx("h4",{className:"mb-0",children:t.name}),c.jsxs("p",{className:"text-neutral mt-1 mb-1",children:[t.location.city,", ",t.location.country]}),c.jsx("div",{className:"fw-bold",children:t.rating!==void 0?` ${t.rating}/5`:"No ratings"}),c.jsxs("p",{className:"fw-medium mb-0 mt-1",children:["$",t.price,"/night"]})]})]})}function Qh(t,i){return t.filter(o=>{if(i.location&&!o.location?.city?.toLowerCase().includes(i.location.toLowerCase())||i.guests&&o.maxGuests<i.guests)return!1;if(i.dateFrom&&i.dateTo&&o.bookings?.length){const s=new Date(i.dateFrom),a=new Date(i.dateTo);if(o.bookings.some(h=>{const f=new Date(h.dateFrom),m=new Date(h.dateTo);return s<m&&a>f}))return!1}return!0})}function Sa(t,i){const[o,s]=w.useState({location:"",dateFrom:null,dateTo:null,guests:null,...i}),a=(h,f)=>{s(m=>({...m,[h]:f}))},u=Qh(t,o);return{searchParams:o,handleChange:a,searchResults:u}}function ht({size:t="md",overlay:i=!1,color:o="primary"}){const s=t==="sm"?"spinner-border-sm":t==="lg"?"spinner-border-lg":"",a=c.jsx("div",{className:"d-flex align-items-center gap-2",children:c.jsx("div",{className:`spinner-border ${s}`,role:"status",style:{color:o},children:c.jsx("span",{className:"visually-hidden",children:"Loading..."})})});return i?c.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-dark bg-opacity-75",style:{zIndex:1250},children:a}):a}const Pr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAADQCAYAAAB2pO90AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAjsSURBVHgB7d1NiFXnHcfx35lrB4kuxkLaLFpyk7ooJvhCE7BpISerhG6i1pcpaGbcNW1Bs0q7KGpXKRRSoe1WRy0xmqLdhEILXqFpAxY0gYQs+jKSLmoLdVLGLObt9PlfnWTMi3HmeTnPuef7AXNl4mJmON/7POc55zxXAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyE+hhjk2WnaHpbJa0KaqULeo1HU/xUhlr2iMotCkKk1VN1/fcF+6smpIV75zujepBmlEQCdHy7JY0NPuu91GKIPNHZCT7j89F9bEvtO9njKXbUDntpUj08M64P560P0ZEVrHYlqodORzHfVyHZmyC4hw8Amm3JTveKfQ0dxCyiqgk3vKA24+fFiEg0+wOCI9c7Z3XJnIIqCX3MLAXKVjLp5SwGewkDpDeiKH0WhINbNRZ25Bl4kHd6uSunbMnNhTHlTNOqrRid3li+7d5LD762oBy7PaHTtP7Xioq3NvTV5UTWqbwp3aUx5zS9LjAjzZAsPel3v7VYNaAjq1u7zshuHNAgJxB/KVvWd6W5RY8nOg/shDPAjMjik7tpRY0oB+vbs8xLQNsdix5SJ6UQklW0Sw1Tb3LvGCgLi2bn+4+55bWHhdCSQ5B+pf57Glai6QIo2pVUPakuI6UZIp3HylCyIepDPSvzCfQPSAToyW49xBjeTchfkUF1qjTuFs6majDwGhJlNrZ/TA9vO9KUUSdQSaXdAB4kGNRv43rKijULQRiIUDZCLqKBRtBJpV/+ZQ4kHdoo5C0QIaqnRIQAbcQX5AkUQJyPYw4NwHGRmxY1IRRAmoqDQmICfz2qYIYk3hSgEZKQo9rQiCB2Srb0zfkBt7itX2FFRgwQNyS9c8qoAsDc+HnxnFmMIRELK0EOHYjBHQJgEZqobCn1oED6gQ5z/Ik1sdvl+BhR+BCu4+QJ6KCHfGBA+IFTjkqlIDpnBAmxAQ4IGAAA8EBHggIMADAQEeCAjwQECABwICPBAQ4IGAAA8EBHggIMADAQEeCAjwQECABwICPBAQ4IGAAA+rhEYZXrNWDz7+pNZ112vtvff1v3Z98q9699Jruvb2FSEtAmqQr37r29q4a1zD96y97etf3LDZ/b+dmv7Pv/SHI8/1X5EGU7iGeOx7z+uRsR98LJ6lbETa9ouX3Aj1lJAGATXAxl1jy4rCYiOiNAgoczaqbNw5ruUiojQIKHM2+qwUEcVHQJlbd/96+SCiuAgoc7Zc7YuI4iGgliCiOAgoczcCXtMhovAIKHPvXvqjQiKisAgoc3aLTmhEFA4BZc7ub3vn1VcUGhGFQUAN8JeJX0a5UZSI/BFQQ1z82Y/7d12HRkR+CKghZm5M6/c/eY6IMkNADUJE+SGghiGivBBQAxFRPgiooYgoDwTUYERUPwJqOCKqFwENACKqDwENCCKqBwENECJKj4AGDBGlxcaKS9gGhV9+9Btac+99/R1A8XEWkfn7xd8JBNT3+e56bX32+f4rPhsRfaj1AT1YPqnHnv2hsDxEdFOrz4Fs00LiWblHxr7/wQb3bdXqgL5+610UK2PniW3/HbY2IDvfsUUD+LHfYZt/j60N6AsbNglhrOt+RW3V2oDaPncPyXf74SZrbUB3+pwd4G61NqD/Xg1/pb6tbrT4E/FaG9D1yb8JYVx7+w21VWsDsn3W+FBef/Z5rG3+Pbb6OtCbZycEP/ahxm3W6oDsnfNPv/qpsDK2Y2rbPxG89ffC2b1cs+9P62vclrIsNnrH2LO7abgbWzc/QsT+2LMu9jiD3aIyCDGtifQzWDxvvnJcIKDb2Gg0KHcXx3r4jXhuxxOpA4h40iGgAUM8aRHQACGe9AhoQBBPPQhoABBPfQio4YinXgTUYMRTPwJqKOLJAwE1EPHkg4AahnjyQkANQjz5IaCGIJ48EVADbNw1RjyZIqDM2WMVG3eOKzTiCYOAMmejT2jEEw4BZS70poXEExYBZW5dwM8sIp7wCChzM+9PKwTiiYOAMjd7wz8g4omHgDJnm534IJ64CChz77z6G60U8cRHQJmzjQtXsv8a8aRBQA1gO4AuZ7st+/fEkwb7wjWEbUE8/e9rd7ywaqPVn92/Y9P8dAioQWxUsZHoS49+8+YOqves7S9zWzj/vPSa94IDlo+AGmbxnIh9qfPAORDggYAADwQEeCAgwAMBAR4ICPBAQIAHAgI8EBDggYAADwQEeCAgwAMBAR4ICPBAQIAHAgI8EBDggYAADwQEeAgeUFFoUkCGCoU/NsOPQJWmBGSoUvhjM3hAlRiBkKeq0FUFFmMECv5NAiEUlYLvOBk8oKGO2BYTuco/oBmpJyBDc0PhAyoUwak95T+qSl0BmbBz82fO9B5QYFGuA1UL+q2AjAwVcWZGcS6kdnReQEbcCtyEIogyhTMnd5fX3cuIgJrFmr6ZmLfyHBWQg0pHFEm0gOZm9HOJuxJQu6n5TryV4WgB7T/fs3gYhVCvShP7T/cmFUnUu7EZhVAnO/eZ6/SPwWiiBmSjkFv9iDb/BO7InfvEHH1MtFW4pdyF1QvuwmopIJGYK29LJXmgbrbQfjGVQzpT80N6QgkkCciGUaZySKUo4k/dFnWUyLm3Jl/fsaG7zk0atwqIZEE64qZuLyiRJOdAS53cXR53L2MCwpvYd6Y3roSSB2RcRJfdy2YB4Vxx8WxRYrXsynPrB41ycx9aaaKOeEyyc6CPcudE53c81LURsBSwUpWO7jvb+65qUltAxkXU2/5w9z1XkS0srBZw96bcatuP3MhzWDWq5Rzoo46Nlt1OpQsFT7HiLrhwenZtMdVS9R2/F2XkxGg57obkQ4SET2GjzpG9L/ei3t+2HFkFZGw0WjWvg+47s6VuHsiD6d/Zbzcn37rLPxvZBbSoP62zBQZGpDbLNpxF2Qa01MnRsnSXmMerQo8T02CzvdX7m9J0dH7f6V5PmWtEQEv1p3gL/Yuwm913v6kfVKERttFqlv6HEFSyx10m3ZvjVduQ0/YUzGFhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoOn+DzviPuyCN0mmAAAAAElFTkSuQmCC",ef="/holidaze/assets/hero-C1Q-B9gU.jpg",tf="/holidaze/assets/bali-CpFZXdyd.jpg",nf="/holidaze/assets/dubai-C8SLfgN8.jpg",of="/holidaze/assets/honolulu-B1-Cz5gz.jpg",sf="/holidaze/assets/marrakesh-D_DnpZ_3.jpg",rf="/holidaze/assets/phuket-Cw0vZoCj.jpg",af="/holidaze/assets/santorini-BsWCqnaG.jpg",lf="/holidaze/assets/venues1-Be2YrNJv.jpg",cf="/holidaze/assets/venues2-c31mMGTW.jpg",uf="/holidaze/assets/venues3-BtpzExXp.jpg";function df(){const t=Ro(),[i,o]=w.useState(null),[s,a]=w.useState(null),[u,h]=w.useState(!1),[f,m]=w.useState([]),[g,v]=w.useState(!1),_=w.useRef(null),k=y=>{if(!_.current)return;const S=400;_.current.scrollBy({left:y==="left"?-S:S,behavior:"smooth"})};w.useEffect(()=>{async function y(){try{const E=(await Ca()).sort((T,O)=>(O.rating??0)-(T.rating??0)).slice(0,10);m(E)}catch(S){console.error(S)}}y()},[]);const{searchParams:b,handleChange:N}=Sa([]),P=()=>{v(!0);const y=new URLSearchParams({location:b.location,guests:b.guests?.toString()??"",dateFrom:i?i.toISOString():"",dateTo:s?s.toISOString():""}).toString();setTimeout(()=>{t(`/venues?${y}`),v(!1)},300)};return c.jsxs(c.Fragment,{children:[g&&c.jsx(ht,{overlay:!0,size:"lg"}),c.jsxs("section",{className:"hero d-flex align-items-center justify-content-center text-center",style:{backgroundImage:`url(${ef})`},children:[c.jsx("div",{className:"hero-overlay"}),c.jsxs("div",{className:"hero-content text-white position-relative d-flex flex-column align-items-center w-100 px-3 px-md-0",children:[c.jsx("h1",{className:"fw-bold mb-4",children:"EXCEPTIONAL STAYS, THOUGHTFULLY CURATED"}),c.jsx("p",{className:"hero-text h3 fw-medium mb-4",children:"Book unique venues in destinations around the world."}),c.jsxs("form",{onSubmit:y=>y.preventDefault(),className:"hero-form d-flex flex-column flex-md-row bg-white align-items-stretch rounded-4 p-3 gap-2",children:[c.jsx("input",{className:"form-control",placeholder:"Location",value:b.location,onChange:y=>N("location",y.target.value)}),c.jsx("input",{type:"text",className:"form-control",placeholder:"Check-in",readOnly:!0,value:i?i.toLocaleDateString():"",onClick:()=>h(!0)}),c.jsx("input",{type:"text",className:"form-control",placeholder:"Check-out",readOnly:!0,value:s?s.toLocaleDateString():"",onClick:()=>h(!0)}),c.jsx("input",{className:"form-control",placeholder:"Guests",type:"number",value:b.guests??"",onChange:y=>N("guests",Number(y.target.value))}),c.jsx("button",{className:"btn btn-cta px-4",type:"button",onClick:P,children:"Search"})]}),u&&c.jsx($o,{bookings:[],onClose:()=>h(!1),onSelectRange:(y,S)=>{o(y),a(S),h(!1)}})]})]}),c.jsxs("section",{className:"mb-5 mt-5",children:[c.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[c.jsx("h2",{className:"mb-2 ps-5",children:"Top Destinations"}),c.jsx("hr",{className:"flex-grow-1 me-4"})]}),c.jsx("div",{className:"destinations-scroll d-flex gap-4 overflow-auto pb-2",children:[{img:tf,city:"Bali",country:"Indonesia"},{img:nf,city:"Dubai",country:"UAE"},{img:of,city:"Honolulu",country:"Hawaii"},{img:sf,city:"Marrakesh",country:"Morocco"},{img:rf,city:"Phuket",country:"Thailand"},{img:af,city:"Santorini",country:"Greece"}].map(y=>c.jsxs("div",{className:"text-center flex-shrink-0 destination-item",children:[c.jsx("img",{src:y.img,alt:y.city,className:"destination-img"}),c.jsx("p",{className:"mb-0 fw-medium mt-2",children:y.city}),c.jsx("small",{className:"text-muted",children:y.country})]},y.city))})]}),c.jsxs("section",{className:"highest-rated",children:[c.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[c.jsx("hr",{className:"flex-grow-1 ms-4"}),c.jsx("h2",{className:"mb-2 pe-5",children:"Highest rated"})]}),c.jsxs("div",{className:"rated-wrapper",children:[c.jsx("button",{type:"button",className:"scroll-btn left",onClick:()=>k("left"),children:c.jsx("img",{src:Pr,alt:"Scroll left"})}),c.jsx("div",{className:"rated-scroll",ref:_,children:f.map(y=>c.jsx(Jh,{venue:y},y.id))}),c.jsx("button",{type:"button",className:"scroll-btn right",onClick:()=>k("right"),children:c.jsx("img",{src:Pr,alt:"Scroll right"})})]})]}),c.jsxs("section",{className:"mb-5",children:[c.jsxs("div",{className:"mb-4 d-flex align-items-center justify-content-center gap-3",children:[c.jsx("hr",{className:"title-line"}),c.jsx("h2",{className:"fw-semibold text-center m-0",children:"Discover exceptional places to stay"}),c.jsx("hr",{className:"title-line"})]}),c.jsx("div",{className:"container",children:c.jsxs("div",{className:"row g-4 mb-5",children:[c.jsx("div",{className:"col-12 col-lg-4 p-0",children:c.jsxs("div",{className:"image-wrapper",children:[c.jsx("img",{src:lf,alt:"Beautiful luxury resort",className:"img-fluid"}),c.jsx("div",{className:"info-box mt-4",children:c.jsx("p",{children:"From intimate retreats to refined city escapes, explore carefully selected venues designed for comfort, style, and unforgettable stays."})})]})}),c.jsx("div",{className:"col-12 col-lg-4 p-0",children:c.jsxs(de,{to:"/venues",className:"image-wrapper d-block text-decoration-none",children:[c.jsx("img",{src:cf,alt:"Beautiful luxury resort",className:"img-fluid"}),c.jsx("div",{className:"home-overlay"}),c.jsx("div",{className:"overlay-text",children:"View all venues"})]})}),c.jsx("div",{className:"col-12 col-lg-4 p-0",children:c.jsxs("div",{className:"image-wrapper",children:[c.jsx("div",{className:"info-box mb-4",children:c.jsxs("p",{children:["Built for modern travellers, ",c.jsx("strong",{children:"Holidaze"})," combines luxury destinations with a seamless booking experience, all in one place."]})}),c.jsx("img",{src:uf,alt:"Beautiful luxury resort",className:"img-fluid"})]})})]})})]})]})}var No={exports:{}};var Nr;function hf(){return Nr||(Nr=1,(function(t){(function(){var i={}.hasOwnProperty;function o(){for(var u="",h=0;h<arguments.length;h++){var f=arguments[h];f&&(u=a(u,s(f)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return o.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var f in u)i.call(u,f)&&u[f]&&(h=a(h,f));return h}function a(u,h){return h?u?u+" "+h:u+h:u}t.exports?(o.default=o,t.exports=o):window.classNames=o})()})(No)),No.exports}var ff=hf();const Pt=Wo(ff);function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)({}).hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Lo.apply(null,arguments)}function mf(t,i){if(t==null)return{};var o={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(i.indexOf(s)!==-1)continue;o[s]=t[s]}return o}function Cr(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function pf(t){var i=gf(t,"string");return typeof i=="symbol"?i:String(i)}function gf(t,i){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var s=o.call(t,i);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vf(t,i,o){var s=w.useRef(t!==void 0),a=w.useState(i),u=a[0],h=a[1],f=t!==void 0,m=s.current;return s.current=f,!f&&m&&u!==i&&h(i),[f?t:u,w.useCallback(function(g){for(var v=arguments.length,_=new Array(v>1?v-1:0),k=1;k<v;k++)_[k-1]=arguments[k];o&&o.apply(void 0,[g].concat(_)),h(g)},[o])]}function _f(t,i){return Object.keys(i).reduce(function(o,s){var a,u=o,h=u[Cr(s)],f=u[s],m=mf(u,[Cr(s),s].map(pf)),g=i[s],v=vf(f,h,t[g]),_=v[0],k=v[1];return Lo({},m,(a={},a[s]=_,a[g]=k,a))},t)}const yf=["xxl","xl","lg","md","sm","xs"],xf="xs",Ko=w.createContext({prefixes:{},breakpoints:yf,minBreakpoint:xf}),{Consumer:bg,Provider:wg}=Ko;function Nt(t,i){const{prefixes:o}=w.useContext(Ko);return t||o[i]||i}function bf(){const{dir:t}=w.useContext(Ko);return t==="rtl"}function wf(t){return t&&t.ownerDocument||document}const Oa=!!(typeof window<"u"&&window.document&&window.document.createElement);var Do=!1,Eo=!1;try{var Co={get passive(){return Do=!0},get once(){return Eo=Do=!0}};Oa&&(window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,!0))}catch{}function ja(t,i,o,s){if(s&&typeof s!="boolean"&&!Eo){var a=s.once,u=s.capture,h=o;!Eo&&a&&(h=o.__once||function f(m){this.removeEventListener(i,f,u),o.call(this,m)},o.__once=h),t.addEventListener(i,h,Do?s:u)}t.addEventListener(i,o,s)}function kf(t,i,o,s){var a=s&&typeof s!="boolean"?s.capture:s;t.removeEventListener(i,o,a),o.__once&&t.removeEventListener(i,o.__once,a)}function Si(t,i,o,s){return ja(t,i,o,s),function(){kf(t,i,o,s)}}const Mr=t=>!t||typeof t=="function"?t:i=>{t.current=i};function Pf(t,i){const o=Mr(t),s=Mr(i);return a=>{o&&o(a),s&&s(a)}}function Ta(t,i){return w.useMemo(()=>Pf(t,i),[t,i])}function Nf(t){const i=w.useRef(t);return w.useEffect(()=>{i.current=t},[t]),i}function Cf(t){const i=Nf(t);return w.useCallback(function(...o){return i.current&&i.current(...o)},[i])}function Mf(){return w.useState(null)}function Sf(t){const i=w.useRef(t);return w.useEffect(()=>{i.current=t},[t]),i}function It(t){const i=Sf(t);return w.useCallback(function(...o){return i.current&&i.current(...o)},[i])}function Of(t,i,o,s=!1){const a=It(o);w.useEffect(()=>{const u=typeof t=="function"?t():t;return u.addEventListener(i,a,s),()=>u.removeEventListener(i,a,s)},[t])}function jf(){const t=w.useRef(!0),i=w.useRef(()=>t.current);return w.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),i.current}function Tf(t){const i=w.useRef(null);return w.useEffect(()=>{i.current=t}),i.current}const Lf=["as","disabled"];function Df(t,i){if(t==null)return{};var o={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(i.indexOf(s)>=0)continue;o[s]=t[s]}return o}function Ef(t){return!t||t.trim()==="#"}function Xo({tagName:t,disabled:i,href:o,target:s,rel:a,role:u,onClick:h,tabIndex:f=0,type:m}){t||(o!=null||s!=null||a!=null?t="a":t="button");const g={tagName:t};if(t==="button")return[{type:m||"button",disabled:i},g];const v=k=>{if((i||t==="a"&&Ef(o))&&k.preventDefault(),i){k.stopPropagation();return}h?.(k)},_=k=>{k.key===" "&&(k.preventDefault(),v(k))};return t==="a"&&(o||(o="#"),i&&(o=void 0)),[{role:u??"button",disabled:void 0,tabIndex:i?void 0:f,href:o,target:t==="a"?s:void 0,"aria-disabled":i||void 0,rel:t==="a"?a:void 0,onClick:v,onKeyDown:_},g]}const La=w.forwardRef((t,i)=>{let{as:o,disabled:s}=t,a=Df(t,Lf);const[u,{tagName:h}]=Xo(Object.assign({tagName:o,disabled:s},a));return c.jsx(h,Object.assign({},a,u,{ref:i}))});La.displayName="Button";const Af=["onKeyDown"];function If(t,i){if(t==null)return{};var o={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(i.indexOf(s)>=0)continue;o[s]=t[s]}return o}function Bf(t){return!t||t.trim()==="#"}const Da=w.forwardRef((t,i)=>{let{onKeyDown:o}=t,s=If(t,Af);const[a]=Xo(Object.assign({tagName:"a"},s)),u=It(h=>{a.onKeyDown(h),o?.(h)});return Bf(s.href)||s.role==="button"?c.jsx("a",Object.assign({ref:i},s,a,{onKeyDown:u})):c.jsx("a",Object.assign({ref:i},s,{onKeyDown:o}))});Da.displayName="Anchor";const Ea=w.forwardRef(({as:t,bsPrefix:i,variant:o="primary",size:s,active:a=!1,disabled:u=!1,className:h,...f},m)=>{const g=Nt(i,"btn"),[v,{tagName:_}]=Xo({tagName:t,disabled:u,...f}),k=_;return c.jsx(k,{...v,...f,ref:m,disabled:u,className:Pt(h,g,a&&"active",o&&`${g}-${o}`,s&&`${g}-${s}`,f.href&&u&&"disabled")})});Ea.displayName="Button";const ji=w.forwardRef(({bsPrefix:t,size:i,vertical:o=!1,className:s,role:a="group",as:u="div",...h},f)=>{const m=Nt(t,"btn-group");let g=m;return o&&(g=`${m}-vertical`),c.jsx(u,{...h,ref:f,role:a,className:Pt(s,g,i&&`${m}-${i}`)})});ji.displayName="ButtonGroup";var zf=Function.prototype.bind.call(Function.prototype.call,[].slice);function Sr(t,i){return zf(t.querySelectorAll(i))}function Wf(t,i,o){const s=w.useRef(t!==void 0),[a,u]=w.useState(i),h=t!==void 0,f=s.current;return s.current=h,!h&&f&&a!==i&&u(i),[h?t:a,w.useCallback((...m)=>{const[g,...v]=m;let _=o?.(g,...v);return u(g),_},[o])]}function Rf(){const[,t]=w.useReducer(i=>i+1,0);return t}const Ii=w.createContext(null);var Or=Object.prototype.hasOwnProperty;function jr(t,i,o){for(o of t.keys())if(qn(o,i))return o}function qn(t,i){var o,s,a;if(t===i)return!0;if(t&&i&&(o=t.constructor)===i.constructor){if(o===Date)return t.getTime()===i.getTime();if(o===RegExp)return t.toString()===i.toString();if(o===Array){if((s=t.length)===i.length)for(;s--&&qn(t[s],i[s]););return s===-1}if(o===Set){if(t.size!==i.size)return!1;for(s of t)if(a=s,a&&typeof a=="object"&&(a=jr(i,a),!a)||!i.has(a))return!1;return!0}if(o===Map){if(t.size!==i.size)return!1;for(s of t)if(a=s[0],a&&typeof a=="object"&&(a=jr(i,a),!a)||!qn(s[1],i.get(a)))return!1;return!0}if(o===ArrayBuffer)t=new Uint8Array(t),i=new Uint8Array(i);else if(o===DataView){if((s=t.byteLength)===i.byteLength)for(;s--&&t.getInt8(s)===i.getInt8(s););return s===-1}if(ArrayBuffer.isView(t)){if((s=t.byteLength)===i.byteLength)for(;s--&&t[s]===i[s];);return s===-1}if(!o||typeof t=="object"){s=0;for(o in t)if(Or.call(t,o)&&++s&&!Or.call(i,o)||!(o in i)||!qn(t[o],i[o]))return!1;return Object.keys(i).length===s}}return t!==t&&i!==i}function Ff(t){const i=jf();return[t[0],w.useCallback(o=>{if(i())return t[1](o)},[i,t[1]])]}var Ie="top",Ge="bottom",Ve="right",Be="left",Jo="auto",ni=[Ie,Ge,Ve,Be],gn="start",Kn="end",Zf="clippingParents",Aa="viewport",Fn="popper",Hf="reference",Tr=ni.reduce(function(t,i){return t.concat([i+"-"+gn,i+"-"+Kn])},[]),Ia=[].concat(ni,[Jo]).reduce(function(t,i){return t.concat([i,i+"-"+gn,i+"-"+Kn])},[]),Yf="beforeRead",qf="read",Uf="afterRead",Gf="beforeMain",Vf="main",$f="afterMain",Kf="beforeWrite",Xf="write",Jf="afterWrite",Qf=[Yf,qf,Uf,Gf,Vf,$f,Kf,Xf,Jf];function at(t){return t.split("-")[0]}function Fe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var i=t.ownerDocument;return i&&i.defaultView||window}return t}function en(t){var i=Fe(t).Element;return t instanceof i||t instanceof Element}function lt(t){var i=Fe(t).HTMLElement;return t instanceof i||t instanceof HTMLElement}function Qo(t){if(typeof ShadowRoot>"u")return!1;var i=Fe(t).ShadowRoot;return t instanceof i||t instanceof ShadowRoot}var Qt=Math.max,Li=Math.min,vn=Math.round;function Ao(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function Ba(){return!/^((?!chrome|android).)*safari/i.test(Ao())}function _n(t,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var s=t.getBoundingClientRect(),a=1,u=1;i&&lt(t)&&(a=t.offsetWidth>0&&vn(s.width)/t.offsetWidth||1,u=t.offsetHeight>0&&vn(s.height)/t.offsetHeight||1);var h=en(t)?Fe(t):window,f=h.visualViewport,m=!Ba()&&o,g=(s.left+(m&&f?f.offsetLeft:0))/a,v=(s.top+(m&&f?f.offsetTop:0))/u,_=s.width/a,k=s.height/u;return{width:_,height:k,top:v,right:g+_,bottom:v+k,left:g,x:g,y:v}}function es(t){var i=_n(t),o=t.offsetWidth,s=t.offsetHeight;return Math.abs(i.width-o)<=1&&(o=i.width),Math.abs(i.height-s)<=1&&(s=i.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:s}}function za(t,i){var o=i.getRootNode&&i.getRootNode();if(t.contains(i))return!0;if(o&&Qo(o)){var s=i;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Bt(t){return t?(t.nodeName||"").toLowerCase():null}function kt(t){return Fe(t).getComputedStyle(t)}function em(t){return["table","td","th"].indexOf(Bt(t))>=0}function zt(t){return((en(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bi(t){return Bt(t)==="html"?t:t.assignedSlot||t.parentNode||(Qo(t)?t.host:null)||zt(t)}function Lr(t){return!lt(t)||kt(t).position==="fixed"?null:t.offsetParent}function tm(t){var i=/firefox/i.test(Ao()),o=/Trident/i.test(Ao());if(o&&lt(t)){var s=kt(t);if(s.position==="fixed")return null}var a=Bi(t);for(Qo(a)&&(a=a.host);lt(a)&&["html","body"].indexOf(Bt(a))<0;){var u=kt(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||i&&u.willChange==="filter"||i&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function ii(t){for(var i=Fe(t),o=Lr(t);o&&em(o)&&kt(o).position==="static";)o=Lr(o);return o&&(Bt(o)==="html"||Bt(o)==="body"&&kt(o).position==="static")?i:o||tm(t)||i}function ts(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Un(t,i,o){return Qt(t,Li(i,o))}function nm(t,i,o){var s=Un(t,i,o);return s>o?o:s}function Wa(){return{top:0,right:0,bottom:0,left:0}}function Ra(t){return Object.assign({},Wa(),t)}function Fa(t,i){return i.reduce(function(o,s){return o[s]=t,o},{})}var im=function(i,o){return i=typeof i=="function"?i(Object.assign({},o.rects,{placement:o.placement})):i,Ra(typeof i!="number"?i:Fa(i,ni))};function om(t){var i,o=t.state,s=t.name,a=t.options,u=o.elements.arrow,h=o.modifiersData.popperOffsets,f=at(o.placement),m=ts(f),g=[Be,Ve].indexOf(f)>=0,v=g?"height":"width";if(!(!u||!h)){var _=im(a.padding,o),k=es(u),b=m==="y"?Ie:Be,N=m==="y"?Ge:Ve,P=o.rects.reference[v]+o.rects.reference[m]-h[m]-o.rects.popper[v],y=h[m]-o.rects.reference[m],S=ii(u),E=S?m==="y"?S.clientHeight||0:S.clientWidth||0:0,T=P/2-y/2,O=_[b],j=E-k[v]-_[N],D=E/2-k[v]/2+T,z=Un(O,D,j),A=m;o.modifiersData[s]=(i={},i[A]=z,i.centerOffset=z-D,i)}}function sm(t){var i=t.state,o=t.options,s=o.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=i.elements.popper.querySelector(a),!a)||za(i.elements.popper,a)&&(i.elements.arrow=a))}const rm={name:"arrow",enabled:!0,phase:"main",fn:om,effect:sm,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yn(t){return t.split("-")[1]}var am={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lm(t,i){var o=t.x,s=t.y,a=i.devicePixelRatio||1;return{x:vn(o*a)/a||0,y:vn(s*a)/a||0}}function Dr(t){var i,o=t.popper,s=t.popperRect,a=t.placement,u=t.variation,h=t.offsets,f=t.position,m=t.gpuAcceleration,g=t.adaptive,v=t.roundOffsets,_=t.isFixed,k=h.x,b=k===void 0?0:k,N=h.y,P=N===void 0?0:N,y=typeof v=="function"?v({x:b,y:P}):{x:b,y:P};b=y.x,P=y.y;var S=h.hasOwnProperty("x"),E=h.hasOwnProperty("y"),T=Be,O=Ie,j=window;if(g){var D=ii(o),z="clientHeight",A="clientWidth";if(D===Fe(o)&&(D=zt(o),kt(D).position!=="static"&&f==="absolute"&&(z="scrollHeight",A="scrollWidth")),D=D,a===Ie||(a===Be||a===Ve)&&u===Kn){O=Ge;var F=_&&D===j&&j.visualViewport?j.visualViewport.height:D[z];P-=F-s.height,P*=m?1:-1}if(a===Be||(a===Ie||a===Ge)&&u===Kn){T=Ve;var U=_&&D===j&&j.visualViewport?j.visualViewport.width:D[A];b-=U-s.width,b*=m?1:-1}}var Z=Object.assign({position:f},g&&am),q=v===!0?lm({x:b,y:P},Fe(o)):{x:b,y:P};if(b=q.x,P=q.y,m){var K;return Object.assign({},Z,(K={},K[O]=E?"0":"",K[T]=S?"0":"",K.transform=(j.devicePixelRatio||1)<=1?"translate("+b+"px, "+P+"px)":"translate3d("+b+"px, "+P+"px, 0)",K))}return Object.assign({},Z,(i={},i[O]=E?P+"px":"",i[T]=S?b+"px":"",i.transform="",i))}function cm(t){var i=t.state,o=t.options,s=o.gpuAcceleration,a=s===void 0?!0:s,u=o.adaptive,h=u===void 0?!0:u,f=o.roundOffsets,m=f===void 0?!0:f,g={placement:at(i.placement),variation:yn(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:a,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,Dr(Object.assign({},g,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:h,roundOffsets:m})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,Dr(Object.assign({},g,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})}const um={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cm,data:{}};var Oi={passive:!0};function dm(t){var i=t.state,o=t.instance,s=t.options,a=s.scroll,u=a===void 0?!0:a,h=s.resize,f=h===void 0?!0:h,m=Fe(i.elements.popper),g=[].concat(i.scrollParents.reference,i.scrollParents.popper);return u&&g.forEach(function(v){v.addEventListener("scroll",o.update,Oi)}),f&&m.addEventListener("resize",o.update,Oi),function(){u&&g.forEach(function(v){v.removeEventListener("scroll",o.update,Oi)}),f&&m.removeEventListener("resize",o.update,Oi)}}const hm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dm,data:{}};var fm={left:"right",right:"left",bottom:"top",top:"bottom"};function Ti(t){return t.replace(/left|right|bottom|top/g,function(i){return fm[i]})}var mm={start:"end",end:"start"};function Er(t){return t.replace(/start|end/g,function(i){return mm[i]})}function ns(t){var i=Fe(t),o=i.pageXOffset,s=i.pageYOffset;return{scrollLeft:o,scrollTop:s}}function is(t){return _n(zt(t)).left+ns(t).scrollLeft}function pm(t,i){var o=Fe(t),s=zt(t),a=o.visualViewport,u=s.clientWidth,h=s.clientHeight,f=0,m=0;if(a){u=a.width,h=a.height;var g=Ba();(g||!g&&i==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:u,height:h,x:f+is(t),y:m}}function gm(t){var i,o=zt(t),s=ns(t),a=(i=t.ownerDocument)==null?void 0:i.body,u=Qt(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),h=Qt(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),f=-s.scrollLeft+is(t),m=-s.scrollTop;return kt(a||o).direction==="rtl"&&(f+=Qt(o.clientWidth,a?a.clientWidth:0)-u),{width:u,height:h,x:f,y:m}}function os(t){var i=kt(t),o=i.overflow,s=i.overflowX,a=i.overflowY;return/auto|scroll|overlay|hidden/.test(o+a+s)}function Za(t){return["html","body","#document"].indexOf(Bt(t))>=0?t.ownerDocument.body:lt(t)&&os(t)?t:Za(Bi(t))}function Gn(t,i){var o;i===void 0&&(i=[]);var s=Za(t),a=s===((o=t.ownerDocument)==null?void 0:o.body),u=Fe(s),h=a?[u].concat(u.visualViewport||[],os(s)?s:[]):s,f=i.concat(h);return a?f:f.concat(Gn(Bi(h)))}function Io(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vm(t,i){var o=_n(t,!1,i==="fixed");return o.top=o.top+t.clientTop,o.left=o.left+t.clientLeft,o.bottom=o.top+t.clientHeight,o.right=o.left+t.clientWidth,o.width=t.clientWidth,o.height=t.clientHeight,o.x=o.left,o.y=o.top,o}function Ar(t,i,o){return i===Aa?Io(pm(t,o)):en(i)?vm(i,o):Io(gm(zt(t)))}function _m(t){var i=Gn(Bi(t)),o=["absolute","fixed"].indexOf(kt(t).position)>=0,s=o&&lt(t)?ii(t):t;return en(s)?i.filter(function(a){return en(a)&&za(a,s)&&Bt(a)!=="body"}):[]}function ym(t,i,o,s){var a=i==="clippingParents"?_m(t):[].concat(i),u=[].concat(a,[o]),h=u[0],f=u.reduce(function(m,g){var v=Ar(t,g,s);return m.top=Qt(v.top,m.top),m.right=Li(v.right,m.right),m.bottom=Li(v.bottom,m.bottom),m.left=Qt(v.left,m.left),m},Ar(t,h,s));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function Ha(t){var i=t.reference,o=t.element,s=t.placement,a=s?at(s):null,u=s?yn(s):null,h=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,m;switch(a){case Ie:m={x:h,y:i.y-o.height};break;case Ge:m={x:h,y:i.y+i.height};break;case Ve:m={x:i.x+i.width,y:f};break;case Be:m={x:i.x-o.width,y:f};break;default:m={x:i.x,y:i.y}}var g=a?ts(a):null;if(g!=null){var v=g==="y"?"height":"width";switch(u){case gn:m[g]=m[g]-(i[v]/2-o[v]/2);break;case Kn:m[g]=m[g]+(i[v]/2-o[v]/2);break}}return m}function Xn(t,i){i===void 0&&(i={});var o=i,s=o.placement,a=s===void 0?t.placement:s,u=o.strategy,h=u===void 0?t.strategy:u,f=o.boundary,m=f===void 0?Zf:f,g=o.rootBoundary,v=g===void 0?Aa:g,_=o.elementContext,k=_===void 0?Fn:_,b=o.altBoundary,N=b===void 0?!1:b,P=o.padding,y=P===void 0?0:P,S=Ra(typeof y!="number"?y:Fa(y,ni)),E=k===Fn?Hf:Fn,T=t.rects.popper,O=t.elements[N?E:k],j=ym(en(O)?O:O.contextElement||zt(t.elements.popper),m,v,h),D=_n(t.elements.reference),z=Ha({reference:D,element:T,placement:a}),A=Io(Object.assign({},T,z)),F=k===Fn?A:D,U={top:j.top-F.top+S.top,bottom:F.bottom-j.bottom+S.bottom,left:j.left-F.left+S.left,right:F.right-j.right+S.right},Z=t.modifiersData.offset;if(k===Fn&&Z){var q=Z[a];Object.keys(U).forEach(function(K){var te=[Ve,Ge].indexOf(K)>=0?1:-1,ve=[Ie,Ge].indexOf(K)>=0?"y":"x";U[K]+=q[ve]*te})}return U}function xm(t,i){i===void 0&&(i={});var o=i,s=o.placement,a=o.boundary,u=o.rootBoundary,h=o.padding,f=o.flipVariations,m=o.allowedAutoPlacements,g=m===void 0?Ia:m,v=yn(s),_=v?f?Tr:Tr.filter(function(N){return yn(N)===v}):ni,k=_.filter(function(N){return g.indexOf(N)>=0});k.length===0&&(k=_);var b=k.reduce(function(N,P){return N[P]=Xn(t,{placement:P,boundary:a,rootBoundary:u,padding:h})[at(P)],N},{});return Object.keys(b).sort(function(N,P){return b[N]-b[P]})}function bm(t){if(at(t)===Jo)return[];var i=Ti(t);return[Er(t),i,Er(i)]}function wm(t){var i=t.state,o=t.options,s=t.name;if(!i.modifiersData[s]._skip){for(var a=o.mainAxis,u=a===void 0?!0:a,h=o.altAxis,f=h===void 0?!0:h,m=o.fallbackPlacements,g=o.padding,v=o.boundary,_=o.rootBoundary,k=o.altBoundary,b=o.flipVariations,N=b===void 0?!0:b,P=o.allowedAutoPlacements,y=i.options.placement,S=at(y),E=S===y,T=m||(E||!N?[Ti(y)]:bm(y)),O=[y].concat(T).reduce(function(he,Q){return he.concat(at(Q)===Jo?xm(i,{placement:Q,boundary:v,rootBoundary:_,padding:g,flipVariations:N,allowedAutoPlacements:P}):Q)},[]),j=i.rects.reference,D=i.rects.popper,z=new Map,A=!0,F=O[0],U=0;U<O.length;U++){var Z=O[U],q=at(Z),K=yn(Z)===gn,te=[Ie,Ge].indexOf(q)>=0,ve=te?"width":"height",re=Xn(i,{placement:Z,boundary:v,rootBoundary:_,altBoundary:k,padding:g}),ye=te?K?Ve:Be:K?Ge:Ie;j[ve]>D[ve]&&(ye=Ti(ye));var G=Ti(ye),pe=[];if(u&&pe.push(re[q]<=0),f&&pe.push(re[ye]<=0,re[G]<=0),pe.every(function(he){return he})){F=Z,A=!1;break}z.set(Z,pe)}if(A)for(var W=N?3:1,ne=function(Q){var X=O.find(function(Oe){var Me=z.get(Oe);if(Me)return Me.slice(0,Q).every(function(ft){return ft})});if(X)return F=X,"break"},_e=W;_e>0;_e--){var xe=ne(_e);if(xe==="break")break}i.placement!==F&&(i.modifiersData[s]._skip=!0,i.placement=F,i.reset=!0)}}const km={name:"flip",enabled:!0,phase:"main",fn:wm,requiresIfExists:["offset"],data:{_skip:!1}};function Ir(t,i,o){return o===void 0&&(o={x:0,y:0}),{top:t.top-i.height-o.y,right:t.right-i.width+o.x,bottom:t.bottom-i.height+o.y,left:t.left-i.width-o.x}}function Br(t){return[Ie,Ve,Ge,Be].some(function(i){return t[i]>=0})}function Pm(t){var i=t.state,o=t.name,s=i.rects.reference,a=i.rects.popper,u=i.modifiersData.preventOverflow,h=Xn(i,{elementContext:"reference"}),f=Xn(i,{altBoundary:!0}),m=Ir(h,s),g=Ir(f,a,u),v=Br(m),_=Br(g);i.modifiersData[o]={referenceClippingOffsets:m,popperEscapeOffsets:g,isReferenceHidden:v,hasPopperEscaped:_},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":_})}const Nm={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pm};function Cm(t,i,o){var s=at(t),a=[Be,Ie].indexOf(s)>=0?-1:1,u=typeof o=="function"?o(Object.assign({},i,{placement:t})):o,h=u[0],f=u[1];return h=h||0,f=(f||0)*a,[Be,Ve].indexOf(s)>=0?{x:f,y:h}:{x:h,y:f}}function Mm(t){var i=t.state,o=t.options,s=t.name,a=o.offset,u=a===void 0?[0,0]:a,h=Ia.reduce(function(v,_){return v[_]=Cm(_,i.rects,u),v},{}),f=h[i.placement],m=f.x,g=f.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=m,i.modifiersData.popperOffsets.y+=g),i.modifiersData[s]=h}const Sm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mm};function Om(t){var i=t.state,o=t.name;i.modifiersData[o]=Ha({reference:i.rects.reference,element:i.rects.popper,placement:i.placement})}const jm={name:"popperOffsets",enabled:!0,phase:"read",fn:Om,data:{}};function Tm(t){return t==="x"?"y":"x"}function Lm(t){var i=t.state,o=t.options,s=t.name,a=o.mainAxis,u=a===void 0?!0:a,h=o.altAxis,f=h===void 0?!1:h,m=o.boundary,g=o.rootBoundary,v=o.altBoundary,_=o.padding,k=o.tether,b=k===void 0?!0:k,N=o.tetherOffset,P=N===void 0?0:N,y=Xn(i,{boundary:m,rootBoundary:g,padding:_,altBoundary:v}),S=at(i.placement),E=yn(i.placement),T=!E,O=ts(S),j=Tm(O),D=i.modifiersData.popperOffsets,z=i.rects.reference,A=i.rects.popper,F=typeof P=="function"?P(Object.assign({},i.rects,{placement:i.placement})):P,U=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),Z=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,q={x:0,y:0};if(D){if(u){var K,te=O==="y"?Ie:Be,ve=O==="y"?Ge:Ve,re=O==="y"?"height":"width",ye=D[O],G=ye+y[te],pe=ye-y[ve],W=b?-A[re]/2:0,ne=E===gn?z[re]:A[re],_e=E===gn?-A[re]:-z[re],xe=i.elements.arrow,he=b&&xe?es(xe):{width:0,height:0},Q=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:Wa(),X=Q[te],Oe=Q[ve],Me=Un(0,z[re],he[re]),ft=T?z[re]/2-W-Me-X-U.mainAxis:ne-Me-X-U.mainAxis,Qe=T?-z[re]/2+W+Me+Oe+U.mainAxis:_e+Me+Oe+U.mainAxis,mt=i.elements.arrow&&ii(i.elements.arrow),pt=mt?O==="y"?mt.clientTop||0:mt.clientLeft||0:0,Ct=(K=Z?.[O])!=null?K:0,bn=ye+ft-Ct-pt,Wt=ye+Qe-Ct,Rt=Un(b?Li(G,bn):G,ye,b?Qt(pe,Wt):pe);D[O]=Rt,q[O]=Rt-ye}if(f){var Mt,St=O==="x"?Ie:Be,wn=O==="x"?Ge:Ve,Ze=D[j],et=j==="y"?"height":"width",Ft=Ze+y[St],Ot=Ze-y[wn],gt=[Ie,Be].indexOf(S)!==-1,jt=(Mt=Z?.[j])!=null?Mt:0,Tt=gt?Ft:Ze-z[et]-A[et]-jt+U.altAxis,Zt=gt?Ze+z[et]+A[et]-jt-U.altAxis:Ot,Ht=b&&gt?nm(Tt,Ze,Zt):Un(b?Tt:Ft,Ze,b?Zt:Ot);D[j]=Ht,q[j]=Ht-Ze}i.modifiersData[s]=q}}const Dm={name:"preventOverflow",enabled:!0,phase:"main",fn:Lm,requiresIfExists:["offset"]};function Em(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Am(t){return t===Fe(t)||!lt(t)?ns(t):Em(t)}function Im(t){var i=t.getBoundingClientRect(),o=vn(i.width)/t.offsetWidth||1,s=vn(i.height)/t.offsetHeight||1;return o!==1||s!==1}function Bm(t,i,o){o===void 0&&(o=!1);var s=lt(i),a=lt(i)&&Im(i),u=zt(i),h=_n(t,a,o),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(s||!s&&!o)&&((Bt(i)!=="body"||os(u))&&(f=Am(i)),lt(i)?(m=_n(i,!0),m.x+=i.clientLeft,m.y+=i.clientTop):u&&(m.x=is(u))),{x:h.left+f.scrollLeft-m.x,y:h.top+f.scrollTop-m.y,width:h.width,height:h.height}}function zm(t){var i=new Map,o=new Set,s=[];t.forEach(function(u){i.set(u.name,u)});function a(u){o.add(u.name);var h=[].concat(u.requires||[],u.requiresIfExists||[]);h.forEach(function(f){if(!o.has(f)){var m=i.get(f);m&&a(m)}}),s.push(u)}return t.forEach(function(u){o.has(u.name)||a(u)}),s}function Wm(t){var i=zm(t);return Qf.reduce(function(o,s){return o.concat(i.filter(function(a){return a.phase===s}))},[])}function Rm(t){var i;return function(){return i||(i=new Promise(function(o){Promise.resolve().then(function(){i=void 0,o(t())})})),i}}function Fm(t){var i=t.reduce(function(o,s){var a=o[s.name];return o[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,o},{});return Object.keys(i).map(function(o){return i[o]})}var zr={placement:"bottom",modifiers:[],strategy:"absolute"};function Wr(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return!i.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Zm(t){t===void 0&&(t={});var i=t,o=i.defaultModifiers,s=o===void 0?[]:o,a=i.defaultOptions,u=a===void 0?zr:a;return function(f,m,g){g===void 0&&(g=u);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},zr,u),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},_=[],k=!1,b={state:v,setOptions:function(S){var E=typeof S=="function"?S(v.options):S;P(),v.options=Object.assign({},u,v.options,E),v.scrollParents={reference:en(f)?Gn(f):f.contextElement?Gn(f.contextElement):[],popper:Gn(m)};var T=Wm(Fm([].concat(s,v.options.modifiers)));return v.orderedModifiers=T.filter(function(O){return O.enabled}),N(),b.update()},forceUpdate:function(){if(!k){var S=v.elements,E=S.reference,T=S.popper;if(Wr(E,T)){v.rects={reference:Bm(E,ii(T),v.options.strategy==="fixed"),popper:es(T)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(U){return v.modifiersData[U.name]=Object.assign({},U.data)});for(var O=0;O<v.orderedModifiers.length;O++){if(v.reset===!0){v.reset=!1,O=-1;continue}var j=v.orderedModifiers[O],D=j.fn,z=j.options,A=z===void 0?{}:z,F=j.name;typeof D=="function"&&(v=D({state:v,options:A,name:F,instance:b})||v)}}}},update:Rm(function(){return new Promise(function(y){b.forceUpdate(),y(v)})}),destroy:function(){P(),k=!0}};if(!Wr(f,m))return b;b.setOptions(g).then(function(y){!k&&g.onFirstUpdate&&g.onFirstUpdate(y)});function N(){v.orderedModifiers.forEach(function(y){var S=y.name,E=y.options,T=E===void 0?{}:E,O=y.effect;if(typeof O=="function"){var j=O({state:v,name:S,instance:b,options:T}),D=function(){};_.push(j||D)}})}function P(){_.forEach(function(y){return y()}),_=[]}return b}}const Hm=Zm({defaultModifiers:[Nm,jm,um,hm,Sm,km,Dm,rm]}),Ym=["enabled","placement","strategy","modifiers"];function qm(t,i){if(t==null)return{};var o={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(i.indexOf(s)>=0)continue;o[s]=t[s]}return o}const Um={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Gm={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:i,popper:o}=t.elements;if("removeAttribute"in i){const s=(i.getAttribute("aria-describedby")||"").split(",").filter(a=>a.trim()!==o.id);s.length?i.setAttribute("aria-describedby",s.join(",")):i.removeAttribute("aria-describedby")}},fn:({state:t})=>{var i;const{popper:o,reference:s}=t.elements,a=(i=o.getAttribute("role"))==null?void 0:i.toLowerCase();if(o.id&&a==="tooltip"&&"setAttribute"in s){const u=s.getAttribute("aria-describedby");if(u&&u.split(",").indexOf(o.id)!==-1)return;s.setAttribute("aria-describedby",u?`${u},${o.id}`:o.id)}}},Vm=[];function $m(t,i,o={}){let{enabled:s=!0,placement:a="bottom",strategy:u="absolute",modifiers:h=Vm}=o,f=qm(o,Ym);const m=w.useRef(h),g=w.useRef(),v=w.useCallback(()=>{var y;(y=g.current)==null||y.update()},[]),_=w.useCallback(()=>{var y;(y=g.current)==null||y.forceUpdate()},[]),[k,b]=Ff(w.useState({placement:a,update:v,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),N=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:y})=>{const S={},E={};Object.keys(y.elements).forEach(T=>{S[T]=y.styles[T],E[T]=y.attributes[T]}),b({state:y,styles:S,attributes:E,update:v,forceUpdate:_,placement:y.placement})}}),[v,_,b]),P=w.useMemo(()=>(qn(m.current,h)||(m.current=h),m.current),[h]);return w.useEffect(()=>{!g.current||!s||g.current.setOptions({placement:a,strategy:u,modifiers:[...P,N,Um]})},[u,a,N,s,P]),w.useEffect(()=>{if(!(!s||t==null||i==null))return g.current=Hm(t,i,Object.assign({},f,{placement:a,strategy:u,modifiers:[...P,Gm,N]})),()=>{g.current!=null&&(g.current.destroy(),g.current=void 0,b(y=>Object.assign({},y,{attributes:{},styles:{popper:{}}})))}},[s,t,i]),k}function Rr(t,i){if(t.contains)return t.contains(i);if(t.compareDocumentPosition)return t===i||!!(t.compareDocumentPosition(i)&16)}var Mo,Fr;function Km(){if(Fr)return Mo;Fr=1;var t=function(){};return Mo=t,Mo}var Xm=Km();const Jm=Wo(Xm),Zr=()=>{};function Qm(t){return t.button===0}function ep(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const So=t=>t&&("current"in t?t.current:t),Hr={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function tp(t,i=Zr,{disabled:o,clickTrigger:s="click"}={}){const a=w.useRef(!1),u=w.useRef(!1),h=w.useCallback(g=>{const v=So(t);Jm(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!v||ep(g)||!Qm(g)||!!Rr(v,g.target)||u.current,u.current=!1},[t]),f=It(g=>{const v=So(t);v&&Rr(v,g.target)?u.current=!0:u.current=!1}),m=It(g=>{a.current||i(g)});w.useEffect(()=>{var g,v;if(o||t==null)return;const _=wf(So(t)),k=_.defaultView||window;let b=(g=k.event)!=null?g:(v=k.parent)==null?void 0:v.event,N=null;Hr[s]&&(N=Si(_,Hr[s],f,!0));const P=Si(_,s,h,!0),y=Si(_,s,E=>{if(E===b){b=void 0;return}m(E)});let S=[];return"ontouchstart"in _.documentElement&&(S=[].slice.call(_.body.children).map(E=>Si(E,"mousemove",Zr))),()=>{N?.(),P(),y(),S.forEach(E=>E())}},[t,o,s,h,f,m])}function np(t){const i={};return Array.isArray(t)?(t?.forEach(o=>{i[o.name]=o}),i):t||i}function ip(t={}){return Array.isArray(t)?t:Object.keys(t).map(i=>(t[i].name=i,t[i]))}function op({enabled:t,enableEvents:i,placement:o,flip:s,offset:a,fixed:u,containerPadding:h,arrowElement:f,popperConfig:m={}}){var g,v,_,k,b;const N=np(m.modifiers);return Object.assign({},m,{placement:o,enabled:t,strategy:u?"fixed":m.strategy,modifiers:ip(Object.assign({},N,{eventListeners:{enabled:i,options:(g=N.eventListeners)==null?void 0:g.options},preventOverflow:Object.assign({},N.preventOverflow,{options:h?Object.assign({padding:h},(v=N.preventOverflow)==null?void 0:v.options):(_=N.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:a},(k=N.offset)==null?void 0:k.options)},arrow:Object.assign({},N.arrow,{enabled:!!f,options:Object.assign({},(b=N.arrow)==null?void 0:b.options,{element:f})}),flip:Object.assign({enabled:!!s},N.flip)}))})}const sp=["children","usePopper"];function rp(t,i){if(t==null)return{};var o={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(i.indexOf(s)>=0)continue;o[s]=t[s]}return o}const ap=()=>{};function Ya(t={}){const i=w.useContext(Ii),[o,s]=Mf(),a=w.useRef(!1),{flip:u,offset:h,rootCloseEvent:f,fixed:m=!1,placement:g,popperConfig:v={},enableEventListeners:_=!0,usePopper:k=!!i}=t,b=i?.show==null?!!t.show:i.show;b&&!a.current&&(a.current=!0);const N=D=>{i?.toggle(!1,D)},{placement:P,setMenu:y,menuElement:S,toggleElement:E}=i||{},T=$m(E,S,op({placement:g||P||"bottom-start",enabled:k,enableEvents:_??b,offset:h,flip:u,fixed:m,arrowElement:o,popperConfig:v})),O=Object.assign({ref:y||ap,"aria-labelledby":E?.id},T.attributes.popper,{style:T.styles.popper}),j={show:b,placement:P,hasShown:a.current,toggle:i?.toggle,popper:k?T:null,arrowProps:k?Object.assign({ref:s},T.attributes.arrow,{style:T.styles.arrow}):{}};return tp(S,N,{clickTrigger:f,disabled:!b}),[O,j]}function qa(t){let{children:i,usePopper:o=!0}=t,s=rp(t,sp);const[a,u]=Ya(Object.assign({},s,{usePopper:o}));return c.jsx(c.Fragment,{children:i(a,u)})}qa.displayName="DropdownMenu";const Ua={prefix:String(Math.round(Math.random()*1e10)),current:0},Ga=B.createContext(Ua),lp=B.createContext(!1);let Oo=new WeakMap;function cp(t=!1){let i=w.useContext(Ga),o=w.useRef(null);if(o.current===null&&!t){var s,a;let u=(a=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||a===void 0||(s=a.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(u){let h=Oo.get(u);h==null?Oo.set(u,{id:i.current,state:u.memoizedState}):u.memoizedState!==h.state&&(i.current=h.id,Oo.delete(u))}o.current=++i.current}return o.current}function up(t){let i=w.useContext(Ga),o=cp(!!t),s=`react-aria${i.prefix}`;return t||`${s}-${o}`}function dp(t){let i=B.useId(),[o]=w.useState(gp()),s=o?"react-aria":`react-aria${Ua.prefix}`;return t||`${s}-${i}`}const hp=typeof B.useId=="function"?dp:up;function fp(){return!1}function mp(){return!0}function pp(t){return()=>{}}function gp(){return typeof B.useSyncExternalStore=="function"?B.useSyncExternalStore(pp,fp,mp):w.useContext(lp)}const Va=t=>{var i;return((i=t.getAttribute("role"))==null?void 0:i.toLowerCase())==="menu"},Yr=()=>{};function $a(){const t=hp(),{show:i=!1,toggle:o=Yr,setToggle:s,menuElement:a}=w.useContext(Ii)||{},u=w.useCallback(f=>{o(!i,f)},[i,o]),h={id:t,ref:s||Yr,onClick:u,"aria-expanded":!!i};return a&&Va(a)&&(h["aria-haspopup"]=!0),[h,{show:i,toggle:o}]}function Ka({children:t}){const[i,o]=$a();return c.jsx(c.Fragment,{children:t(i,o)})}Ka.displayName="DropdownToggle";const Bo=w.createContext(null),qr=(t,i=null)=>t!=null?String(t):i||null,Xa=w.createContext(null);Xa.displayName="NavContext";const vp="data-rr-ui-";function Ja(t){return`${vp}${t}`}const _p=["eventKey","disabled","onClick","active","as"];function yp(t,i){if(t==null)return{};var o={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(i.indexOf(s)>=0)continue;o[s]=t[s]}return o}function Qa({key:t,href:i,active:o,disabled:s,onClick:a}){const u=w.useContext(Bo),h=w.useContext(Xa),{activeKey:f}=h||{},m=qr(t,i),g=o==null&&t!=null?qr(f)===m:o;return[{onClick:It(_=>{s||(a?.(_),u&&!_.isPropagationStopped()&&u(m,_))}),"aria-disabled":s||void 0,"aria-selected":g,[Ja("dropdown-item")]:""},{isActive:g}]}const el=w.forwardRef((t,i)=>{let{eventKey:o,disabled:s,onClick:a,active:u,as:h=La}=t,f=yp(t,_p);const[m]=Qa({key:o,href:f.href,disabled:s,onClick:a,active:u});return c.jsx(h,Object.assign({},f,{ref:i},m))});el.displayName="DropdownItem";const tl=w.createContext(Oa?window:void 0);tl.Provider;function xp(){return w.useContext(tl)}function Ur(){const t=Rf(),i=w.useRef(null),o=w.useCallback(s=>{i.current=s,t()},[t]);return[i,o]}function oi({defaultShow:t,show:i,onSelect:o,onToggle:s,itemSelector:a=`* [${Ja("dropdown-item")}]`,focusFirstItemOnShow:u,placement:h="bottom-start",children:f}){const m=xp(),[g,v]=Wf(i,t,s),[_,k]=Ur(),b=_.current,[N,P]=Ur(),y=N.current,S=Tf(g),E=w.useRef(null),T=w.useRef(!1),O=w.useContext(Bo),j=w.useCallback((Z,q,K=q?.type)=>{v(Z,{originalEvent:q,source:K})},[v]),D=It((Z,q)=>{o?.(Z,q),j(!1,q,"select"),q.isPropagationStopped()||O?.(Z,q)}),z=w.useMemo(()=>({toggle:j,placement:h,show:g,menuElement:b,toggleElement:y,setMenu:k,setToggle:P}),[j,h,g,b,y,k,P]);b&&S&&!g&&(T.current=b.contains(b.ownerDocument.activeElement));const A=It(()=>{y&&y.focus&&y.focus()}),F=It(()=>{const Z=E.current;let q=u;if(q==null&&(q=_.current&&Va(_.current)?"keyboard":!1),q===!1||q==="keyboard"&&!/^key.+$/.test(Z))return;const K=Sr(_.current,a)[0];K&&K.focus&&K.focus()});w.useEffect(()=>{g?F():T.current&&(T.current=!1,A())},[g,T,A,F]),w.useEffect(()=>{E.current=null});const U=(Z,q)=>{if(!_.current)return null;const K=Sr(_.current,a);let te=K.indexOf(Z)+q;return te=Math.max(0,Math.min(te,K.length)),K[te]};return Of(w.useCallback(()=>m.document,[m]),"keydown",Z=>{var q,K;const{key:te}=Z,ve=Z.target,re=(q=_.current)==null?void 0:q.contains(ve),ye=(K=N.current)==null?void 0:K.contains(ve);if(/input|textarea/i.test(ve.tagName)&&(te===" "||te!=="Escape"&&re||te==="Escape"&&ve.type==="search")||!re&&!ye||te==="Tab"&&(!_.current||!g))return;E.current=Z.type;const pe={originalEvent:Z,source:Z.type};switch(te){case"ArrowUp":{const W=U(ve,-1);W&&W.focus&&W.focus(),Z.preventDefault();return}case"ArrowDown":if(Z.preventDefault(),!g)v(!0,pe);else{const W=U(ve,1);W&&W.focus&&W.focus()}return;case"Tab":ja(ve.ownerDocument,"keyup",W=>{var ne;(W.key==="Tab"&&!W.target||!((ne=_.current)!=null&&ne.contains(W.target)))&&v(!1,pe)},{once:!0});break;case"Escape":te==="Escape"&&(Z.preventDefault(),Z.stopPropagation()),v(!1,pe);break}}),c.jsx(Bo.Provider,{value:D,children:c.jsx(Ii.Provider,{value:z,children:f})})}oi.displayName="Dropdown";oi.Menu=qa;oi.Toggle=Ka;oi.Item=el;const ss=w.createContext({});ss.displayName="DropdownContext";const nl=w.forwardRef(({className:t,bsPrefix:i,as:o="hr",role:s="separator",...a},u)=>(i=Nt(i,"dropdown-divider"),c.jsx(o,{ref:u,className:Pt(t,i),role:s,...a})));nl.displayName="DropdownDivider";const il=w.forwardRef(({className:t,bsPrefix:i,as:o="div",role:s="heading",...a},u)=>(i=Nt(i,"dropdown-header"),c.jsx(o,{ref:u,className:Pt(t,i),role:s,...a})));il.displayName="DropdownHeader";const ol=w.forwardRef(({bsPrefix:t,className:i,eventKey:o,disabled:s=!1,onClick:a,active:u,as:h=Da,...f},m)=>{const g=Nt(t,"dropdown-item"),[v,_]=Qa({key:o,href:f.href,disabled:s,onClick:a,active:u});return c.jsx(h,{...f,...v,ref:m,className:Pt(i,g,_.isActive&&"active",s&&"disabled")})});ol.displayName="DropdownItem";const sl=w.forwardRef(({className:t,bsPrefix:i,as:o="span",...s},a)=>(i=Nt(i,"dropdown-item-text"),c.jsx(o,{ref:a,className:Pt(t,i),...s})));sl.displayName="DropdownItemText";const bp=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",wp=typeof document<"u",kp=wp||bp?w.useLayoutEffect:w.useEffect,rs=w.createContext(null);rs.displayName="InputGroupContext";const rl=w.createContext(null);rl.displayName="NavbarContext";function al(t,i){return t}function ll(t,i,o){const s=o?"top-end":"top-start",a=o?"top-start":"top-end",u=o?"bottom-end":"bottom-start",h=o?"bottom-start":"bottom-end",f=o?"right-start":"left-start",m=o?"right-end":"left-end",g=o?"left-start":"right-start",v=o?"left-end":"right-end";let _=t?h:u;return i==="up"?_=t?a:s:i==="end"?_=t?v:g:i==="start"?_=t?m:f:i==="down-centered"?_="bottom":i==="up-centered"&&(_="top"),_}const cl=w.forwardRef(({bsPrefix:t,className:i,align:o,rootCloseEvent:s,flip:a=!0,show:u,renderOnMount:h,as:f="div",popperConfig:m,variant:g,...v},_)=>{let k=!1;const b=w.useContext(rl),N=Nt(t,"dropdown-menu"),{align:P,drop:y,isRTL:S}=w.useContext(ss);o=o||P;const E=w.useContext(rs),T=[];if(o)if(typeof o=="object"){const Z=Object.keys(o);if(Z.length){const q=Z[0],K=o[q];k=K==="start",T.push(`${N}-${q}-${K}`)}}else o==="end"&&(k=!0);const O=ll(k,y,S),[j,{hasShown:D,popper:z,show:A,toggle:F}]=Ya({flip:a,rootCloseEvent:s,show:u,usePopper:!b&&T.length===0,offset:[0,2],popperConfig:m,placement:O});if(j.ref=Ta(al(_),j.ref),kp(()=>{A&&z?.update()},[A]),!D&&!h&&!E)return null;typeof f!="string"&&(j.show=A,j.close=()=>F?.(!1),j.align=o);let U=v.style;return z!=null&&z.placement&&(U={...v.style,...j.style},v["x-placement"]=z.placement),c.jsx(f,{...v,...j,style:U,...(T.length||b)&&{"data-bs-popper":"static"},className:Pt(i,N,A&&"show",k&&`${N}-end`,g&&`${N}-${g}`,...T)})});cl.displayName="DropdownMenu";const ul=w.forwardRef(({bsPrefix:t,split:i,className:o,childBsPrefix:s,as:a=Ea,...u},h)=>{const f=Nt(t,"dropdown-toggle"),m=w.useContext(Ii);s!==void 0&&(u.bsPrefix=s);const[g]=$a();return g.ref=Ta(g.ref,al(h)),c.jsx(a,{className:Pt(o,f,i&&`${f}-split`,m?.show&&"show"),...g,...u})});ul.displayName="DropdownToggle";const dl=w.forwardRef((t,i)=>{const{bsPrefix:o,drop:s="down",show:a,className:u,align:h="start",onSelect:f,onToggle:m,focusFirstItemOnShow:g,as:v="div",navbar:_,autoClose:k=!0,...b}=_f(t,{show:"onToggle"}),N=w.useContext(rs),P=Nt(o,"dropdown"),y=bf(),S=z=>k===!1?z==="click":k==="inside"?z!=="rootClose":k==="outside"?z!=="select":!0,E=Cf((z,A)=>{var F;!((F=A.originalEvent)==null||(F=F.target)==null)&&F.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),S(A.source)&&m?.(z,A))}),O=ll(h==="end",s,y),j=w.useMemo(()=>({align:h,drop:s,isRTL:y}),[h,s,y]),D={down:P,"down-centered":`${P}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return c.jsx(ss.Provider,{value:j,children:c.jsx(oi,{placement:O,show:a,onSelect:f,onToggle:E,focusFirstItemOnShow:g,itemSelector:`.${P}-item:not(.disabled):not(:disabled)`,children:N?b.children:c.jsx(v,{...b,ref:i,className:Pt(u,a&&"show",D[s])})})})});dl.displayName="Dropdown";const Ee=Object.assign(dl,{Toggle:ul,Menu:cl,Item:ol,ItemText:sl,Divider:nl,Header:il});function Pp({venue:t}){return c.jsxs(de,{to:`/venues/${t.id}`,className:"venue-card-list text-decoration-none text-dark",children:[c.jsx("div",{children:c.jsx("img",{src:t.media?.[0]?.url||pn,alt:t.media?.[0]?.alt||t.name})}),c.jsxs("div",{className:"px-3 pt-2 pb-3",children:[c.jsx("h4",{className:"mb-0",children:t.name}),c.jsxs("p",{className:"text-neutral mt-1 mb-1",children:[t.location.city,", ",t.location.country]}),c.jsx("div",{className:"fw-semibold",children:t.rating!==void 0?` ${t.rating}/5`:"No ratings"}),c.jsxs("p",{className:"fw-medium mb-0 mt-1",children:["$",t.price,"/night"]})]})]})}function Np(){const[t,i]=w.useState([]),[o,s]=w.useState(!1),[a,u]=w.useState(!1),h=async()=>{try{s(!0),u(!1);const f=await Ca();i(f)}catch(f){console.error(f),u(!0)}finally{s(!1)}};return w.useEffect(()=>{h()},[]),{venues:t,isLoading:o,isError:a}}const Cp="/holidaze/assets/venue-hero-BxvJGj7D.jpg";function Mp(){const{venues:t,isLoading:i,isError:o}=Np(),s=Gr(),a=w.useMemo(()=>Object.fromEntries(new URLSearchParams(s.search)),[s.search]),{searchParams:u,handleChange:h,searchResults:f}=Sa(t,{location:a.location||"",guests:a.guests?Number(a.guests):null,dateFrom:a.dateFrom?new Date(a.dateFrom):null,dateTo:a.dateTo?new Date(a.dateTo):null}),[m,g]=w.useState(!1),[v,_]=w.useState(1),[k,b]=w.useState(null),[N,P]=w.useState(null),[y,S]=w.useState([]),E=12,T=A=>{S(F=>F.includes(A)?F.filter(U=>U!==A):[...F,A]),_(1)};let O=f;k&&(O=O.filter(A=>(A.rating??0)>=k)),N&&(O=O.filter(A=>A.price<=N)),y.length&&(O=O.filter(A=>A.meta?y.every(F=>F==="Wi-Fi"?A.meta.wifi:F==="Parking"?A.meta.parking:F==="Breakfast"?A.meta.breakfast:F==="Pets"?A.meta.pets:!1):!1));const j=Math.ceil(O.length/E),D=(v-1)*E,z=O.slice(D,D+E);return c.jsxs(c.Fragment,{children:[i&&c.jsx(ht,{overlay:!0,size:"lg"}),!i&&o&&c.jsx("div",{className:"text-center text-danger mt-5",children:"Failed to load venues."}),!i&&!o&&c.jsxs(c.Fragment,{children:[c.jsx("section",{className:"venue-hero",style:{backgroundImage:`url(${Cp})`},children:c.jsx("div",{className:"hero-overlay"})}),c.jsxs("div",{className:"container mb-5",children:[c.jsxs("section",{className:"venue-controls",children:[c.jsxs("form",{className:"search-bar rounded-4 mb-5 box-shadow",onSubmit:A=>A.preventDefault(),children:[c.jsx("input",{className:"form-control",placeholder:"Location",value:u.location,onChange:A=>{h("location",A.target.value),_(1)}}),c.jsx("input",{className:"form-control",placeholder:"Check-in",value:u.dateFrom?.toLocaleDateString()??"",readOnly:!0,onClick:()=>g(!0)}),c.jsx("input",{className:"form-control",placeholder:"Check-out",value:u.dateTo?.toLocaleDateString()??"",readOnly:!0,onClick:()=>g(!0)}),c.jsx("input",{className:"form-control",placeholder:"Guests",type:"number",value:u.guests??"",onChange:A=>{h("guests",A.target.value?Number(A.target.value):null),_(1)}})]}),m&&c.jsx($o,{bookings:[],onClose:()=>g(!1),onSelectRange:(A,F)=>{h("dateFrom",A),h("dateTo",F),_(1),g(!1)}}),c.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[c.jsxs(Ee,{as:ji,children:[c.jsx(Ee.Toggle,{className:"btn btn-filters",children:"Rating"}),c.jsxs(Ee.Menu,{className:"dropdown-menu-custom",children:[[1,2,3,4,5].map(A=>c.jsxs(Ee.Item,{active:k===A,onClick:()=>{b(A),_(1)},children:[A,"  & up"]},A)),c.jsx(Ee.Item,{onClick:()=>{b(null),_(1)},children:"Clear"})]})]}),c.jsxs(Ee,{as:ji,children:[c.jsx(Ee.Toggle,{className:"btn btn-filters",children:"Price"}),c.jsxs(Ee.Menu,{className:"dropdown-menu-custom",children:[[50,100,200,500].map(A=>c.jsxs(Ee.Item,{active:N===A,onClick:()=>{P(A),_(1)},children:["Up to $",A]},A)),c.jsx(Ee.Item,{onClick:()=>{P(null),_(1)},children:"Clear"})]})]}),c.jsxs(Ee,{as:ji,children:[c.jsx(Ee.Toggle,{className:"btn btn-filters",children:"Amenities"}),c.jsxs(Ee.Menu,{className:"dropdown-menu-custom",children:[["Wi-Fi","Parking","Breakfast","Pets"].map(A=>c.jsxs(Ee.Item,{onClick:()=>T(A),className:"d-flex justify-content-between",children:[A,y.includes(A)&&c.jsx("i",{className:"fa-solid fa-check text-success"})]},A)),c.jsx(Ee.Item,{onClick:()=>S([]),children:"Clear All"})]})]})]})]}),c.jsxs("section",{children:[c.jsx("div",{className:"venues-grid",children:z.map(A=>c.jsx(Pp,{venue:A},A.id))}),!O.length&&c.jsx("div",{className:"text-center text-muted mt-4",children:"No venues match your search."}),j>1&&c.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-3 mt-5",children:[c.jsx("button",{className:"btn btn-outline-primary btn-pag",disabled:v===1,onClick:()=>_(A=>A-1),children:"Previous"}),c.jsxs("span",{children:["Page ",v," of ",j]}),c.jsx("button",{className:"btn btn-primary btn-pag",disabled:v===j,onClick:()=>_(A=>A+1),children:"Next"})]})]})]})]})]})}function Sp(t){return dt(ut.bookings,{method:"POST",body:JSON.stringify(t)})}function Op(t,i,o){return o.some(s=>{const a=new Date(s.dateFrom),u=new Date(s.dateTo);return t<u&&i>a})}function jp(t,i){const{role:o}=We(),[s,a]=w.useState(null),[u,h]=w.useState(null),[f,m]=w.useState(""),[g,v]=w.useState(!1),[_,k]=w.useState(null),[b,N]=w.useState(!1);return{dateFrom:s,setDateFrom:a,dateTo:u,setDateTo:h,guests:f,setGuests:m,isSubmitting:g,error:_,success:b,book:async()=>{if(t){if(!i){k("You must be logged in to book");return}if(o==="venue_manager"){k("Venue managers cannot make bookings");return}if(!s||!u){k("Please select dates");return}if(!f||f<1||f>t.maxGuests){k("Invalid number of guests");return}if(Op(s,u,t.bookings??[])){k("Selected dates are not available");return}try{v(!0),k(null),await Sp({venueId:t.id,dateFrom:s.toISOString(),dateTo:u.toISOString(),guests:f}),N(!0)}catch{k("Failed to create booking")}finally{v(!1)}}},reset:()=>{a(null),h(null),m(""),k(null),N(!1)}}}function hl({venue:t,onClose:i,onEdit:o}){const{user:s}=We(),[a,u]=w.useState({name:"",description:"",price:"",maxGuests:"",amenities:[],rating:"",location:{address:"",city:"",zip:"",country:""},media:[""]}),[h,f]=w.useState(!1),[m,g]=w.useState({});w.useEffect(()=>{if(!t)return;const P=[];t.meta?.wifi&&P.push("Wi-Fi"),t.meta?.parking&&P.push("Parking"),t.meta?.breakfast&&P.push("Breakfast"),t.meta?.pets&&P.push("Pets"),u({name:t.name??"",description:t.description??"",price:t.price!==void 0?t.price.toString():"",maxGuests:t.maxGuests!==void 0?t.maxGuests.toString():"",rating:t.rating??"",amenities:P,location:{address:t.location?.address??"",city:t.location?.city??"",zip:t.location?.zip??"",country:t.location?.country??"",continent:t.location?.continent??"",lat:t.location?.lat??0,long:t.location?.long??0},media:t.media?.map(y=>y.url??"")||[""]})},[t]);const v=P=>{const{name:y,value:S}=P.target;if(y.startsWith("location.")){const E=y.split(".")[1];u(T=>({...T,location:{...T.location,[E]:S}}))}else if(y.startsWith("media.")){const E=parseInt(y.split(".")[1]),T=[...a.media];T[E]=S,u(O=>({...O,media:T}))}else u(E=>({...E,[y]:S}))},_=P=>{u(y=>({...y,amenities:y.amenities.includes(P)?y.amenities.filter(S=>S!==P):[...y.amenities,P]}))},k=()=>{const P={};return a.name.trim()||(P.name="Venue name is required"),(!a.price||Number(a.price)<=0)&&(P.price="Price is required"),(!a.maxGuests||Number(a.maxGuests)<=0)&&(P.maxGuests="Max guests is required"),a.location.address.trim()||(P["location.address"]="Address is required"),a.location.city.trim()||(P["location.city"]="City is required"),a.location.zip.trim()||(P["location.zip"]="Postcode is required"),a.location.country.trim()||(P["location.country"]="Country is required"),a.media[0]?.trim()||(P["media.0"]="Image URL is required"),g(P),Object.keys(P).length===0},b=async P=>{if(P.preventDefault(),!!k()){f(!0);try{if(!s)throw new Error("User not logged in");const y={name:a.name,description:a.description,price:Number(a.price),rating:a.rating===""?void 0:a.rating,maxGuests:Number(a.maxGuests),meta:{wifi:a.amenities.includes("Wi-Fi"),parking:a.amenities.includes("Parking"),breakfast:a.amenities.includes("Breakfast"),pets:a.amenities.includes("Pets")},location:{...a.location,continent:"",lat:0,long:0},media:a.media.filter(Boolean).map(E=>({url:E,alt:void 0}))},S=await Kh(t.id,y);o(S),i()}catch(y){console.error("Failed to update venue",y)}finally{f(!1)}}},N=()=>{g({}),i()};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"modal-backdrop fade show",onClick:N}),c.jsx("div",{className:"modal show d-block",tabIndex:-1,children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content p-3",children:[h&&c.jsx(ht,{overlay:!0,size:"lg"}),c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:"Edit venue"}),c.jsx("button",{type:"button",className:"btn-close",onClick:N})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("form",{onSubmit:b,children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"name",className:"form-label mb-0",children:"Venue Name*"}),c.jsx("input",{type:"text",id:"name",name:"name",className:`form-control ${m.name?"is-invalid":""}`,value:a.name,onChange:v,required:!0}),m.name&&c.jsx("div",{className:"invalid-feedback",children:m.name})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"description",className:"form-label mb-0",children:"Description"}),c.jsx("textarea",{id:"description",name:"description",className:`form-control ${m.description?"is-invalid":""}`,value:a.description,onChange:v}),m.description&&c.jsx("div",{className:"invalid-feedback",children:m.description})]}),c.jsxs("div",{className:"mb-3 d-flex gap-2",children:[c.jsxs("div",{className:"flex-fill",children:[c.jsx("label",{className:"form-label mb-0",children:"Price/night (USD)*"}),c.jsx("input",{type:"number",name:"price",className:`form-control ${m.price?"is-invalid":""}`,value:a.price,onChange:v,required:!0}),m.price&&c.jsx("div",{className:"invalid-feedback",children:m.price})]}),c.jsxs("div",{className:"flex-fill",children:[c.jsx("label",{className:"form-label mb-0",children:"Max guests*"}),c.jsx("input",{type:"number",name:"maxGuests",className:`form-control ${m.maxGuests?"is-invalid":""}`,value:a.maxGuests,onChange:v,required:!0}),m.maxGuests&&c.jsx("div",{className:"invalid-feedback",children:m.maxGuests})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label mb-0",children:"Amenities"}),["Wi-Fi","Parking","Breakfast","Pets"].map(P=>c.jsxs("div",{className:"form-check d-flex align-items-center gap-2",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:P,checked:a.amenities.includes(P),onChange:()=>_(P)}),c.jsx("label",{className:"form-check-label",htmlFor:P,children:P})]},P))]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label mb-0",children:"Rating"}),c.jsx("input",{type:"number",min:0,max:5,step:.5,name:"rating",className:"form-control",value:a.rating,onChange:P=>u(y=>({...y,rating:P.target.value===""?"":Number(P.target.value)}))})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label mb-0",children:"Location*"}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-0",children:"Address"}),c.jsx("input",{type:"text",name:"location.address",className:`form-control ${m["location.address"]?"is-invalid":""}`,value:a.location.address,onChange:v,required:!0}),m["location.address"]&&c.jsx("div",{className:"invalid-feedback",children:m["location.address"]}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsxs("div",{className:"flex-fill",children:[c.jsx("label",{className:"mb-0",children:"Postcode"}),c.jsx("input",{type:"text",name:"location.zip",className:`form-control ${m["location.zip"]?"is-invalid":""}`,value:a.location.zip,onChange:v,required:!0}),m["location.zip"]&&c.jsx("div",{className:"invalid-feedback",children:m["location.zip"]})]}),c.jsxs("div",{className:"flex-fill",children:[c.jsx("label",{className:"mb-0",children:"City"}),c.jsx("input",{type:"text",name:"location.city",className:`form-control ${m["location.city"]?"is-invalid":""}`,value:a.location.city,onChange:v,required:!0}),m["location.city"]&&c.jsx("div",{className:"invalid-feedback",children:m["location.city"]})]})]}),c.jsx("label",{className:"mb-0",children:"Country"}),c.jsx("input",{type:"text",name:"location.country",className:`form-control ${m["location.country"]?"is-invalid":""}`,value:a.location.country,onChange:v,required:!0}),m["location.country"]&&c.jsx("div",{className:"invalid-feedback",children:m["location.country"]})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label mb-0",children:"Image URL"}),a.media.map((P,y)=>c.jsx("input",{type:"text",name:`media.${y}`,className:`form-control ${m["media.0"]?"is-invalid":""}`,value:P,onChange:v,required:y===0},y)),m["media.0"]&&c.jsx("div",{className:"invalid-feedback",children:m["media.0"]})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-cancel flex-fill",onClick:i,children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn btn-primary flex-fill",disabled:h,children:h?"Updating...":"Confirm"})]})]})})]})})})]})}function fl(t,i){const o=w.useRef(i);w.useEffect(function(){i!==o.current&&t.attributionControl!=null&&(o.current!=null&&t.attributionControl.removeAttribution(o.current),i!=null&&t.attributionControl.addAttribution(i)),o.current=i},[t,i])}const Tp=1;function Lp(t){return Object.freeze({__version:Tp,map:t})}function Dp(t,i){return Object.freeze({...t,...i})}const ml=w.createContext(null),pl=ml.Provider;function gl(){const t=w.useContext(ml);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Ep(t){function i(o,s){const{instance:a,context:u}=t(o).current;return w.useImperativeHandle(s,()=>a),o.children==null?null:B.createElement(pl,{value:u},o.children)}return w.forwardRef(i)}function Ap(t){function i(o,s){const[a,u]=w.useState(!1),{instance:h}=t(o,u).current;w.useImperativeHandle(s,()=>h),w.useEffect(function(){a&&h.update()},[h,a,o.children]);const f=h._contentNode;return f?Dc.createPortal(o.children,f):null}return w.forwardRef(i)}function Ip(t){function i(o,s){const{instance:a}=t(o).current;return w.useImperativeHandle(s,()=>a),null}return w.forwardRef(i)}function vl(t,i){const o=w.useRef();w.useEffect(function(){return i!=null&&t.instance.on(i),o.current=i,function(){o.current!=null&&t.instance.off(o.current),o.current=null}},[t,i])}function as(t,i){const o=t.pane??i.pane;return o?{...t,pane:o}:t}function Bp(t,i){return function(s,a){const u=gl(),h=t(as(s,u),u);return fl(u.map,s.attribution),vl(h.current,s.eventHandlers),i(h.current,u,s,a),h}}function ls(t,i,o){return Object.freeze({instance:t,context:i,container:o})}function cs(t,i){return i==null?function(s,a){const u=w.useRef();return u.current||(u.current=t(s,a)),u}:function(s,a){const u=w.useRef();u.current||(u.current=t(s,a));const h=w.useRef(s),{instance:f}=u.current;return w.useEffect(function(){h.current!==s&&(i(f,s,h.current),h.current=s)},[f,s,a]),u}}function zp(t,i){w.useEffect(function(){return(i.layerContainer??i.map).addLayer(t.instance),function(){i.layerContainer?.removeLayer(t.instance),i.map.removeLayer(t.instance)}},[i,t])}function _l(t){return function(o){const s=gl(),a=t(as(o,s),s);return fl(s.map,o.attribution),vl(a.current,o.eventHandlers),zp(a.current,s),a}}function Wp(t,i){const o=cs(t,i),s=_l(o);return Ep(s)}function Rp(t,i){const o=cs(t),s=Bp(o,i);return Ap(s)}function Fp(t,i){const o=cs(t,i),s=_l(o);return Ip(s)}function Zp(t,i,o){const{opacity:s,zIndex:a}=i;s!=null&&s!==o.opacity&&t.setOpacity(s),a!=null&&a!==o.zIndex&&t.setZIndex(a)}function zo(){return zo=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},zo.apply(this,arguments)}function Hp({bounds:t,boundsOptions:i,center:o,children:s,className:a,id:u,placeholder:h,style:f,whenReady:m,zoom:g,...v},_){const[k]=w.useState({className:a,id:u,style:f}),[b,N]=w.useState(null);w.useImperativeHandle(_,()=>b?.map??null,[b]);const P=w.useCallback(S=>{if(S!==null&&b===null){const E=new Jn.Map(S,v);o!=null&&g!=null?E.setView(o,g):t!=null&&E.fitBounds(t,i),m!=null&&E.whenReady(m),N(Lp(E))}},[]);w.useEffect(()=>()=>{b?.map.remove()},[b]);const y=b?B.createElement(pl,{value:b},s):h??null;return B.createElement("div",zo({},k,{ref:P}),y)}const Yp=w.forwardRef(Hp),qp=Wp(function({position:i,...o},s){const a=new Jn.Marker(i,o);return ls(a,Dp(s,{overlayContainer:a}))},function(i,o,s){o.position!==s.position&&i.setLatLng(o.position),o.icon!=null&&o.icon!==s.icon&&i.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==s.zIndexOffset&&i.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==s.opacity&&i.setOpacity(o.opacity),i.dragging!=null&&o.draggable!==s.draggable&&(o.draggable===!0?i.dragging.enable():i.dragging.disable())}),Up=Rp(function(i,o){const s=new Jn.Popup(i,o.overlayContainer);return ls(s,o)},function(i,o,{position:s},a){w.useEffect(function(){const{instance:h}=i;function f(g){g.popup===h&&(h.update(),a(!0))}function m(g){g.popup===h&&a(!1)}return o.map.on({popupopen:f,popupclose:m}),o.overlayContainer==null?(s!=null&&h.setLatLng(s),h.openOn(o.map)):o.overlayContainer.bindPopup(h),function(){o.map.off({popupopen:f,popupclose:m}),o.overlayContainer?.unbindPopup(),o.map.removeLayer(h)}},[i,o,a,s])}),Gp=Fp(function({url:i,...o},s){const a=new Jn.TileLayer(i,as(o,s));return ls(a,s)},function(i,o,s){Zp(i,o,s);const{url:a}=o;a!=null&&a!==s.url&&i.setUrl(a)}),Vp=[40.7128,-74.006];function $p({name:t,location:i,fallbackCoords:o=Vp}){const s=typeof i.lat=="number"&&!isNaN(i.lat)&&i.lat!==0?i.lat:o[0],a=typeof i.long=="number"&&!isNaN(i.long)&&i.long!==0?i.long:o[1];return c.jsxs(Yp,{center:[s,a],zoom:13,scrollWheelZoom:!1,style:{height:"300px",width:"100%"},className:"rounded-4 mb-3",children:[c.jsx(Gp,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),c.jsx(qp,{position:[s,a],children:c.jsx(Up,{children:t})})]})}function zi({type:t,message:i,onClose:o,autoDismiss:s}){return w.useEffect(()=>{if(!s)return;const a=setTimeout(()=>o?.(),s);return()=>clearTimeout(a)},[s,o]),c.jsxs("div",{className:`alert alert-${t} alert-dismissible fade show`,role:"alert",children:[i,o&&c.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:o})]})}function Kp(){const{id:t}=Ec(),{role:i,isAuthenticated:o,user:s}=We(),[a,u]=w.useState(null),[h,f]=w.useState(null),[m,g]=w.useState(!0),[v,_]=w.useState(!1),[k,b]=w.useState(!1),[N,P]=w.useState(!1),y=jp(h,o);if(w.useEffect(()=>{y.success?u({type:"success",message:"Your booking was successful!"}):y.error&&u({type:"danger",message:y.error})},[y.success,y.error]),w.useEffect(()=>{if(!t)return;(async()=>{try{const D=await Ma(t);f(D)}catch{_(!0)}finally{g(!1)}})()},[t]),m)return c.jsx(ht,{overlay:!0,size:"lg"});if(v||!h)return c.jsx("div",{className:"container py-5 text-center text-danger",children:"Venue not found."});const S=["wifi","parking","breakfast","pets"],E=async()=>{if(!O){u({type:"danger",message:"Venue managers cannot book venues."});return}await y.book()},T=h.owner?.name===s?.name,O=o&&i!=="venue_manager"&&!T;return c.jsxs("div",{children:[c.jsx("div",{className:"position-fixed top-0 end-0 p-3",style:{zIndex:1050},children:a&&c.jsx(zi,{type:a.type,message:a.message,onClose:()=>u(null),autoDismiss:5e3})}),c.jsxs("nav",{className:"breadcrumb mt-4 mb-5 ms-4 d-flex align-items-center gap-1",children:[c.jsx(de,{to:"/",className:"text-decoration-none text-muted",children:"Home"}),c.jsx("i",{className:"fa-solid fa-angle-right text-muted"}),c.jsx(de,{to:"/venues",className:"text-decoration-none text-muted",children:"Venues"}),c.jsx("i",{className:"fa-solid fa-angle-right text-muted"}),c.jsx("span",{className:"active text-muted",children:h.name})]}),c.jsxs("div",{className:"container mb-5 pt-3",children:[c.jsxs("div",{className:"mb-4 text-center",children:[c.jsx("h1",{className:"mb-1",children:h.name}),c.jsx("div",{className:"fw-bold rating-size",children:h.rating!==void 0?` ${h.rating}/5`:"No ratings"}),c.jsxs("p",{className:"text-neutral fw-medium h4 mt-3",children:[h.location.city,", ",h.location.country]})]}),c.jsx("div",{className:"row g-3 mb-3",children:c.jsx("div",{className:"col-12 col-md-8 w-100",children:c.jsx("img",{src:h.media?.[0]?.url||pn,className:"img-fluid rounded-4 w-100",alt:h.media?.[0]?.alt||h.name})})}),c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[i==="venue_manager"&&T&&c.jsx("button",{className:"btn btn-primary btn-edit",onClick:()=>P(!0),children:"Edit"}),c.jsxs("span",{children:["Managed by ",c.jsx("strong",{children:h.owner?.name})]})]}),c.jsxs("div",{className:"text-center mb-5",children:[c.jsx("h2",{className:"h3",children:"About this venue"}),c.jsx("p",{children:h.description})]}),c.jsxs("div",{className:"row g-5 justify-content-between",children:[c.jsxs("div",{className:"col-12 col-lg-6 order-2 order-lg-1",children:[c.jsx("h3",{children:"Amenities"}),c.jsx("ul",{className:"list-unstyled row",children:S.map(j=>c.jsxs("li",{className:"col-6 mb-2",children:[c.jsx("span",{className:h.meta[j]?"text-success":"text-danger",children:c.jsx("i",{className:`fa-solid ${h.meta[j]?"fa-check":"fa-xmark"}`})})," ",j]},j))}),c.jsxs("div",{className:"mt-5",children:[c.jsx("h3",{children:"Location"}),c.jsxs("div",{className:"bg-white rounded-4 pb-2",children:[c.jsx($p,{name:h.name,location:h.location}),c.jsxs("p",{className:"ps-3",children:[h.location.address,", ",h.location.city,", ",h.location.zip," ",h.location.country]})]})]})]}),c.jsx("div",{className:"col-12 col-lg-6 order-1 order-lg-2",children:c.jsxs("div",{className:"booking-box rounded-4 p-4 p-lg-5 sticky-top bg-white",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[c.jsx("h2",{className:"h3",children:"Availability"}),c.jsxs("span",{className:"fw-medium",children:["Max ",h.maxGuests," guests"]})]}),c.jsxs("div",{className:"d-flex gap-2 mb-3",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Check-in",readOnly:!0,value:y.dateFrom?y.dateFrom.toLocaleDateString():"",onClick:()=>{O&&b(!0)}}),c.jsx("input",{type:"text",className:"form-control",placeholder:"Check-out",readOnly:!0,value:y.dateTo?y.dateTo.toLocaleDateString():"",onClick:()=>{O&&b(!0)}})]}),c.jsx("input",{type:"number",className:"form-control mb-3",placeholder:"Guests",min:1,max:h.maxGuests,value:y.guests,disabled:!O,onChange:j=>y.setGuests(j.target.value===""?"":Number(j.target.value))}),O?c.jsx("p",{children:"Select your dates and number of guests to check availability and complete your booking."}):c.jsx("p",{className:"text-danger",children:"Venue managers cant book venues."}),y.error&&c.jsx("p",{className:"text-danger",children:y.error}),y.success&&c.jsx("p",{className:"text-success",children:"Booking confirmed!"}),c.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-5 mt-4",children:[c.jsxs("strong",{children:["$",h.price,"/night"]}),c.jsx("button",{className:"btn btn-cta w-100",disabled:!O||!y.dateFrom||!y.dateTo||y.isSubmitting||!y.guests,onClick:E,children:y.isSubmitting?"Booking":"Book"})]})]})})]}),k&&c.jsx($o,{bookings:h.bookings??[],onClose:()=>b(!1),onSelectRange:(j,D)=>{y.setDateFrom(j),y.setDateTo(D)}}),N&&h&&c.jsx(hl,{venue:h,onClose:()=>P(!1),onEdit:j=>f(j)})]})]})}function Xp(t){return dt(ut.login,{method:"POST",body:JSON.stringify(t)})}function Jp(t){return dt(ut.register,{method:"POST",body:JSON.stringify(t)})}function yl(){const t=We(h=>h.login),i=We(h=>h.logout),[o,s]=w.useState(!1);return{login:async(h,f)=>{try{s(!0);const m=await Xp({email:h,password:f}),{name:g,email:v,venueManager:_,accessToken:k}=m;t({name:g,email:v,venueManager:_},k),We.getState().setRole(_?"venue_manager":"customer")}finally{s(!1)}},register:async(h,f,m,g)=>{s(!0);try{await Jp({name:h,email:f,password:m,venueManager:g})}finally{s(!1)}},logout:i,isLoading:o}}const Qp="/holidaze/assets/login-BbvvK2bx.jpg";function eg(){const{login:t,isLoading:i}=yl(),o=Ro(),[s,a]=w.useState(""),[u,h]=w.useState(""),[f,m]=w.useState({}),[g,v]=w.useState(null),_=async k=>{k.preventDefault();const b={};if(s.trim()||(b.email="Email is required"),u.trim()||(b.password="Password is required"),m(b),!(Object.keys(b).length>0))try{await t(s,u),v({type:"success",message:"Logged in successfully!"}),setTimeout(()=>o("/"),1200)}catch(N){const P=N instanceof Error?N.message:"Invalid email or password";v({type:"danger",message:P})}};return c.jsxs("div",{className:"hero py-5 mb-4 mt-4 rounded-4",style:{backgroundImage:`url(${Qp})`},children:[c.jsx("div",{className:"hero-overlay rounded-4"}),c.jsx("div",{className:"position-fixed top-0 end-0 p-3",style:{zIndex:1050},children:g&&c.jsx(zi,{type:g.type,message:g.message,onClose:()=>v(null),autoDismiss:5e3})}),c.jsxs("div",{className:"auth-form bg-white rounded-4 px-3 py-5 px-md-5 position-relative",children:[i&&c.jsx(ht,{overlay:!0,size:"lg"}),c.jsxs("form",{onSubmit:_,children:[c.jsx("h1",{className:"mb-4",children:"Login to your account"}),c.jsx("p",{className:"auth-text fw-medium mb-4",children:"Login to access your bookings, manage your profile, or update your venues  all from one place."}),c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{id:"email",type:"email",value:s,onChange:k=>a(k.target.value),className:`form-control mb-3 ${f.email?"is-invalid":""}`}),f.email&&c.jsx("div",{className:"invalid-feedback",children:f.email}),c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{id:"password",type:"password",value:u,onChange:k=>h(k.target.value),className:`form-control ${f.password?"is-invalid":""}`}),f.password&&c.jsx("div",{className:"invalid-feedback",children:f.password}),c.jsx("button",{type:"submit",className:"btn btn-cta mt-5 w-100",disabled:i,children:i?"Logging in":"Login"}),c.jsxs("p",{className:"text-center text-neutral mt-2",children:["Don't have an account? Register ",c.jsx(de,{to:"/register",children:"here"})]})]})]})]})}const tg="/holidaze/assets/register-C77UXOxu.jpg";function ng(){const{register:t,isLoading:i}=yl(),o=Ro(),[s,a]=w.useState(""),[u,h]=w.useState(""),[f,m]=w.useState(""),[g,v]=w.useState(!1),[_,k]=w.useState({}),[b,N]=w.useState(null),P=async y=>{y.preventDefault();const S={};if(s.trim()||(S.name="Name is required"),u.trim()?u.endsWith("@stud.noroff.no")||(S.email="You must register with a stud.noroff.no email"):S.email="Email is required",f.trim()||(S.password="Password is required"),k(S),!(Object.keys(S).length>0))try{await t(s,u,f,g),N({type:"success",message:"Registration successful!"}),setTimeout(()=>o("/login"),1500)}catch(E){const T=E instanceof Error?E.message:"Registration failed";N({type:"danger",message:T})}};return c.jsxs("div",{className:"auth-page py-5 mb-4 mt-4 rounded-4",style:{backgroundImage:`url(${tg})`},children:[c.jsx("div",{className:"hero-overlay rounded-4"}),c.jsx("div",{className:"position-fixed top-0 end-0 p-3",style:{zIndex:1050},children:b&&c.jsx(zi,{type:b.type,message:b.message,onClose:()=>N(null),autoDismiss:5e3})}),c.jsxs("div",{className:"auth-form bg-white rounded-4 px-3 py-5 px-md-5 position-relative",children:[i&&c.jsx(ht,{overlay:!0,size:"lg"}),c.jsxs("form",{onSubmit:P,children:[c.jsx("h1",{className:"mb-3",children:"Register an account with us"}),c.jsx("p",{className:"auth-text fw-medium mb-4",children:"Choose how youd like to use Holidaze  whether booking stays or managing venues, your account gives you full access."}),c.jsx("label",{htmlFor:"name",children:"Name"}),c.jsx("input",{id:"name",placeholder:"Heidi123",type:"text",value:s,onChange:y=>a(y.target.value),className:`form-control mb-3 ${_.name?"is-invalid":""}`}),_.name&&c.jsx("div",{className:"invalid-feedback",children:_.name}),c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{id:"email",placeholder:"heidi@stud.noroff.no",type:"email",value:u,onChange:y=>h(y.target.value),className:`form-control mb-3 ${_.email?"is-invalid":""}`}),_.email&&c.jsx("div",{className:"invalid-feedback",children:_.email}),c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{id:"password",placeholder:"********",type:"password",value:f,onChange:y=>m(y.target.value),className:`form-control mb-3 ${_.password?"is-invalid":""}`}),_.password&&c.jsx("div",{className:"invalid-feedback",children:_.password}),c.jsxs("div",{className:"form-check my-3",children:[c.jsx("input",{type:"checkbox",id:"venueManager",className:"form-check-input me-2",checked:g,onChange:y=>v(y.target.checked)}),c.jsx("label",{htmlFor:"venueManager",className:"form-check-label",children:"Register as Venue Manager"})]}),c.jsx("button",{type:"submit",className:"btn btn-primary mt-4 w-100",disabled:i,children:i?"Registering":"Register"})]})]})]})}function xl(t){return dt(`${ut.profiles}/${t}?_bookings=true&_venues=true`)}function ig(t,i){return dt(`${ut.profiles}/${t}`,{method:"PUT",body:JSON.stringify(i)})}function og({profile:t,setProfile:i,onClose:o,setGlobalAlert:s}){const{setRole:a}=We(),[u,h]=w.useState({bio:"",accountType:"customer",banner:"",avatar:""}),[f,m]=w.useState(!1),[g,v]=w.useState({});w.useEffect(()=>{t&&h({bio:t.bio||"",accountType:t.venueManager?"manager":"customer",banner:t.banner?.url||"",avatar:t.avatar?.url||""})},[t]);const _=y=>{const{name:S,value:E}=y.target;h(T=>({...T,[S]:E}))},k=y=>{h(S=>({...S,accountType:y.target.value}))},b=()=>{const y={};return u.bio.trim()||(y.bio="Bio cannot be empty"),u.banner&&!/^https?:\/\/.+/.test(u.banner)&&(y.banner="Banner must be a valid URL"),u.avatar&&!/^https?:\/\/.+/.test(u.avatar)&&(y.avatar="Avatar must be a valid URL"),v(y),Object.keys(y).length===0},N=async y=>{if(y.preventDefault(),!!t&&b()){m(!0);try{await ig(t.name,{bio:u.bio,venueManager:u.accountType==="manager",banner:u.banner?{url:u.banner}:void 0,avatar:u.avatar?{url:u.avatar}:void 0});const S=await xl(t.name);i(S),a(u.accountType==="manager"?"venue_manager":"customer"),o(),s?.({type:"success",message:"Profile updated successfully!"})}catch(S){console.error("Failed to update profile:",S),s?.({type:"danger",message:"Failed to update profile."})}finally{m(!1)}}},P=()=>{v({}),o()};return t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"modal-backdrop fade show",onClick:P}),c.jsx("div",{className:"modal show d-block",tabIndex:-1,children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content p-3",children:[f&&c.jsx(ht,{overlay:!0,size:"lg"}),c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Profile"}),c.jsx("button",{type:"button",className:"btn-close",onClick:P})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("form",{onSubmit:N,children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Account type"}),c.jsxs("div",{className:"d-flex gap-4",children:[c.jsxs("div",{className:"d-flex flex-column gap-1 align-items-start",children:[c.jsx("label",{children:"Customer"}),c.jsx("input",{type:"radio",name:"accountType",value:"customer",checked:u.accountType==="customer",onChange:k})]}),c.jsxs("div",{className:"d-flex flex-column gap-1 align-items-start",children:[c.jsx("label",{children:"Manager"}),c.jsx("input",{type:"radio",name:"accountType",value:"manager",checked:u.accountType==="manager",onChange:k})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"form-label mb-0",children:"Bio"}),c.jsx("textarea",{name:"bio",className:`form-control ${g.bio?"is-invalid":""}`,value:u.bio,onChange:_}),g.bio&&c.jsx("div",{className:"invalid-feedback",children:g.bio})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"form-label mb-0",children:"Banner URL"}),c.jsx("input",{type:"text",name:"banner",className:`form-control ${g.banner?"is-invalid":""}`,value:u.banner,onChange:_}),g.banner&&c.jsx("div",{className:"invalid-feedback",children:g.banner})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"form-label mb-0",children:"Avatar URL"}),c.jsx("input",{type:"text",name:"avatar",className:`form-control ${g.avatar?"is-invalid":""}`,value:u.avatar,onChange:_}),g.avatar&&c.jsx("div",{className:"invalid-feedback",children:g.avatar})]}),c.jsx("hr",{}),c.jsxs("div",{className:"d-flex gap-2 mt-4",children:[c.jsx("button",{type:"button",className:"btn btn-cancel flex-fill",onClick:P,disabled:f,children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn btn-primary flex-fill",disabled:f,children:f?"Updating...":"Confirm"})]})]})})]})})})]}):null}function sg({profile:t,setProfile:i,globalAlert:o,setGlobalAlert:s,children:a}){const[u,h]=w.useState(!1);return c.jsxs("div",{className:"dashboard-page",children:[o&&c.jsx("div",{className:"position-fixed top-0 end-0 p-3",style:{zIndex:1050},children:c.jsx(zi,{type:o.type,message:o.message,onClose:()=>s(null),autoDismiss:5e3})}),c.jsx("div",{className:"dashboard-banner py-5 mb-5 rounded-4",style:{backgroundImage:`url(${t.banner?.url||pn})`},children:c.jsx("div",{className:"profile-card bg-white p-3 ps-md-5 pe-md-5 pt-md-5 rounded-4",children:c.jsxs("div",{className:"d-flex flex-column align-items-center gap-4",children:[c.jsxs("div",{className:"position-relative w-100",children:[c.jsx("img",{src:t.avatar?.url||pn,alt:t.avatar?.alt||t.name,className:"profile-avatar rounded-4"}),c.jsx("button",{className:"btn position-absolute top-0 end-0",onClick:()=>h(!0),children:c.jsx("i",{className:"fa-solid fa-pen-to-square"})})]}),c.jsx("p",{className:"mb-0",children:t.bio}),c.jsxs("div",{className:"w-100",children:[c.jsxs("div",{className:"d-flex justify-content-between",children:[c.jsx("p",{className:"fw-medium profile-label",children:"Name"}),c.jsx("p",{children:t.name})]}),c.jsxs("div",{className:"d-flex justify-content-between",children:[c.jsx("p",{className:"fw-medium profile-label",children:"Email"}),c.jsx("p",{children:t.email})]}),c.jsxs("div",{className:"d-flex justify-content-between",children:[c.jsx("p",{className:"fw-medium profile-label",children:"Account type"}),c.jsx("p",{children:t.venueManager?"Venue Manager":"Customer"})]})]})]})})}),c.jsx("div",{className:"dashboard-content bg-white rounded-4 p-3 p-md-5 mb-5",children:a}),u&&c.jsx(og,{profile:t,setProfile:i,onClose:()=>h(!1),setGlobalAlert:s})]})}function rg({onClose:t,onCreate:i}){const{user:o}=We(),[s,a]=w.useState({name:"",description:"",price:"",maxGuests:"",amenities:[],rating:"",location:{address:"",city:"",zip:"",country:""},media:[""]}),[u,h]=w.useState({}),[f,m]=w.useState(!1),g=b=>{const{name:N,value:P}=b.target;if(N.startsWith("location.")){const y=N.split(".")[1];a(S=>({...S,location:{...S.location,[y]:P}}))}else if(N.startsWith("media.")){const y=parseInt(N.split(".")[1]),S=[...s.media];S[y]=P,a(E=>({...E,media:S}))}else a(y=>({...y,[N]:P}))},v=b=>{a(N=>({...N,amenities:N.amenities.includes(b)?N.amenities.filter(P=>P!==b):[...N.amenities,b]}))},_=()=>{const b={};s.name.trim()||(b.name="Venue name is required"),s.description.trim()||(b.description="Description is required"),(!s.price||Number(s.price)<=0)&&(b.price="Price is required"),(!s.maxGuests||Number(s.maxGuests)<=0)&&(b.maxGuests="Max guests is required");const N=s.location;return N.address.trim()||(b["location.address"]="Address is required"),N.city.trim()||(b["location.city"]="City is required"),N.zip.trim()||(b["location.zip"]="Postcode is required"),N.country.trim()||(b["location.country"]="Country is required"),s.media[0]?.trim()||(b["media.0"]="Image URL is required"),h(b),Object.keys(b).length===0},k=async b=>{if(b.preventDefault(),!!_()){m(!0);try{if(!o)throw new Error("User not logged in");const N={name:s.name,description:s.description,price:Number(s.price),rating:s.rating===""?void 0:s.rating,maxGuests:Number(s.maxGuests),meta:{wifi:s.amenities.includes("Wi-Fi"),parking:s.amenities.includes("Parking"),breakfast:s.amenities.includes("Breakfast"),pets:s.amenities.includes("Pets")},location:{...s.location,continent:"",lat:0,long:0},media:s.media.filter(Boolean).map(y=>({url:y,alt:void 0}))},P=await $h(o.name,N);i(P),t()}catch(N){console.error("Failed to create venue",N)}finally{m(!1)}}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"modal-backdrop fade show",onClick:t}),c.jsx("div",{className:"modal show d-block",tabIndex:-1,children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content p-3",children:[f&&c.jsx(ht,{overlay:!0,size:"lg"}),c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:"Create new venue"}),c.jsx("button",{type:"button",className:"btn-close",onClick:t})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("form",{onSubmit:k,children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"name",className:"form-label mb-0",children:"Venue Name*"}),c.jsx("input",{type:"text",id:"name",placeholder:"Venue Name",name:"name",className:`form-control ${u.name?"is-invalid":""}`,value:s.name,onChange:g}),u.name&&c.jsx("div",{className:"invalid-feedback",children:u.name})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"description",className:"form-label mb-0",children:"Description*"}),c.jsx("textarea",{id:"description",name:"description",placeholder:"Description",className:`form-control ${u.description?"is-invalid":""}`,value:s.description,onChange:g}),u.description&&c.jsx("div",{className:"invalid-feedback",children:u.description})]}),c.jsxs("div",{className:"mb-3 d-flex gap-2",children:[c.jsxs("div",{className:"flex-fill",children:[c.jsx("label",{className:"form-label mb-0",children:"Price/night (USD)*"}),c.jsx("input",{type:"number",name:"price",placeholder:"Price/night",className:`form-control ${u.price?"is-invalid":""}`,value:s.price,onChange:g}),u.price&&c.jsx("div",{className:"invalid-feedback",children:u.price})]}),c.jsxs("div",{className:"flex-fill",children:[c.jsx("label",{className:"form-label mb-0",children:"Max guests*"}),c.jsx("input",{type:"number",name:"maxGuests",placeholder:"Max guests",className:`form-control ${u.maxGuests?"is-invalid":""}`,value:s.maxGuests,onChange:g}),u.maxGuests&&c.jsx("div",{className:"invalid-feedback",children:u.maxGuests})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label mb-0",children:"Amenities"}),["Wi-Fi","Parking","Breakfast","Pets"].map(b=>c.jsxs("div",{className:"form-check d-flex align-items-center gap-2",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:b,checked:s.amenities.includes(b),onChange:()=>v(b)}),c.jsx("label",{className:"form-check-label",htmlFor:b,children:b})]},b))]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label mb-0",children:"Rating"}),c.jsx("input",{type:"number",min:0,max:5,step:.5,name:"rating",placeholder:"05",className:"form-control",value:s.rating,onChange:b=>a(N=>({...N,rating:b.target.value===""?"":Number(b.target.value)}))}),u.rating&&c.jsx("div",{className:"invalid-feedback",children:u.rating})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label mb-0",children:"Location*"}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-0",children:"Address"}),c.jsx("input",{type:"text",name:"location.address",placeholder:"Address",className:`form-control ${u["location.address"]?"is-invalid":""}`,value:s.location.address,onChange:g}),u["location.address"]&&c.jsx("div",{className:"invalid-feedback",children:u["location.address"]}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsxs("div",{className:"flex-fill",children:[c.jsx("label",{className:"mb-0",children:"Postcode"}),c.jsx("input",{type:"text",name:"location.zip",placeholder:"Postcode",className:`form-control ${u["location.zip"]?"is-invalid":""}`,value:s.location.zip,onChange:g}),u["location.zip"]&&c.jsx("div",{className:"invalid-feedback",children:u["location.zip"]})]}),c.jsxs("div",{className:"flex-fill",children:[c.jsx("label",{className:"mb-0",children:"City"}),c.jsx("input",{type:"text",name:"location.city",placeholder:"City",className:`form-control ${u["location.city"]?"is-invalid":""}`,value:s.location.city,onChange:g}),u["location.city"]&&c.jsx("div",{className:"invalid-feedback",children:u["location.city"]})]})]}),c.jsx("label",{className:"mb-0",children:"Country"}),c.jsx("input",{type:"text",name:"location.country",placeholder:"Country",className:`form-control ${u["location.country"]?"is-invalid":""}`,value:s.location.country,onChange:g}),u["location.country"]&&c.jsx("div",{className:"invalid-feedback",children:u["location.country"]})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label mb-0",children:"Image URL*"}),s.media.map((b,N)=>c.jsx("input",{type:"text",placeholder:"e.g. https://unsplash.com/photos/a-large-swimming-pool",name:`media.${N}`,className:`form-control ${u["media.0"]?"is-invalid":""}`,value:b,onChange:g},N)),u["media.0"]&&c.jsx("div",{className:"invalid-feedback",children:u["media.0"]})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-cancel flex-fill",onClick:t,children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn btn-primary flex-fill",disabled:f,children:f?"Creating...":"Confirm"})]})]})})]})})})]})}function ag({venueId:t,onClose:i,onDelete:o}){const[s,a]=w.useState(!1),u=async()=>{a(!0);try{await Xh(t),o(t),i()}catch(h){console.error("Failed to delete venue",h)}finally{a(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"modal-backdrop fade show",onClick:i}),c.jsx("div",{className:"modal show d-block",tabIndex:-1,children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content p-3",children:[s&&c.jsx(ht,{overlay:!0,size:"lg"}),c.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[c.jsx("div",{className:"delete-trash",children:c.jsx("i",{className:"fa-regular fa-trash-can"})}),c.jsx("button",{type:"button",className:"btn-close",onClick:i})]}),c.jsx("h5",{className:"modal-title mb-2",children:"Delete Venue"}),c.jsx("p",{children:"Are you sure you want to delete this venue? This action cannot be undone."}),c.jsxs("div",{className:"d-flex flex-column flex-md-row gap-2 mt-3",children:[c.jsx("button",{className:"btn btn-cancel flex-fill",onClick:i,children:"Cancel"}),c.jsx("button",{className:"btn btn-danger flex-fill",onClick:u,disabled:s,children:s?"Deleting...":"Delete"})]})]})})})]})}function bl({booking:t,isManagerView:i=!1}){const o=t.venue,s=o?.media?.[0],a=t.venue?.location,u=a&&(a.address||a.city||a.zip||a.country)?[a.address,a.city,a.zip,a.country].filter(Boolean).join(", "):"No location available",h=i?typeof t.customer=="string"?t.customer:t.customer?.name||"Unknown customer":o?.name||"Unknown venue",f=i?o?.name||"Unknown venue":u;return c.jsxs("div",{className:"booking-card bg-light p-4 rounded-3 box-shadow d-flex flex-column flex-md-row gap-3",children:[c.jsx("div",{className:"flex-shrink-0 booking-img",children:c.jsx("img",{className:"img-fluid rounded object-fit-cover",src:s?.url||pn,alt:s?.alt||o?.name||"Venue image"})}),c.jsxs("div",{className:"flex-grow-1 d-flex flex-column justify-between",children:[c.jsxs("div",{className:"d-flex justify-content-between mb-1 flex-wrap",children:[i?c.jsxs("p",{className:"booking-font mb-0",children:["Customer: ",c.jsx("span",{className:"fw-bold mb-0",children:h})]}):c.jsx(de,{to:`/venues/${o?.id}`,className:"booking-font fw-bold mb-0 text-decoration-none text-dark",children:h}),c.jsx("p",{className:"fw-semibold mb-0",children:o?.price?`$${o.price}/night`:"No price available"})]}),c.jsxs("div",{className:"d-flex justify-content-between mb-2 flex-column flex-md-row",children:[c.jsx("p",{className:"text-muted mb-1 mb-md-0",children:f}),c.jsxs("p",{className:"mb-0 fw-medium",children:[t.guests," Guests"]})]}),c.jsx("hr",{className:"my-2"}),c.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[c.jsx("p",{className:"mb-0",children:"Check-in"}),c.jsx("p",{className:"mb-0 fw-medium",children:new Date(t.dateFrom).toLocaleDateString()})]}),c.jsxs("div",{className:"d-flex justify-content-between",children:[c.jsx("p",{className:"mb-0",children:"Check-out"}),c.jsx("p",{className:"mb-0 fw-medium",children:new Date(t.dateTo).toLocaleDateString()})]})]})]})}function lg({venueId:t,onClose:i}){const[o,s]=w.useState([]),[a,u]=w.useState(!0);return w.useEffect(()=>{async function h(){u(!0);try{const f=await Ma(t),m=(f.bookings||[]).map(g=>({...g,customer:g.customer||{name:f.owner?.name||"Unknown customer"},venue:{id:f.id,name:f.name,price:f.price,location:f.location,media:f.media}}));s(m)}catch(f){console.error(f)}finally{u(!1)}}h()},[t]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"modal-backdrop fade show",onClick:i}),c.jsx("div",{className:"modal fade show d-block",tabIndex:-1,role:"dialog","aria-labelledby":"manager-bookings-modal-label","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered manager-bookings-modal",children:c.jsxs("div",{className:"modal-content p-3",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",id:"manager-bookings-modal-label",children:"Bookings"}),c.jsx("button",{type:"button",className:"btn-close",onClick:i})]}),c.jsx("div",{className:"mt-3 d-flex flex-column gap-3 p-2",children:a?c.jsx("p",{className:"text-center mt-2",children:"Loading bookings..."}):o.length>0?o.map(h=>c.jsx(bl,{booking:h,isManagerView:!0},h.id)):c.jsx("p",{className:"text-muted text-center mt-2",children:"No bookings yet."})})]})})})]})}function cg({profile:t,setProfile:i,setGlobalAlert:o}){const[s,a]=w.useState(!1),[u,h]=w.useState(null),[f,m]=w.useState(null),[g,v]=w.useState(null),_=b=>{i(N=>({...N,venues:N?.venues?[...N.venues,b]:[b]}))},k=b=>{i(N=>({...N,venues:N?.venues?.filter(P=>P.id!==b)||[]}))};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[c.jsx("h2",{children:"Venues"}),c.jsx("button",{className:"btn btn-primary btn-create",onClick:()=>a(!0),children:"Create venue"})]}),c.jsx("hr",{}),c.jsx("div",{className:"d-flex flex-column gap-4 mt-4",children:t.venues?.length?t.venues.map(b=>{const N=b.location?[b.location.address,b.location.city,b.location.zip,b.location.country].filter(Boolean).join(", "):"No location available";return c.jsxs("div",{className:"venue-card box-shadow bg-light p-4 rounded-3 d-flex flex-column flex-md-row gap-4",children:[c.jsx("div",{className:"flex-shrink-0 venue-img",children:c.jsx("img",{className:"img-fluid rounded w-100 h-100",src:b.media?.[0]?.url||"/placeholder.jpg",alt:b.media?.[0]?.alt||b.name})}),c.jsxs("div",{className:"flex-grow-1 d-flex flex-column flex-md-row justify-between gap-3",children:[c.jsxs("div",{className:"flex-grow-1",children:[c.jsx(de,{to:`/venues/${b.id}`,className:"text-dark text-decoration-none",children:c.jsx("h4",{children:b.name})}),c.jsx("p",{className:"text-muted",children:N}),c.jsx("button",{className:"btn-bookings fw-semibold mt-2",onClick:()=>v(b.id),children:"See bookings"})]}),c.jsxs("div",{className:"d-flex flex-row flex-md-column gap-2 btn-container",children:[c.jsx("button",{className:"btn btn-cancel flex-fill",onClick:()=>h(b),children:"Edit"}),c.jsx("button",{className:"btn btn-danger flex-fill",onClick:()=>m(b.id),children:"Delete"})]})]})]},b.id)}):c.jsx("p",{children:"No venues created yet."})}),s&&c.jsx(rg,{onClose:()=>a(!1),onCreate:b=>{_(b),a(!1),o({type:"success",message:"Venue created successfully!"})}}),u&&c.jsx(hl,{venue:u,onClose:()=>h(null),onEdit:b=>{i(N=>({...N,venues:N.venues.map(P=>P.id===b.id?b:P)})),h(null),o({type:"success",message:"Venue updated successfully!"})}}),f&&c.jsx(ag,{venueId:f,onClose:()=>m(null),onDelete:b=>{k(b),m(null),o({type:"success",message:"Venue deleted successfully!"})}}),g&&c.jsx(lg,{venueId:g,onClose:()=>v(null)})]})}function ug({profile:t}){return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:c.jsx("h2",{children:"Bookings"})}),c.jsx("hr",{}),c.jsx("div",{className:"mt-4 d-flex flex-column gap-3",children:t.bookings?.length?t.bookings.map(i=>c.jsx(bl,{booking:i},i.id)):c.jsx("p",{children:"No bookings yet."})})]})}function dg(){const{user:t,setRole:i}=We(),[o,s]=w.useState(null),[a,u]=w.useState(!0),[h,f]=w.useState(null);return w.useEffect(()=>{if(!t?.name)return;const{name:m}=t;async function g(){u(!0);try{const v=await xl(m),_={...v,venueManager:v.venueManager??!1};s(_);const k=_.venueManager?"venue_manager":"customer";i(k)}catch(v){console.error(v)}finally{u(!1)}}g()},[t,i]),a?c.jsx(ht,{overlay:!0,size:"lg"}):o?c.jsx(sg,{profile:o,setProfile:s,globalAlert:h,setGlobalAlert:f,children:o.venueManager?c.jsx(cg,{profile:o,setProfile:s,setGlobalAlert:f}):c.jsx(ug,{profile:o,setProfile:s,setGlobalAlert:f})}):c.jsx("p",{children:"Error loading profile"})}function hg({role:t}){const{isAuthenticated:i,role:o}=We();return i?t&&t!==o?c.jsx(sr,{to:"/",replace:!0}):c.jsx(Ac,{}):c.jsx(sr,{to:"/login",replace:!0})}function fg(){return c.jsxs(Ic,{children:[c.jsx(Kt,{path:"/",element:c.jsx(df,{})}),c.jsx(Kt,{path:"/venues",element:c.jsx(Mp,{})}),c.jsx(Kt,{path:"/venues/:id",element:c.jsx(Kp,{})}),c.jsx(Kt,{path:"/login",element:c.jsx(eg,{})}),c.jsx(Kt,{path:"/register",element:c.jsx(ng,{})}),c.jsx(Kt,{element:c.jsx(hg,{}),children:c.jsx(Kt,{path:"/dashboard",element:c.jsx(dg,{})})})]})}const mg="/holidaze/assets/logo-CAhFfmzT.png",Di="/holidaze/assets/logo-blue-wrfg0J26.png";function pg(){const{isAuthenticated:t,logout:i}=We(),[o,s]=w.useState(!1),a="/dashboard";return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"navbar position-absolute w-100 py-4 d-flex justify-content-between align-items-center",children:[c.jsx(de,{className:"navbar-brand ps-4",to:"/",children:c.jsx("img",{src:mg,alt:"Holidaze"})}),c.jsxs("div",{className:"d-none d-lg-flex align-items-center gap-5 pe-5",children:[c.jsx(de,{className:"nav-link text-white",to:"/",children:"Home"}),c.jsx(de,{className:"nav-link text-white",to:"/venues",children:"Venues"}),t&&c.jsx(de,{className:"nav-link text-white",to:a,children:"Dashboard"}),t?c.jsx("button",{className:"btn btn-cta nav-btn",onClick:i,children:"Logout"}):c.jsx(de,{to:"/login",className:"btn btn-outline-white nav-btn",children:"Login"})]}),c.jsx("button",{className:"d-lg-none btn me-4",onClick:()=>s(!0),"aria-label":"Open menu",children:c.jsx("i",{className:"fa-solid fa-bars text-white fs-2"})})]}),o&&c.jsxs("div",{className:"mobile-menu-overlay",children:[c.jsx(de,{className:"navbar-brand ps-4",to:"/",children:c.jsx("img",{className:"mt-4",src:Di,alt:"Holidaze"})}),c.jsx("button",{className:"btn position-absolute top-0 end-0 m-4",onClick:()=>s(!1),"aria-label":"Close menu",children:c.jsx("i",{className:"fa-solid fa-bars text-primary fs-2"})}),c.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-start gap-4 h-100 p-5",children:[c.jsx(de,{to:"/",onClick:()=>s(!1),children:"Home"}),c.jsx(de,{to:"/venues",onClick:()=>s(!1),children:"Venues"}),t&&c.jsx(de,{to:a,onClick:()=>s(!1),children:"Dashboard"}),t?c.jsx("button",{className:"btn btn-cta mt-3 nav-btn",onClick:()=>{i(),s(!1)},children:"Logout"}):c.jsx(de,{to:"/login",className:"btn btn-primary mt-3 nav-btn",children:"Login"})]})]})]})}function gg(){const{isAuthenticated:t,logout:i}=We(),[o,s]=w.useState(!1),a="/dashboard";return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"navbar navbar-other bg-white py-4 d-flex justify-content-between align-items-center",children:[c.jsx(de,{className:"navbar-brand ps-4",to:"/",children:c.jsx("img",{src:Di,alt:"Holidaze"})}),c.jsxs("div",{className:"d-none d-lg-flex align-items-center gap-5 pe-5",children:[c.jsx(de,{className:"nav-link nav-link-other fw-normal text-primary",to:"/",children:"Home"}),c.jsx(de,{className:"nav-link nav-link-other fw-normal text-primary",to:"/venues",children:"Venues"}),t&&c.jsx(de,{className:"nav-link nav-link-other fw-normal text-primary",to:a,children:"Dashboard"}),t?c.jsx("button",{className:"btn btn-cta nav-btn",onClick:i,children:"Logout"}):c.jsx(de,{to:"/login",className:"btn btn-primary nav-btn",children:"Login"})]}),c.jsx("button",{className:"d-lg-none btn me-4",onClick:()=>s(!0),"aria-label":"Open menu",children:c.jsx("i",{className:"fa-solid fa-bars text-primary fs-2"})})]}),o&&c.jsxs("div",{className:"mobile-menu-overlay",children:[c.jsx(de,{className:"navbar-brand ps-4",to:"/",children:c.jsx("img",{className:"mt-4",src:Di,alt:"Holidaze"})}),c.jsx("button",{className:"btn position-absolute top-0 end-0 m-4",onClick:()=>s(!1),"aria-label":"Close menu",children:c.jsx("i",{className:"fa-solid fa-bars text-primary fs-2"})}),c.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-start gap-4 h-100 p-5",children:[c.jsx(de,{to:"/",onClick:()=>s(!1),children:"Home"}),c.jsx(de,{to:"/venues",onClick:()=>s(!1),children:"Venues"}),t&&c.jsx(de,{to:a,onClick:()=>s(!1),children:"Dashboard"}),t?c.jsx("button",{className:"btn btn-cta mt-3 nav-btn",onClick:()=>{i(),s(!1)},children:"Logout"}):c.jsx(de,{to:"/login",className:"btn btn-primary mt-3 nav-btn",children:"Login"})]})]})]})}const vg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbBSURBVHgB7Z1baFRXFIbXmVxqmyoRNMq01KhtjTSWFBUstDYVS2MpJNQX0RRMHywG2tiHaoWAFS1oC+pLY7FgA0ZrH1pmfDFFTdU+RJhIg7FtgpckhYQm8SHmIiSTmdP9nzphornM7LNvkf3BkMnMyeTkz5p/r732mrMdmoaisu25Y6OjVeQ4xY7r5rtE+WRhcjj9TIvmAFE4kJUVag7Vdkx57GQPMmHzx6LRH8h1i8kyI0zw2oysrP2TCZ3x6AOF75dXubHYWSZuAVlSpSgei21f+GLhSN/tm9eSn5ggcOF7W/cxYQ+xu3PIki5zWCSX5L20inpvtVxJPDguMCL3obgWfxSzSL6fiGTPg+G5sWj0D9d1c8kigv7M7OzX4MkBfMfE3WfFFUqulyQwHC9jGB1tJ4twWBTPD0Sj0TKySIEF7q4AM+FSssjBcd6CBxeRRQqY/QbIDm7SQGkhQBapWIElk0kGMy8nh9asWklr2S24eCEVLFtCc3Oe8W5gcPgBdff00QD72nankyItf1MTuw0MD5MpOKz+4JJhQNCd2zaPC5ouDdeuU/jCVfa1iXRjlMAQdveODz1hRYDorjnzC4UvXiVdGCHwc4sW0oHPPvYElkHb3U6qOniUupjgqslg5bUvSSPlZSX0zZ5PaOnzQZLFgvm5VLpxPY1Ex+hG621SiVaBK5nP7tq+hZ7KziLZ4He8sfpVzK68gVAV2gSGuDu3fkCq8WxIochaBNYlbgKVIiufaMBzdYqboJKdQ3nZJpKNUoGRLVRu3UymAJFxTjJRKjBSMZ6JgyxwLjgnmSgTGGmSrDzXDzinDevWkCyUCVy5Tb/vTsWeHeUkCyUCb1i3moJ5cr3OD0Hmw7LeXUoEhj2IBFU03ESC4pIMpJcrMZBseN2/x0Vu/EXnLv1OlxqvM3GHH752Dnvt1V5eHcxbQH5AgQnlUdGlTukRLOKtV3P6Z/po71cUYlWxwSQBcB+Vsncrqug4O8YPCIQ1EmxCusB+TxriHmclxxmPY8f4FXntbBS4YHk+8dLQ2JSSuAkgcsTH9BerJqKRLvDcnKeJl7pwPaWLnyguWPoCiUa6wMFFecRDd889rmiMeGtyfBnG3GdzSDTSBZ7HOTXu6uklXppYxsGDjGm8scv2Xb33iJcBwTmyH6QLzPvHrlyWT7zwVsgGJfxjpAs8xJm4Bxct8BJ/HlZwrkrD90UjXeDWO53EA/zwbTZLSxdMy3l9f2BoiEQjXWA/S+UoiKcTxTjWT9Wu7e4/JBrpAre18580qly70yglomnFT9UuImGNTrrAmI35AW/5k4eqpx248ByOKd34JvmhtZ3PzqZDejXNa9Dr7fMVWagR1J885hV2Glg1Da8HUAFbsXQJlb6z3ncOC3voltD5o6S7Eo14IuqtiGbRteUEEc7JyUwomWhEFHbS8BJukNMgqEzg1rvi/U0UyH9508mZUDZV/q1Rf6/uVNSc8VdHng5lAp9ipUeTagTJyLQwZQIjmwhfuEKmgcykW2LfsNJqWt25X8k0atJYMeFBqcCIFJ3t/I8iO3qB8nqw7IhJBxXnolxgRExd6DzpRkX0Ai0rGogcnRkF8l5V7yQtAiOjOK0xikMXryiJXqBtTQ4R1N0rfgVhJhC9xxWOA1oXPauPfEeqqT6q9ndqFRgzKJUDHgY21YUn7cv2qqxC5cCWjHaBMeCpsAoUdLo1fJTWiMYT2VZRF6rXNoM0prNHllXosoYExggMq/j0wBHhE5CKvQcnNG2rxqjeNFx2wG8TdTJfnzilxXeTMa75Dz3BIvwSvnuKo79YNEZ2Vx5G5PnwY92+m4yRAsOPK744yOXHEFe37yZjbH8wvHMXG/TSBVNh3b6bjLECA+THsItUwSeSTOvBMFpggEEvlUlIqh/3Uo3xAoPD39dNm1ng+mgmigtmhcAAVjFZdxBy5+ojJ8hUtF/WK1VGo1Gqv9roXaIL7aqJ7z8//K0xGcNkGHlpxSeJWWMRsxUrsGRwDfcOssiiP+A6TgdZ5OA4zbiGu3ktj08IbjweDmRmZx8jixSyXDcUaA7V9rNQvkwWobCxrba5/myHl0VkxmIVTOR+sggBOyZmxOP7cd/b7uzf2zf7F79cOOKSU0IW37iuu7el/qy3nDK+n1zPrZvX2LQZ258Vk8UP+/88/+P4vnwTdkTsvdVymUXyfdcJrCO7K2JaeBupsshNFhc8tqcnIjm4/JWfWIFiPvspu89RKrAkgY1jmxK2MOGp6X6uqGRLfjwjoyxOVMoOLLKb+v0PZr/eBI3NITKzHxxrDoWmTBD+Ay1wvqEtpBKUAAAAAElFTkSuQmCC";function _g(){return c.jsx("footer",{className:"footer bg-white pt-5 pb-3 mt-auto",children:c.jsxs("div",{className:"container",children:[c.jsxs("div",{className:"row d-flex justify-content-between gap-4 gap-lg-0",children:[c.jsxs("div",{className:"col-12 col-lg-4",children:[c.jsx("img",{src:Di,alt:"Holidaze logo",className:"footer-logo mb-3",height:65}),c.jsx("p",{className:"footer-text",children:"Holidaze connects modern travellers with carefully selected places to stay, combining luxury and simplicity in one booking experience."})]}),c.jsxs("div",{className:"col-12 col-lg-3 mt-lg-4",children:[c.jsx("h4",{className:"mb-3",children:"Contact"}),c.jsxs("ul",{className:"list-unstyled d-flex flex-column gap-3",children:[c.jsxs("li",{className:"d-flex align-items-center",children:[c.jsx("i",{className:"fa-solid fa-square-phone me-2 text-primary fs-4"})," +14722771809"]}),c.jsxs("li",{className:"d-flex align-items-center",children:[c.jsx("i",{className:"fa-solid fa-square-envelope me-2 text-primary fs-4"})," ","holidaze@support.com"]}),c.jsxs("li",{className:"d-flex align-items-center",children:[c.jsx("img",{src:vg,alt:"Location icon",className:"me-2",height:19}),c.jsxs("p",{className:"mb-0",children:["400 Market Street,",c.jsx("br",{}),"San Francisco, 94102 CA"]})]})]})]}),c.jsxs("div",{className:"col-6 col-lg-2 mt-lg-4",children:[c.jsx("h4",{className:"mb-3",children:"Navigate"}),c.jsxs("ul",{className:"list-unstyled d-flex flex-column gap-2",children:[c.jsx("li",{children:c.jsx(de,{className:"text-decoration-none text-dark",to:"/",children:"Home"})}),c.jsx("li",{children:c.jsx(de,{className:"text-decoration-none text-dark",to:"/venues",children:"Venues"})}),c.jsx("li",{children:c.jsx(de,{className:"text-decoration-none text-dark",to:"/login",children:"Login"})}),c.jsx("li",{children:c.jsx(de,{className:"text-decoration-none text-dark",to:"/register",children:"Register"})})]})]}),c.jsxs("div",{className:"col-6 col-lg-2 mt-lg-4",children:[c.jsx("h4",{className:"mb-3",children:"Follow Us"}),c.jsxs("ul",{className:"list-unstyled d-flex flex-column gap-2",children:[c.jsx("li",{children:c.jsx("a",{className:"text-decoration-none text-dark",href:"#",children:"Facebook"})}),c.jsx("li",{children:c.jsx("a",{className:"text-decoration-none text-dark",href:"#",children:"Instagram"})}),c.jsx("li",{children:c.jsx("a",{className:"text-decoration-none text-dark",href:"#",children:"LinkedIn"})}),c.jsx("li",{children:c.jsx("a",{className:"text-decoration-none text-dark",href:"#",children:"Twitter"})})]})]})]}),c.jsx("div",{className:"pt-4 mt-4 text-neutral small",children:"2026 Holidaze. All rights reserved."})]})})}function yg(){const{pathname:t}=Gr(),i=t==="/"||t==="/venues";return c.jsxs(c.Fragment,{children:[i?c.jsx(pg,{}):c.jsx(gg,{}),c.jsx(fg,{}),c.jsx(_g,{})]})}Fc.createRoot(document.getElementById("root")).render(c.jsx(w.StrictMode,{children:c.jsx(Bc,{children:c.jsx(yg,{})})}));
